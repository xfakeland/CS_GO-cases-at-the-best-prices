/*! smartchat - v2.1.12 - 2017-11-30 */
var JSON;JSON||(JSON={}),function(){function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){
var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(a){return 10>a?"0"+a:a}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);
if(rep=b,!b||"function"==typeof b||"object"==typeof b&&"number"==typeof b.length)return str("",{"":a});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),SockJS=function(){var a=document,b=window,c={},d=function(){};d.prototype.addEventListener=function(a,b){this._listeners||(this._listeners={}),a in this._listeners||(this._listeners[a]=[]);
var d=this._listeners[a];-1===c.arrIndexOf(d,b)&&d.push(b)},d.prototype.removeEventListener=function(a,b){if(this._listeners&&a in this._listeners){var d=this._listeners[a],e=c.arrIndexOf(d,b);return-1!==e?void(d.length>1?this._listeners[a]=d.slice(0,e).concat(d.slice(e+1)):delete this._listeners[a]):void 0}},d.prototype.dispatchEvent=function(a){var b=a.type,c=Array.prototype.slice.call(arguments,0);if(this["on"+b]&&this["on"+b].apply(this,c),this._listeners&&b in this._listeners)for(var d=0;d<this._listeners[b].length;d++)this._listeners[b][d].apply(this,c)};var e=function(a,b){if(this.type=a,"undefined"!=typeof b)for(var c in b)b.hasOwnProperty(c)&&(this[c]=b[c])};e.prototype.toString=function(){var a=[];for(var b in this)if(this.hasOwnProperty(b)){var c=this[b];"function"==typeof c&&(c="[function]"),a.push(b+"="+c)}return"SimpleEvent("+a.join(", ")+")"};var f=function(a){var b=this;b._events=a||[],b._listeners={}};f.prototype.emit=function(a){var b=this;if(b._verifyType(a),!b._nuked){
var c=Array.prototype.slice.call(arguments,1);if(b["on"+a]&&b["on"+a].apply(b,c),a in b._listeners)for(var d=0;d<b._listeners[a].length;d++)b._listeners[a][d].apply(b,c)}},f.prototype.on=function(a,b){var c=this;c._verifyType(a),c._nuked||(a in c._listeners||(c._listeners[a]=[]),c._listeners[a].push(b))},f.prototype._verifyType=function(a){var b=this;-1===c.arrIndexOf(b._events,a)&&c.log("Event "+JSON.stringify(a)+" not listed "+JSON.stringify(b._events)+" in "+b)},f.prototype.nuke=function(){var a=this;a._nuked=!0;for(var b=0;b<a._events.length;b++)delete a[a._events[b]];a._listeners={}};var g="abcdefghijklmnopqrstuvwxyz0123456789_";c.random_string=function(a,b){b=b||g.length;var c,d=[];for(c=0;a>c;c++)d.push(g.substr(Math.floor(Math.random()*b),1));return d.join("")},c.random_number=function(a){return Math.floor(Math.random()*a)},c.random_number_string=function(a){var b=(""+(a-1)).length,d=Array(b+1).join("0");return(d+c.random_number(a)).slice(-b)},c.getOrigin=function(a){a+="/";var b=a.split("/").slice(0,3);
return b.join("/")},c.isSameOriginUrl=function(a,c){return c||(c=b.location.href),a.split("/").slice(0,3).join("/")===c.split("/").slice(0,3).join("/")},c.getParentDomain=function(a){if(/^[0-9.]*$/.test(a))return a;if(/^\[/.test(a))return a;if(!/[.]/.test(a))return a;var b=a.split(".").slice(1);return b.join(".")},c.objectExtend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};var h="_jp";c.polluteGlobalNamespace=function(){h in b||(b[h]={})},c.closeFrame=function(a,b){return"c"+JSON.stringify([a,b])},c.userSetCode=function(a){return 1e3===a||a>=3e3&&4999>=a},c.countRTO=function(a){var b;return b=a>100?3*a:a+200},c.log=function(){b.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},c.bind=function(a,b){return a.bind?a.bind(b):function(){return a.apply(b,arguments)}},c.flatUrl=function(a){return-1===a.indexOf("?")&&-1===a.indexOf("#")},c.amendUrl=function(b){var d=a.location;if(!b)throw new Error("Wrong url for SockJS");if(!c.flatUrl(b))throw new Error("Only basic urls are supported in SockJS");
return 0===b.indexOf("//")&&(b=d.protocol+b),0===b.indexOf("/")&&(b=d.protocol+"//"+d.host+b),b=b.replace(/[\/]+$/,"")},c.arrIndexOf=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},c.arrSkip=function(a,b){var d=c.arrIndexOf(a,b);if(-1===d)return a.slice();var e=a.slice(0,d);return e.concat(a.slice(d+1))},c.isArray=Array.isArray||function(a){return{}.toString.call(a).indexOf("Array")>=0},c.delay=function(a,b){return"function"==typeof a&&(b=a,a=0),setTimeout(b,a)};var i,j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b",
"":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b",
"⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","\ufeff":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},l=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,m=JSON&&JSON.stringify||function(a){
return j.lastIndex=0,j.test(a)&&(a=a.replace(j,function(a){return k[a]})),'"'+a+'"'},n=function(a){var b,c={},d=[];for(b=0;65536>b;b++)d.push(String.fromCharCode(b));return a.lastIndex=0,d.join("").replace(a,function(a){return c[a]="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),""}),a.lastIndex=0,c};c.quote=function(a){var b=m(a);return l.lastIndex=0,l.test(b)?(i||(i=n(l)),b.replace(l,function(a){return i[a]})):b};var o=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];c.probeProtocols=function(){for(var a={},b=0;b<o.length;b++){var c=o[b];a[c]=y[c]&&y[c].enabled()}return a},c.detectProtocols=function(a,b,c){var d={},e=[];b||(b=o);for(var f=0;f<b.length;f++){var g=b[f];d[g]=a[g]}var h=function(a){var b=a.shift();d[b]?e.push(b):a.length>0&&h(a)};return c.websocket!==!1&&h(["websocket"]),d["xhr-streaming"]&&!c.null_origin?e.push("xhr-streaming"):!d["xdr-streaming"]||c.cookie_needed||c.null_origin?h(["iframe-eventsource","iframe-htmlfile"]):e.push("xdr-streaming"),
d["xhr-polling"]&&!c.null_origin?e.push("xhr-polling"):!d["xdr-polling"]||c.cookie_needed||c.null_origin?h(["iframe-xhr-polling","jsonp-polling"]):e.push("xdr-polling"),e};var p="_sockjs_global";c.createHook=function(){var a="a"+c.random_string(8);if(!(p in b)){var d={};b[p]=function(a){return a in d||(d[a]={id:a,del:function(){delete d[a]}}),d[a]}}return b[p](a)},c.attachMessage=function(a){c.attachEvent("message",a)},c.attachEvent=function(c,d){"undefined"!=typeof b.addEventListener?b.addEventListener(c,d,!1):(a.attachEvent("on"+c,d),b.attachEvent("on"+c,d))},c.detachMessage=function(a){c.detachEvent("message",a)},c.detachEvent=function(c,d){"undefined"!=typeof b.addEventListener?b.removeEventListener(c,d,!1):(a.detachEvent("on"+c,d),b.detachEvent("on"+c,d))};var q={},r=!1,s=function(){for(var a in q)q[a](),delete q[a]},t=function(){r||(r=!0,s())};c.attachEvent("unload",t),c.unload_add=function(a){var b=c.random_string(8);return q[b]=a,r&&c.delay(s),b},c.unload_del=function(a){a in q&&delete q[a];
},c.createIframe=function(b,d){var e,f,g=a.createElement("iframe"),h=function(){clearTimeout(e);try{g.onload=null}catch(a){}g.onerror=null},i=function(){g&&(h(),setTimeout(function(){g&&g.parentNode.removeChild(g),g=null},0),c.unload_del(f))},j=function(a){g&&(i(),d(a))},k=function(a,b){try{g&&g.contentWindow&&g.contentWindow.postMessage(a,b)}catch(c){}};return g.src=b,g.style.display="none",g.style.position="absolute",g.onerror=function(){j("onerror")},g.onload=function(){clearTimeout(e),e=setTimeout(function(){j("onload timeout")},2e3)},a.body.appendChild(g),e=setTimeout(function(){j("timeout")},15e3),f=c.unload_add(i),{post:k,cleanup:i,loaded:h}},c.createHtmlfile=function(a,d){var e,f,g,i=new ActiveXObject("htmlfile"),j=function(){clearTimeout(e)},k=function(){i&&(j(),c.unload_del(f),g.parentNode.removeChild(g),g=i=null,CollectGarbage())},l=function(a){i&&(k(),d(a))},m=function(a,b){try{g&&g.contentWindow&&g.contentWindow.postMessage(a,b)}catch(c){}};i.open(),i.write('<html><script>document.domain="'+document.domain+'";</script></html>'),
i.close(),i.parentWindow[h]=b[h];var n=i.createElement("div");return i.body.appendChild(n),g=i.createElement("iframe"),n.appendChild(g),g.src=a,e=setTimeout(function(){l("timeout")},15e3),f=c.unload_add(k),{post:m,cleanup:k,loaded:j}};var u=function(){};u.prototype=new f(["chunk","finish"]),u.prototype._start=function(a,d,e,f){var g=this;try{g.xhr=new XMLHttpRequest}catch(h){}if(!g.xhr)try{g.xhr=new b.ActiveXObject("Microsoft.XMLHTTP")}catch(h){}(b.ActiveXObject||b.XDomainRequest)&&(d+=(-1===d.indexOf("?")?"?":"&")+"t="+ +new Date),g.unload_ref=c.unload_add(function(){g._cleanup(!0)});try{g.xhr.open(a,d,!0)}catch(i){return g.emit("finish",0,""),void g._cleanup()}if(f&&f.no_credentials||(g.xhr.withCredentials="true"),f&&f.headers)for(var j in f.headers)g.xhr.setRequestHeader(j,f.headers[j]);g.xhr.onreadystatechange=function(){if(g.xhr){var a=g.xhr;switch(a.readyState){case 3:try{var b=a.status,c=a.responseText}catch(a){}1223===b&&(b=204),c&&c.length>0&&g.emit("chunk",b,c);break;case 4:var b=a.status;
1223===b&&(b=204),g.emit("finish",b,a.responseText),g._cleanup(!1)}}},g.xhr.send(e)},u.prototype._cleanup=function(a){var b=this;if(b.xhr){if(c.unload_del(b.unload_ref),b.xhr.onreadystatechange=function(){},a)try{b.xhr.abort()}catch(d){}b.unload_ref=b.xhr=null}},u.prototype.close=function(){var a=this;a.nuke(),a._cleanup(!0)};var v=c.XHRCorsObject=function(){var a=this,b=arguments;c.delay(function(){a._start.apply(a,b)})};v.prototype=new u;var w=c.XHRLocalObject=function(a,b,d){var e=this;c.delay(function(){e._start(a,b,d,{no_credentials:!0})})};w.prototype=new u;var x=c.XDRObject=function(a,b,d){var e=this;c.delay(function(){e._start(a,b,d)})};x.prototype=new f(["chunk","finish"]),x.prototype._start=function(a,b,d){var e=this,f=new XDomainRequest;b+=(-1===b.indexOf("?")?"?":"&")+"t="+ +new Date;var g=f.ontimeout=f.onerror=function(){e.emit("finish",0,""),e._cleanup(!1)};f.onprogress=function(){e.emit("chunk",200,f.responseText)},f.onload=function(){e.emit("finish",200,f.responseText),e._cleanup(!1);
},e.xdr=f,e.unload_ref=c.unload_add(function(){e._cleanup(!0)});try{e.xdr.open(a,b),e.xdr.send(d)}catch(h){g()}},x.prototype._cleanup=function(a){var b=this;if(b.xdr){if(c.unload_del(b.unload_ref),b.xdr.ontimeout=b.xdr.onerror=b.xdr.onprogress=b.xdr.onload=null,a)try{b.xdr.abort()}catch(d){}b.unload_ref=b.xdr=null}},x.prototype.close=function(){var a=this;a.nuke(),a._cleanup(!0)},c.isXHRCorsCapable=function(){return b.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:b.XDomainRequest&&a.domain?2:L.enabled()?3:4};var y=function(a,d,e){if(this===b)return new y(a,d,e);var f,g=this;g._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},e&&c.objectExtend(g._options,e),g._base_url=c.amendUrl(a),g._server=g._options.server||c.random_number_string(1e3),g._options.protocols_whitelist&&g._options.protocols_whitelist.length?f=g._options.protocols_whitelist:(f="string"==typeof d&&d.length>0?[d]:c.isArray(d)?d:null,f&&g._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),
g._protocols=[],g.protocol=null,g.readyState=y.CONNECTING,g._ir=S(g._base_url),g._ir.onfinish=function(a,b){g._ir=null,a?(g._options.info&&(a=c.objectExtend(a,g._options.info)),g._options.rtt&&(b=g._options.rtt),g._applyInfo(a,b,f),g._didClose()):g._didClose(1002,"Can't connect to server",!0)}};y.prototype=new d,y.version="0.3.4",y.CONNECTING=0,y.OPEN=1,y.CLOSING=2,y.CLOSED=3,y.prototype._debug=function(){this._options.debug&&c.log.apply(c,arguments)},y.prototype._dispatchOpen=function(){var a=this;a.readyState===y.CONNECTING?(a._transport_tref&&(clearTimeout(a._transport_tref),a._transport_tref=null),a.readyState=y.OPEN,a.dispatchEvent(new e("open"))):a._didClose(1006,"Server lost session")},y.prototype._dispatchMessage=function(a){var b=this;b.readyState===y.OPEN&&b.dispatchEvent(new e("message",{data:a}))},y.prototype._dispatchHeartbeat=function(a){var b=this;b.readyState===y.OPEN&&b.dispatchEvent(new e("heartbeat",{}))},y.prototype._didClose=function(a,b,d){var f=this;if(f.readyState!==y.CONNECTING&&f.readyState!==y.OPEN&&f.readyState!==y.CLOSING)throw new Error("INVALID_STATE_ERR");
f._ir&&(f._ir.nuke(),f._ir=null),f._transport&&(f._transport.doCleanup(),f._transport=null);var g=new e("close",{code:a,reason:b,wasClean:c.userSetCode(a)});if(!c.userSetCode(a)&&f.readyState===y.CONNECTING&&!d){if(f._try_next_protocol(g))return;g=new e("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:g})}f.readyState=y.CLOSED,c.delay(function(){f.dispatchEvent(g)})},y.prototype._didMessage=function(a){var b=this,c=a.slice(0,1);switch(c){case"o":b._dispatchOpen();break;case"a":for(var d=JSON.parse(a.slice(1)||"[]"),e=0;e<d.length;e++)b._dispatchMessage(d[e]);break;case"m":var d=JSON.parse(a.slice(1)||"null");b._dispatchMessage(d);break;case"c":var d=JSON.parse(a.slice(1)||"[]");b._didClose(d[0],d[1]);break;case"h":b._dispatchHeartbeat()}},y.prototype._try_next_protocol=function(b){var d=this;for(d.protocol&&(d._debug("Closed transport:",d.protocol,""+b),d.protocol=null),d._transport_tref&&(clearTimeout(d._transport_tref),d._transport_tref=null);;){var e=d.protocol=d._protocols.shift();
if(!e)return!1;if(y[e]&&y[e].need_body===!0&&(!a.body||"undefined"!=typeof a.readyState&&"complete"!==a.readyState))return d._protocols.unshift(e),d.protocol="waiting-for-load",c.attachEvent("load",function(){d._try_next_protocol()}),!0;if(y[e]&&y[e].enabled(d._options)){var f=y[e].roundTrips||1,g=(d._options.rto||0)*f||5e3;d._transport_tref=c.delay(g,function(){d.readyState===y.CONNECTING&&d._didClose(2007,"Transport timeouted")});var h=c.random_string(8),i=d._base_url+"/"+d._server+"/"+h;return d._debug("Opening transport:",e," url:"+i," RTO:"+d._options.rto),d._transport=new y[e](d,i,d._base_url),!0}d._debug("Skipping transport:",e)}},y.prototype.close=function(a,b){var d=this;if(a&&!c.userSetCode(a))throw new Error("INVALID_ACCESS_ERR");return d.readyState!==y.CONNECTING&&d.readyState!==y.OPEN?!1:(d.readyState=y.CLOSING,d._didClose(a||1e3,b||"Normal closure"),!0)},y.prototype.send=function(a){var b=this;if(b.readyState===y.CONNECTING)throw new Error("INVALID_STATE_ERR");return b.readyState===y.OPEN&&b._transport.doSend(c.quote(""+a)),
!0},y.prototype._applyInfo=function(b,d,e){var f=this;f._options.info=b,f._options.rtt=d,f._options.rto=c.countRTO(d),f._options.info.null_origin=!a.domain;var g=c.probeProtocols();f._protocols=c.detectProtocols(g,e,b)};var z=y.websocket=function(a,d){var e=this,f=d+"/websocket";f="https"===f.slice(0,5)?"wss"+f.slice(5):"ws"+f.slice(4),e.ri=a,e.url=f;var g=b.WebSocket||b.MozWebSocket;e.ws=new g(e.url),e.ws.onmessage=function(a){e.ri._didMessage(a.data)},e.unload_ref=c.unload_add(function(){e.ws.close()}),e.ws.onclose=function(){e.ri._didMessage(c.closeFrame(1006,"WebSocket connection broken"))}};z.prototype.doSend=function(a){this.ws.send("["+a+"]")},z.prototype.doCleanup=function(){var a=this,b=a.ws;b&&(b.onmessage=b.onclose=null,b.close(),c.unload_del(a.unload_ref),a.unload_ref=a.ri=a.ws=null)},z.enabled=function(){return!!b.WebSocket||!!b.MozWebSocket},z.roundTrips=2;var A=function(){};A.prototype.send_constructor=function(a){var b=this;b.send_buffer=[],b.sender=a},A.prototype.doSend=function(a){
var b=this;b.send_buffer.push(a),b.send_stop||b.send_schedule()},A.prototype.send_schedule_wait=function(){var a,b=this;b.send_stop=function(){b.send_stop=null,clearTimeout(a)},a=c.delay(25,function(){b.send_stop=null,b.send_schedule()})},A.prototype.send_schedule=function(){var a=this;if(a.send_buffer.length>0){var b="["+a.send_buffer.join(",")+"]";a.send_stop=a.sender(a.trans_url,b,function(b,c){a.send_stop=null,b===!1?a.ri._didClose(1006,"Sending error "+c):a.send_schedule_wait()}),a.send_buffer=[]}},A.prototype.send_destructor=function(){var a=this;a._send_stop&&a._send_stop(),a._send_stop=null};var B=function(b,d,e){var f=this;if(!("_send_form"in f)){var g=f._send_form=a.createElement("form"),h=f._send_area=a.createElement("textarea");h.name="d",g.style.display="none",g.style.position="absolute",g.method="POST",g.enctype="application/x-www-form-urlencoded",g.acceptCharset="UTF-8",g.appendChild(h),a.body.appendChild(g)}var g=f._send_form,h=f._send_area,i="a"+c.random_string(8);g.target=i,
g.action=b+"/jsonp_send?i="+i;var j;try{j=a.createElement('<iframe name="'+i+'">')}catch(k){j=a.createElement("iframe"),j.name=i}j.id=i,g.appendChild(j),j.style.display="none";try{h.value=d}catch(l){c.log("Your browser is seriously broken. Go home! "+l.message)}g.submit();var m=function(a){j.onerror&&(j.onreadystatechange=j.onerror=j.onload=null,c.delay(500,function(){j.parentNode.removeChild(j),j=null}),h.value="",e(!0))};return j.onerror=j.onload=m,j.onreadystatechange=function(a){"complete"==j.readyState&&m()},m},C=function(a){return function(b,c,d){var e=new a("POST",b+"/xhr_send",c);return e.onfinish=function(a,b){d(200===a||204===a,"http status "+a)},function(a){d(!1,a)}}},D=function(b,d){var e,f,g=a.createElement("script"),h=function(a){f&&(f.parentNode.removeChild(f),f=null),g&&(clearTimeout(e),g.parentNode.removeChild(g),g.onreadystatechange=g.onerror=g.onload=g.onclick=null,g=null,d(a),d=null)},i=!1,j=null;if(g.id="a"+c.random_string(8),g.src=b,g.type="text/javascript",g.charset="UTF-8",
g.onerror=function(a){j||(j=setTimeout(function(){i||h(c.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},g.onload=function(a){h(c.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},g.onreadystatechange=function(a){if(/loaded|closed/.test(g.readyState)){if(g&&g.htmlFor&&g.onclick){i=!0;try{g.onclick()}catch(b){}}g&&h(c.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof g.async&&a.attachEvent)if(/opera/i.test(navigator.userAgent))f=a.createElement("script"),f.text="try{var a = document.getElementById('"+g.id+"'); if(a)a.onerror();}catch(x){};",g.async=f.async=!1;else{try{g.htmlFor=g.id,g.event="onclick"}catch(k){}g.async=!0}"undefined"!=typeof g.async&&(g.async=!0),e=setTimeout(function(){h(c.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var l=a.getElementsByTagName("head")[0];return l.insertBefore(g,l.firstChild),f&&l.insertBefore(f,l.firstChild),h},E=y["jsonp-polling"]=function(a,b){c.polluteGlobalNamespace();
var d=this;d.ri=a,d.trans_url=b,d.send_constructor(B),d._schedule_recv()};E.prototype=new A,E.prototype._schedule_recv=function(){var a=this,b=function(b){a._recv_stop=null,b&&(a._is_closing||a.ri._didMessage(b)),a._is_closing||a._schedule_recv()};a._recv_stop=F(a.trans_url+"/jsonp",D,b)},E.enabled=function(){return!0},E.need_body=!0,E.prototype.doCleanup=function(){var a=this;a._is_closing=!0,a._recv_stop&&a._recv_stop(),a.ri=a._recv_stop=null,a.send_destructor()};var F=function(a,d,e){var f="a"+c.random_string(6),g=a+"?c="+escape(h+"."+f),i=0,j=function(a){switch(i){case 0:delete b[h][f],e(a);break;case 1:e(a),i=2;break;case 2:delete b[h][f]}},k=d(g,j);b[h][f]=k;var l=function(){b[h][f]&&(i=1,b[h][f](c.closeFrame(1e3,"JSONP user aborted read")))};return l},G=function(){};G.prototype=new A,G.prototype.run=function(a,b,c,d,e){var f=this;f.ri=a,f.trans_url=b,f.send_constructor(C(e)),f.poll=new $(a,d,b+c,e)},G.prototype.doCleanup=function(){var a=this;a.poll&&(a.poll.abort(),a.poll=null)};
var H=y["xhr-streaming"]=function(a,b){this.run(a,b,"/xhr_streaming",da,c.XHRCorsObject)};H.prototype=new G,H.enabled=function(){return b.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},H.roundTrips=2,H.need_body=!0;var I=y["xdr-streaming"]=function(a,b){this.run(a,b,"/xhr_streaming",da,c.XDRObject)};I.prototype=new G,I.enabled=function(){return!!b.XDomainRequest},I.roundTrips=2;var J=y["xhr-polling"]=function(a,b){this.run(a,b,"/xhr",da,c.XHRCorsObject)};J.prototype=new G,J.enabled=H.enabled,J.roundTrips=2;var K=y["xdr-polling"]=function(a,b){this.run(a,b,"/xhr",da,c.XDRObject)};K.prototype=new G,K.enabled=I.enabled,K.roundTrips=2;var L=function(){};L.prototype.i_constructor=function(a,b,d){var e=this;e.ri=a,e.origin=c.getOrigin(d),e.base_url=d,e.trans_url=b;var f=d+"/iframe.html";e.ri._options.devel&&(f+="?t="+ +new Date),e.window_id=c.random_string(8),f+="#"+e.window_id,e.iframeObj=c.createIframe(f,function(a){e.ri._didClose(1006,"Unable to load an iframe ("+a+")");
}),e.onmessage_cb=c.bind(e.onmessage,e),c.attachMessage(e.onmessage_cb)},L.prototype.doCleanup=function(){var a=this;if(a.iframeObj){c.detachMessage(a.onmessage_cb);try{a.iframeObj.iframe.contentWindow&&a.postMessage("c")}catch(b){}a.iframeObj.cleanup(),a.iframeObj=null,a.onmessage_cb=a.iframeObj=null}},L.prototype.onmessage=function(a){var b=this;if(a.origin===b.origin){var c=a.data.slice(0,8),d=a.data.slice(8,9),e=a.data.slice(9);if(c===b.window_id)switch(d){case"s":b.iframeObj.loaded(),b.postMessage("s",JSON.stringify([y.version,b.protocol,b.trans_url,b.base_url]));break;case"t":b.ri._didMessage(e)}}},L.prototype.postMessage=function(a,b){var c=this;c.iframeObj.post(c.window_id+a+(b||""),c.origin)},L.prototype.doSend=function(a){this.postMessage("m",a)},L.enabled=function(){var a=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof b.postMessage||"object"==typeof b.postMessage)&&!a};var M,N=function(a,d){parent!==b?parent.postMessage(M+a+(d||""),"*"):c.log("Can't postMessage, no parent window.",a,d);
},O=function(){};O.prototype._didClose=function(a,b){N("t",c.closeFrame(a,b))},O.prototype._didMessage=function(a){N("t",a)},O.prototype._doSend=function(a){this._transport.doSend(a)},O.prototype._doCleanup=function(){this._transport.doCleanup()},c.parent_origin=void 0,y.bootstrap_iframe=function(){var d;M=a.location.hash.slice(1);var e=function(a){if(a.source===parent&&("undefined"==typeof c.parent_origin&&(c.parent_origin=a.origin),a.origin===c.parent_origin)){var e=a.data.slice(0,8),f=a.data.slice(8,9),g=a.data.slice(9);if(e===M)switch(f){case"s":var h=JSON.parse(g),i=h[0],j=h[1],k=h[2],l=h[3];if(i!==y.version&&c.log('Incompatibile SockJS! Main site uses: "'+i+'", the iframe: "'+y.version+'".'),!c.flatUrl(k)||!c.flatUrl(l))return void c.log("Only basic urls are supported in SockJS");if(!c.isSameOriginUrl(k)||!c.isSameOriginUrl(l))return void c.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([b.location.href,k,l])+")");d=new O,d._transport=new O[j](d,k,l);
break;case"m":d._doSend(g);break;case"c":d&&d._doCleanup(),d=null}}};c.attachMessage(e),N("s")};var P=function(a,b){var d=this;c.delay(function(){d.doXhr(a,b)})};P.prototype=new f(["finish"]),P.prototype.doXhr=function(a,b){var d=this,e=(new Date).getTime(),f=new b("GET",a+"/info"),g=c.delay(8e3,function(){f.ontimeout()});f.onfinish=function(a,b){if(clearTimeout(g),g=null,200===a){var c=(new Date).getTime()-e,f=JSON.parse(b);"object"!=typeof f&&(f={}),d.emit("finish",f,c)}else d.emit("finish")},f.ontimeout=function(){f.close(),d.emit("finish")}};var Q=function(b){var d=this,e=function(){var a=new L;a.protocol="w-iframe-info-receiver";var c=function(b){if("string"==typeof b&&"m"===b.substr(0,1)){var c=JSON.parse(b.substr(1)),e=c[0],f=c[1];d.emit("finish",e,f)}else d.emit("finish");a.doCleanup(),a=null},e={_options:{},_didClose:c,_didMessage:c};a.i_constructor(e,b,b)};a.body?e():c.attachEvent("load",e)};Q.prototype=new f(["finish"]);var R=function(){var a=this;c.delay(function(){a.emit("finish",{},2e3);
})};R.prototype=new f(["finish"]);var S=function(a){if(c.isSameOriginUrl(a))return new P(a,c.XHRLocalObject);switch(c.isXHRCorsCapable()){case 1:return new P(a,c.XHRLocalObject);case 2:return new P(a,c.XDRObject);case 3:return new Q(a);default:return new R}},T=O["w-iframe-info-receiver"]=function(a,b,d){var e=new P(d,c.XHRLocalObject);e.onfinish=function(b,c){a._didMessage("m"+JSON.stringify([b,c])),a._didClose()}};T.prototype.doCleanup=function(){};var U=y["iframe-eventsource"]=function(){var a=this;a.protocol="w-iframe-eventsource",a.i_constructor.apply(a,arguments)};U.prototype=new L,U.enabled=function(){return"EventSource"in b&&L.enabled()},U.need_body=!0,U.roundTrips=3;var V=O["w-iframe-eventsource"]=function(a,b){this.run(a,b,"/eventsource",_,c.XHRLocalObject)};V.prototype=new G;var W=y["iframe-xhr-polling"]=function(){var a=this;a.protocol="w-iframe-xhr-polling",a.i_constructor.apply(a,arguments)};W.prototype=new L,W.enabled=function(){return b.XMLHttpRequest&&L.enabled()},W.need_body=!0,
W.roundTrips=3;var X=O["w-iframe-xhr-polling"]=function(a,b){this.run(a,b,"/xhr",da,c.XHRLocalObject)};X.prototype=new G;var Y=y["iframe-htmlfile"]=function(){var a=this;a.protocol="w-iframe-htmlfile",a.i_constructor.apply(a,arguments)};Y.prototype=new L,Y.enabled=function(){return L.enabled()},Y.need_body=!0,Y.roundTrips=3;var Z=O["w-iframe-htmlfile"]=function(a,b){this.run(a,b,"/htmlfile",ca,c.XHRLocalObject)};Z.prototype=new G;var $=function(a,b,c,d){var e=this;e.ri=a,e.Receiver=b,e.recv_url=c,e.AjaxObject=d,e._scheduleRecv()};$.prototype._scheduleRecv=function(){var a=this,b=a.poll=new a.Receiver(a.recv_url,a.AjaxObject),c=0;b.onmessage=function(b){c+=1,a.ri._didMessage(b.data)},b.onclose=function(c){a.poll=b=b.onmessage=b.onclose=null,a.poll_is_closing||("permanent"===c.reason?a.ri._didClose(1006,"Polling error ("+c.reason+")"):a._scheduleRecv())}},$.prototype.abort=function(){var a=this;a.poll_is_closing=!0,a.poll&&a.poll.abort()};var _=function(a){var b=this,d=new EventSource(a);d.onmessage=function(a){
b.dispatchEvent(new e("message",{data:unescape(a.data)}))},b.es_close=d.onerror=function(a,f){var g=f?"user":2!==d.readyState?"network":"permanent";b.es_close=d.onmessage=d.onerror=null,d.close(),d=null,c.delay(200,function(){b.dispatchEvent(new e("close",{reason:g}))})}};_.prototype=new d,_.prototype.abort=function(){var a=this;a.es_close&&a.es_close({},!0)};var aa,ba=function(){if(void 0===aa)if("ActiveXObject"in b)try{aa=!!new ActiveXObject("htmlfile")}catch(a){}else aa=!1;return aa},ca=function(a){var d=this;c.polluteGlobalNamespace(),d.id="a"+c.random_string(6,26),a+=(-1===a.indexOf("?")?"?":"&")+"c="+escape(h+"."+d.id);var f,g=ba()?c.createHtmlfile:c.createIframe;b[h][d.id]={start:function(){f.loaded()},message:function(a){d.dispatchEvent(new e("message",{data:a}))},stop:function(){d.iframe_close({},"network")}},d.iframe_close=function(a,c){f.cleanup(),d.iframe_close=f=null,delete b[h][d.id],d.dispatchEvent(new e("close",{reason:c}))},f=g(a,function(a){d.iframe_close({},"permanent");
})};ca.prototype=new d,ca.prototype.abort=function(){var a=this;a.iframe_close&&a.iframe_close({},"user")};var da=function(a,b){var c=this,d=0;c.xo=new b("POST",a,null),c.xo.onchunk=function(a,b){if(200===a)for(;;){var f=b.slice(d),g=f.indexOf("\n");if(-1===g)break;d+=g+1;var h=f.slice(0,g);c.dispatchEvent(new e("message",{data:h}))}},c.xo.onfinish=function(a,b){c.xo.onchunk(a,b),c.xo=null;var d=200===a?"network":"permanent";c.dispatchEvent(new e("close",{reason:d}))}};return da.prototype=new d,da.prototype.abort=function(){var a=this;a.xo&&(a.xo.close(),a.dispatchEvent(new e("close",{reason:"user"})),a.xo=null)},y.getUtils=function(){return c},y.getIframeTransport=function(){return L},y}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return SockJS}),function(){this.MooTools={version:"1.4.5",build:"ab8ea8824dc3b24b6666867a2c4ed58ebb762cf0"};var a=this.typeOf=function(a){if(null==a)return"null";if(null!=a.$family)return a.$family();
if(a.nodeName){if(1==a.nodeType)return"element";if(3==a.nodeType)return/\S/.test(a.nodeValue)?"textnode":"whitespace"}else if("number"==typeof a.length){if(a.callee)return"arguments";if("item"in a)return"collection"}return typeof a},b=(this.instanceOf=function(a,b){if(null==a)return!1;for(var c=a.$constructor||a.constructor;c;){if(c===b)return!0;c=c.parent}return a.hasOwnProperty?a instanceof b:!1},this.Function),c=!0;for(var d in{toString:1})c=null;c&&(c=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]),b.prototype.overloadSetter=function(a){var b=this;return function(d,e){if(null==d)return this;if(a||"string"!=typeof d){for(var f in d)b.call(this,f,d[f]);if(c)for(var g=c.length;g--;)f=c[g],d.hasOwnProperty(f)&&b.call(this,f,d[f])}else b.call(this,d,e);return this}},b.prototype.overloadGetter=function(a){var b=this;return function(c){var d,e;if("string"!=typeof c?d=c:arguments.length>1?d=arguments:a&&(d=[c]),d){e={};for(var f=0;f<d.length;f++)e[d[f]]=b.call(this,d[f]);
}else e=b.call(this,c);return e}},b.prototype.extend=function(a,b){this[a]=b}.overloadSetter(),b.prototype.implement=function(a,b){this.prototype[a]=b}.overloadSetter();var e=Array.prototype.slice;b.from=function(b){return"function"==a(b)?b:function(){return b}},Array.from=function(b){return null==b?[]:f.isEnumerable(b)&&"string"!=typeof b?"array"==a(b)?b:e.call(b):[b]},Number.from=function(a){var b=parseFloat(a);return isFinite(b)?b:null},String.from=function(a){return a+""},b.implement({hide:function(){return this.$hidden=!0,this},protect:function(){return this.$protected=!0,this}});var f=this.Type=function(b,c){if(b){var d=b.toLowerCase(),e=function(b){return a(b)==d};f["is"+b]=e,null!=c&&(c.prototype.$family=function(){return d}.hide())}return null==c?null:(c.extend(this),c.$constructor=f,c.prototype.$constructor=c,c)},g=Object.prototype.toString;f.isEnumerable=function(a){return null!=a&&"number"==typeof a.length&&"[object Function]"!=g.call(a)};var h={},i=function(b){var c=a(b.prototype);
return h[c]||(h[c]=[])},j=function(b,c){if(!c||!c.$hidden){for(var d=i(this),f=0;f<d.length;f++){var g=d[f];"type"==a(g)?j.call(g,b,c):g.call(this,b,c)}var h=this.prototype[b];null!=h&&h.$protected||(this.prototype[b]=c),null==this[b]&&"function"==a(c)&&k.call(this,b,function(a){return c.apply(a,e.call(arguments,1))})}},k=function(a,b){if(!b||!b.$hidden){var c=this[a];null!=c&&c.$protected||(this[a]=b)}};f.implement({implement:j.overloadSetter(),extend:k.overloadSetter(),alias:function(a,b){j.call(this,a,this.prototype[b])}.overloadSetter(),mirror:function(a){return i(this).push(a),this}}),new f("Type",f);var l=function(a,b,c){var d=b!=Object,e=b.prototype;d&&(b=new f(a,b));for(var g=0,h=c.length;h>g;g++){var i=c[g],j=b[i],k=e[i];j&&j.protect(),d&&k&&b.implement(i,k.protect())}if(d){var m=e.propertyIsEnumerable(c[0]);b.forEachMethod=function(a){if(!m)for(var b=0,d=c.length;d>b;b++)a.call(e,e[c[b]],c[b]);for(var f in e)a.call(e,e[f],f)}}return l};l("String",String,["charAt","charCodeAt","concat","indexOf","lastIndexOf","match","quote","replace","search","slice","split","substr","substring","trim","toLowerCase","toUpperCase"])("Array",Array,["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice","indexOf","lastIndexOf","filter","forEach","every","map","some","reduce","reduceRight"])("Number",Number,["toExponential","toFixed","toLocaleString","toPrecision"])("Function",b,["apply","call","bind"])("RegExp",RegExp,["exec","test"])("Object",Object,["create","defineProperty","defineProperties","keys","getPrototypeOf","getOwnPropertyDescriptor","getOwnPropertyNames","preventExtensions","isExtensible","seal","isSealed","freeze","isFrozen"])("Date",Date,["now"]),
Object.extend=k.overloadSetter(),Date.extend("now",function(){return+new Date}),new f("Boolean",Boolean),Number.prototype.$family=function(){return isFinite(this)?"number":"null"}.hide(),Number.extend("random",function(a,b){return Math.floor(Math.random()*(b-a+1)+a)});var m=Object.prototype.hasOwnProperty;Object.extend("forEach",function(a,b,c){for(var d in a)m.call(a,d)&&b.call(c,a[d],d,a)}),Object.each=Object.forEach,Array.implement({forEach:function(a,b){for(var c=0,d=this.length;d>c;c++)c in this&&a.call(b,this[c],c,this)},each:function(a,b){return Array.forEach(this,a,b),this}});var n=function(b){switch(a(b)){case"array":return b.clone();case"object":return Object.clone(b);default:return b}};Array.implement("clone",function(){for(var a=this.length,b=new Array(a);a--;)b[a]=n(this[a]);return b});var o=function(b,c,d){switch(a(d)){case"object":"object"==a(b[c])?Object.merge(b[c],d):b[c]=Object.clone(d);break;case"array":b[c]=d.clone();break;default:b[c]=d}return b};Object.extend({merge:function(b,c,d){
if("string"==a(c))return o(b,c,d);for(var e=1,f=arguments.length;f>e;e++){var g=arguments[e];for(var h in g)o(b,h,g[h])}return b},clone:function(a){var b={};for(var c in a)b[c]=n(a[c]);return b},append:function(a){for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b]||{};for(var e in d)a[e]=d[e]}return a}}),["Object","WhiteSpace","TextNode","Collection","Arguments"].each(function(a){new f(a)});var p=Date.now();String.extend("uniqueID",function(){return(p++).toString(36)})}(),Array.implement({every:function(a,b){for(var c=0,d=this.length>>>0;d>c;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0},filter:function(a,b){for(var c,d=[],e=0,f=this.length>>>0;f>e;e++)e in this&&(c=this[e],a.call(b,c,e,this)&&d.push(c));return d},indexOf:function(a,b){for(var c=this.length>>>0,d=0>b?Math.max(0,c+b):b||0;c>d;d++)if(this[d]===a)return d;return-1},map:function(a,b){for(var c=this.length>>>0,d=Array(c),e=0;c>e;e++)e in this&&(d[e]=a.call(b,this[e],e,this));return d},some:function(a,b){
for(var c=0,d=this.length>>>0;d>c;c++)if(c in this&&a.call(b,this[c],c,this))return!0;return!1},clean:function(){return this.filter(function(a){return null!=a})},invoke:function(a){var b=Array.slice(arguments,1);return this.map(function(c){return c[a].apply(c,b)})},associate:function(a){for(var b={},c=Math.min(this.length,a.length),d=0;c>d;d++)b[a[d]]=this[d];return b},link:function(a){for(var b={},c=0,d=this.length;d>c;c++)for(var e in a)if(a[e](this[c])){b[e]=this[c],delete a[e];break}return b},contains:function(a,b){return-1!=this.indexOf(a,b)},append:function(a){return this.push.apply(this,a),this},getLast:function(){return this.length?this[this.length-1]:null},getRandom:function(){return this.length?this[Number.random(0,this.length-1)]:null},include:function(a){return this.contains(a)||this.push(a),this},combine:function(a){for(var b=0,c=a.length;c>b;b++)this.include(a[b]);return this},erase:function(a){for(var b=this.length;b--;)this[b]===a&&this.splice(b,1);return this},empty:function(){
return this.length=0,this},flatten:function(){for(var a=[],b=0,c=this.length;c>b;b++){var d=typeOf(this[b]);"null"!=d&&(a=a.concat("array"==d||"collection"==d||"arguments"==d||instanceOf(this[b],Array)?Array.flatten(this[b]):this[b]))}return a},pick:function(){for(var a=0,b=this.length;b>a;a++)if(null!=this[a])return this[a];return null},hexToRgb:function(a){if(3!=this.length)return null;var b=this.map(function(a){return 1==a.length&&(a+=a),a.toInt(16)});return a?b:"rgb("+b+")"},rgbToHex:function(a){if(this.length<3)return null;if(4==this.length&&0==this[3]&&!a)return"transparent";for(var b=[],c=0;3>c;c++){var d=(this[c]-0).toString(16);b.push(1==d.length?"0"+d:d)}return a?b:"#"+b.join("")}}),String.implement({test:function(a,b){return("regexp"==typeOf(a)?a:new RegExp(""+a,b)).test(this)},contains:function(a,b){return b?(b+this+b).indexOf(b+a+b)>-1:String(this).indexOf(a)>-1},trim:function(){return String(this).replace(/^\s+|\s+$/g,"")},clean:function(){return String(this).replace(/\s+/g," ").trim();
},camelCase:function(){return String(this).replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()})},hyphenate:function(){return String(this).replace(/[A-Z]/g,function(a){return"-"+a.charAt(0).toLowerCase()})},capitalize:function(){return String(this).replace(/\b[a-z]/g,function(a){return a.toUpperCase()})},escapeRegExp:function(){return String(this).replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},toInt:function(a){return parseInt(this,a||10)},toFloat:function(){return parseFloat(this)},hexToRgb:function(a){var b=String(this).match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);return b?b.slice(1).hexToRgb(a):null},rgbToHex:function(a){var b=String(this).match(/\d{1,3}/g);return b?b.rgbToHex(a):null},substitute:function(a,b){return String(this).replace(b||/\\?\{([^{}]+)\}/g,function(b,c){return"\\"==b.charAt(0)?b.slice(1):null!=a[c]?a[c]:""})}}),Number.implement({limit:function(a,b){return Math.min(b,Math.max(a,this))},round:function(a){return a=Math.pow(10,a||0).toFixed(0>a?-a:0),Math.round(this*a)/a;
},times:function(a,b){for(var c=0;this>c;c++)a.call(b,c,this)},toFloat:function(){return parseFloat(this)},toInt:function(a){return parseInt(this,a||10)}}),Number.alias("each","times"),function(a){var b={};a.each(function(a){Number[a]||(b[a]=function(){return Math[a].apply(null,[this].concat(Array.from(arguments)))})}),Number.implement(b)}(["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","sin","sqrt","tan"]),Function.extend({attempt:function(){for(var a=0,b=arguments.length;b>a;a++)try{return arguments[a]()}catch(c){}return null}}),Function.implement({attempt:function(a,b){try{return this.apply(b,Array.from(a))}catch(c){}return null},bind:function(a){var b=this,c=arguments.length>1?Array.slice(arguments,1):null,d=function(){},e=function(){var f=a,g=arguments.length;this instanceof e&&(d.prototype=b.prototype,f=new d);var h=c||g?b.apply(f,c&&g?c.concat(Array.slice(arguments)):c||arguments):b.call(f);return f==a?h:f};return e},pass:function(a,b){var c=this;
return null!=a&&(a=Array.from(a)),function(){return c.apply(b,a||arguments)}},delay:function(a,b,c){return setTimeout(this.pass(null==c?[]:c,b),a)},periodical:function(a,b,c){return setInterval(this.pass(null==c?[]:c,b),a)}}),function(){var a=Object.prototype.hasOwnProperty;Object.extend({subset:function(a,b){for(var c={},d=0,e=b.length;e>d;d++){var f=b[d];f in a&&(c[f]=a[f])}return c},map:function(b,c,d){var e={};for(var f in b)a.call(b,f)&&(e[f]=c.call(d,b[f],f,b));return e},filter:function(b,c,d){var e={};for(var f in b){var g=b[f];a.call(b,f)&&c.call(d,g,f,b)&&(e[f]=g)}return e},every:function(b,c,d){for(var e in b)if(a.call(b,e)&&!c.call(d,b[e],e))return!1;return!0},some:function(b,c,d){for(var e in b)if(a.call(b,e)&&c.call(d,b[e],e))return!0;return!1},keys:function(b){var c=[];for(var d in b)a.call(b,d)&&c.push(d);return c},values:function(b){var c=[];for(var d in b)a.call(b,d)&&c.push(b[d]);return c},getLength:function(a){return Object.keys(a).length},keyOf:function(b,c){for(var d in b)if(a.call(b,d)&&b[d]===c)return d;
return null},contains:function(a,b){return null!=Object.keyOf(a,b)},toQueryString:function(a,b){var c=[];return Object.each(a,function(a,d){b&&(d=b+"["+d+"]");var e;switch(typeOf(a)){case"object":e=Object.toQueryString(a,d);break;case"array":var f={};a.each(function(a,b){f[b]=a}),e=Object.toQueryString(f,d);break;default:e=d+"="+encodeURIComponent(a)}null!=a&&c.push(e)}),c.join("&")}})}(),function(){var a=this.document,b=a.window=this,c=navigator.userAgent.toLowerCase(),d=navigator.platform.toLowerCase(),e=c.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],f="ie"==e[1]&&a.documentMode,g=this.Browser={extend:Function.prototype.extend,name:"version"==e[1]?e[3]:e[1],version:f||parseFloat("opera"==e[1]&&e[4]?e[4]:e[2]),Platform:{name:c.match(/ip(?:ad|od|hone)/)?"ios":(c.match(/(?:webos|android)/)||d.match(/mac|win|linux/)||["other"])[0]},Features:{xpath:!!a.evaluate,air:!!b.runtime,query:!!a.querySelector,json:!!b.JSON},
Plugins:{}};g[g.name]=!0,g[g.name+parseInt(g.version,10)]=!0,g.Platform[g.Platform.name]=!0,g.Request=function(){var a=function(){return new XMLHttpRequest},b=function(){return new ActiveXObject("MSXML2.XMLHTTP")},c=function(){return new ActiveXObject("Microsoft.XMLHTTP")};return Function.attempt(function(){return a(),a},function(){return b(),b},function(){return c(),c})}(),g.Features.xhr=!!g.Request;var h=(Function.attempt(function(){return navigator.plugins["Shockwave Flash"].description},function(){return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")})||"0 r0").match(/\d+/g);if(g.Plugins.Flash={version:Number(h[0]||"0."+h[1])||0,build:Number(h[2])||0},g.exec=function(c){if(!c)return c;if(b.execScript)b.execScript(c);else{var d=a.createElement("script");d.setAttribute("type","text/javascript"),d.text=c,a.head.appendChild(d),a.head.removeChild(d)}return c},String.implement("stripScripts",function(a){var b="",c=this.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(a,c){
return b+=c+"\n",""});return a===!0?g.exec(b):"function"==typeOf(a)&&a(b,c),c}),g.extend({Document:this.Document,Window:this.Window,Element:this.Element,Event:this.Event}),this.Window=this.$constructor=new Type("Window",function(){}),this.$family=Function.from("window").hide(),Window.mirror(function(a,c){b[a]=c}),this.Document=a.$constructor=new Type("Document",function(){}),a.$family=Function.from("document").hide(),Document.mirror(function(b,c){a[b]=c}),a.html=a.documentElement,a.head||(a.head=a.getElementsByTagName("head")[0]),a.execCommand)try{a.execCommand("BackgroundImageCache",!1,!0)}catch(i){}if(this.attachEvent&&!this.addEventListener){var j=function(){this.detachEvent("onunload",j),a.head=a.html=a.window=null};this.attachEvent("onunload",j)}var k=Array.from;try{k(a.html.childNodes)}catch(i){Array.from=function(a){if("string"!=typeof a&&Type.isEnumerable(a)&&"array"!=typeOf(a)){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}return k(a)};var l=Array.prototype,m=l.slice;
["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice"].each(function(a){var b=l[a];Array[a]=function(a){return b.apply(Array.from(a),m.call(arguments,1))}})}}(),function(){var a={},b=this.DOMEvent=new Type("DOMEvent",function(b,c){if(c||(c=window),b=b||c.event,b.$extended)return b;this.event=b,this.$extended=!0,this.shift=b.shiftKey,this.control=b.ctrlKey,this.alt=b.altKey,this.meta=b.metaKey;for(var d=this.type=b.type,e=b.target||b.srcElement;e&&3==e.nodeType;)e=e.parentNode;if(this.target=document.id(e),0==d.indexOf("key")){var f=this.code=b.which||b.keyCode;this.key=a[f],"keydown"==d&&(f>111&&124>f?this.key="f"+(f-111):f>95&&106>f&&(this.key=f-96)),null==this.key&&(this.key=String.fromCharCode(f).toLowerCase())}else if("click"==d||"dblclick"==d||"contextmenu"==d||"DOMMouseScroll"==d||0==d.indexOf("mouse")){var g=c.document;if(g=g.compatMode&&"CSS1Compat"!=g.compatMode?g.body:g.html,this.page={x:null!=b.pageX?b.pageX:b.clientX+g.scrollLeft,y:null!=b.pageY?b.pageY:b.clientY+g.scrollTop
},this.client={x:null!=b.pageX?b.pageX-c.pageXOffset:b.clientX,y:null!=b.pageY?b.pageY-c.pageYOffset:b.clientY},("DOMMouseScroll"==d||"mousewheel"==d)&&(this.wheel=b.wheelDelta?b.wheelDelta/120:-(b.detail||0)/3),this.rightClick=3==b.which||2==b.button,"mouseover"==d||"mouseout"==d){for(var h=b.relatedTarget||b[("mouseover"==d?"from":"to")+"Element"];h&&3==h.nodeType;)h=h.parentNode;this.relatedTarget=document.id(h)}}else if(0==d.indexOf("touch")||0==d.indexOf("gesture")){this.rotation=b.rotation,this.scale=b.scale,this.targetTouches=b.targetTouches,this.changedTouches=b.changedTouches;var i=this.touches=b.touches;if(i&&i[0]){var j=i[0];this.page={x:j.pageX,y:j.pageY},this.client={x:j.clientX,y:j.clientY}}}this.client||(this.client={}),this.page||(this.page={})});b.implement({stop:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){return this.event.stopPropagation?this.event.stopPropagation():this.event.cancelBubble=!0,this},preventDefault:function(){return this.event.preventDefault?this.event.preventDefault():this.event.returnValue=!1,
this}}),b.defineKey=function(b,c){return a[b]=c,this},b.defineKeys=b.defineKey.overloadSetter(!0),b.defineKeys({38:"up",40:"down",37:"left",39:"right",27:"esc",32:"space",8:"backspace",9:"tab",46:"delete",13:"enter"})}(),function(){var a=this.Class=new Type("Class",function(d){instanceOf(d,Function)&&(d={initialize:d});var e=function(){if(c(this),e.$prototyping)return this;this.$caller=null;var a=this.initialize?this.initialize.apply(this,arguments):this;return this.$caller=this.caller=null,a}.extend(this).implement(d);return e.$constructor=a,e.prototype.$constructor=e,e.prototype.parent=b,e}),b=function(){if(!this.$caller)throw new Error('The method "parent" cannot be called.');var a=this.$caller.$name,b=this.$caller.$owner.parent,c=b?b.prototype[a]:null;if(!c)throw new Error('The method "'+a+'" has no parent.');return c.apply(this,arguments)},c=function(a){for(var b in a){var d=a[b];switch(typeOf(d)){case"object":var e=function(){};e.prototype=d,a[b]=c(new e);break;case"array":a[b]=d.clone();
}}return a},d=function(a,b,c){c.$origin&&(c=c.$origin);var d=function(){if(c.$protected&&null==this.$caller)throw new Error('The method "'+b+'" cannot be called.');var a=this.caller,e=this.$caller;this.caller=e,this.$caller=d;var f=c.apply(this,arguments);return this.$caller=e,this.caller=a,f}.extend({$owner:a,$origin:c,$name:b});return d},e=function(b,c,e){if(a.Mutators.hasOwnProperty(b)&&(c=a.Mutators[b].call(this,c),null==c))return this;if("function"==typeOf(c)){if(c.$hidden)return this;this.prototype[b]=e?c:d(this,b,c)}else Object.merge(this.prototype,b,c);return this},f=function(a){a.$prototyping=!0;var b=new a;return delete a.$prototyping,b};a.implement("implement",e.overloadSetter()),a.Mutators={Extends:function(a){this.parent=a,this.prototype=f(a)},Implements:function(a){Array.from(a).each(function(a){var b=new a;for(var c in b)e.call(this,c,b[c],!0)},this)}}}(),function(){this.Chain=new Class({$chain:[],chain:function(){return this.$chain.append(Array.flatten(arguments)),this},
callChain:function(){return this.$chain.length?this.$chain.shift().apply(this,arguments):!1},clearChain:function(){return this.$chain.empty(),this}});var a=function(a){return a.replace(/^on([A-Z])/,function(a,b){return b.toLowerCase()})};this.Events=new Class({$events:{},addEvent:function(b,c,d){return b=a(b),this.$events[b]=(this.$events[b]||[]).include(c),d&&(c.internal=!0),this},addEvents:function(a){for(var b in a)this.addEvent(b,a[b]);return this},fireEvent:function(b,c,d){b=a(b);var e=this.$events[b];return e?(c=Array.from(c),e.each(function(a){d?a.delay(d,this,c):a.apply(this,c)},this),this):this},removeEvent:function(b,c){b=a(b);var d=this.$events[b];if(d&&!c.internal){var e=d.indexOf(c);-1!=e&&delete d[e]}return this},removeEvents:function(b){var c;if("object"==typeOf(b)){for(c in b)this.removeEvent(c,b[c]);return this}b&&(b=a(b));for(c in this.$events)if(!b||b==c)for(var d=this.$events[c],e=d.length;e--;)e in d&&this.removeEvent(c,d[e]);return this}}),this.Options=new Class({setOptions:function(){
var a=this.options=Object.merge.apply(null,[{},this.options].append(arguments));if(this.addEvent)for(var b in a)"function"==typeOf(a[b])&&/^on[A-Z]/.test(b)&&(this.addEvent(b,a[b]),delete a[b]);return this}})}(),function(){function a(a,f,g,i,k,m,n,o,p,q,r,s,t,u,v,w){if((f||-1===c)&&(b.expressions[++c]=[],d=-1,f))return"";if(g||i||-1===d){g=g||" ";var x=b.expressions[c];e&&x[d]&&(x[d].reverseCombinator=j(g)),x[++d]={combinator:g,tag:"*"}}var y=b.expressions[c][d];if(k)y.tag=k.replace(h,"");else if(m)y.id=m.replace(h,"");else if(n)n=n.replace(h,""),y.classList||(y.classList=[]),y.classes||(y.classes=[]),y.classList.push(n),y.classes.push({value:n,regexp:new RegExp("(^|\\s)"+l(n)+"(\\s|$)")});else if(t)w=w||v,w=w?w.replace(h,""):null,y.pseudos||(y.pseudos=[]),y.pseudos.push({key:t.replace(h,""),value:w,type:1==s.length?"class":"element"});else if(o){o=o.replace(h,""),r=(r||"").replace(h,"");var z,A;switch(p){case"^=":A=new RegExp("^"+l(r));break;case"$=":A=new RegExp(l(r)+"$");break;case"~=":
A=new RegExp("(^|\\s)"+l(r)+"(\\s|$)");break;case"|=":A=new RegExp("^"+l(r)+"(-|$)");break;case"=":z=function(a){return r==a};break;case"*=":z=function(a){return a&&a.indexOf(r)>-1};break;case"!=":z=function(a){return r!=a};break;default:z=function(a){return!!a}}""==r&&/^[*$^]=$/.test(p)&&(z=function(){return!1}),z||(z=function(a){return a&&A.test(a)}),y.attributes||(y.attributes=[]),y.attributes.push({key:o,operator:p,value:r,test:z})}return""}var b,c,d,e,f={},g={},h=/\\/g,i=function(d,h){if(null==d)return null;if(d.Slick===!0)return d;d=(""+d).replace(/^\s+|\s+$/g,""),e=!!h;var j=e?g:f;if(j[d])return j[d];for(b={Slick:!0,expressions:[],raw:d,reverse:function(){return i(this.raw,!0)}},c=-1;d!=(d=d.replace(m,a)););return b.length=b.expressions.length,j[b.raw]=e?k(b):b},j=function(a){return"!"===a?" ":" "===a?"!":/^!/.test(a)?a.replace(/^!/,""):"!"+a},k=function(a){for(var b=a.expressions,c=0;c<b.length;c++){for(var d=b[c],e={parts:[],tag:"*",combinator:j(d[0].combinator)},f=0;f<d.length;f++){
var g=d[f];g.reverseCombinator||(g.reverseCombinator=" "),g.combinator=g.reverseCombinator,delete g.reverseCombinator}d.reverse().push(e)}return a},l=function(a){return a.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,function(a){return"\\"+a})},m=new RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+l(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),n=this.Slick||{};n.parse=function(a){return i(a)},n.escapeRegExp=l,this.Slick||(this.Slick=n)}.apply("undefined"!=typeof exports?exports:this),function(){var a={},b={},c=Object.prototype.toString;a.isNativeCode=function(a){return/\{\s*\[native code\]\s*\}/.test(""+a)},a.isXML=function(a){return!!a.xmlVersion||!!a.xml||"[object XMLDocument]"==c.call(a)||9==a.nodeType&&"HTML"!=a.documentElement.nodeName;
},a.setDocument=function(a){var c=a.nodeType;if(9==c);else if(c)a=a.ownerDocument;else{if(!a.navigator)return;a=a.document}if(this.document!==a){this.document=a;var d,e=a.documentElement,f=this.getUIDXML(e),g=b[f];if(g)for(d in g)this[d]=g[d];else{g=b[f]={},g.root=e,g.isXMLDocument=this.isXML(a),g.brokenStarGEBTN=g.starSelectsClosedQSA=g.idGetsName=g.brokenMixedCaseQSA=g.brokenGEBCN=g.brokenCheckedQSA=g.brokenEmptyAttributeQSA=g.isHTMLDocument=g.nativeMatchesSelector=!1;var h,i,j,k,l,m,n="slick_uniqueid",o=a.createElement("div"),p=a.body||a.getElementsByTagName("body")[0]||e;p.appendChild(o);try{o.innerHTML='<a id="'+n+'"></a>',g.isHTMLDocument=!!a.getElementById(n)}catch(q){}if(g.isHTMLDocument){o.style.display="none",o.appendChild(a.createComment("")),i=o.getElementsByTagName("*").length>1;try{o.innerHTML="foo</foo>",m=o.getElementsByTagName("*"),h=m&&!!m.length&&"/"==m[0].nodeName.charAt(0)}catch(q){}g.brokenStarGEBTN=i||h;try{o.innerHTML='<a name="'+n+'"></a><b id="'+n+'"></b>',g.idGetsName=a.getElementById(n)===o.firstChild;
}catch(q){}if(o.getElementsByClassName){try{o.innerHTML='<a class="f"></a><a class="b"></a>',o.getElementsByClassName("b").length,o.firstChild.className="b",k=2!=o.getElementsByClassName("b").length}catch(q){}try{o.innerHTML='<a class="a"></a><a class="f b a"></a>',j=2!=o.getElementsByClassName("a").length}catch(q){}g.brokenGEBCN=k||j}if(o.querySelectorAll){try{o.innerHTML="foo</foo>",m=o.querySelectorAll("*"),g.starSelectsClosedQSA=m&&!!m.length&&"/"==m[0].nodeName.charAt(0)}catch(q){}try{o.innerHTML='<a class="MiX"></a>',g.brokenMixedCaseQSA=!o.querySelectorAll(".MiX").length}catch(q){}try{o.innerHTML='<select><option selected="selected">a</option></select>',g.brokenCheckedQSA=0==o.querySelectorAll(":checked").length}catch(q){}try{o.innerHTML='<a class=""></a>',g.brokenEmptyAttributeQSA=0!=o.querySelectorAll('[class*=""]').length}catch(q){}}try{o.innerHTML='<form action="s"><input id="action"/></form>',l="s"!=o.firstChild.getAttribute("action")}catch(q){}if(g.nativeMatchesSelector=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector,
g.nativeMatchesSelector)try{g.nativeMatchesSelector.call(e,":slick"),g.nativeMatchesSelector=null}catch(q){}}try{e.slick_expando=1,delete e.slick_expando,g.getUID=this.getUIDHTML}catch(q){g.getUID=this.getUIDXML}p.removeChild(o),o=m=p=null,g.getAttribute=g.isHTMLDocument&&l?function(a,b){var c=this.attributeGetters[b];if(c)return c.call(a);var d=a.getAttributeNode(b);return d?d.nodeValue:null}:function(a,b){var c=this.attributeGetters[b];return c?c.call(a):a.getAttribute(b)},g.hasAttribute=e&&this.isNativeCode(e.hasAttribute)?function(a,b){return a.hasAttribute(b)}:function(a,b){return a=a.getAttributeNode(b),!(!a||!a.specified&&!a.nodeValue)};var r=e&&this.isNativeCode(e.contains),s=a&&this.isNativeCode(a.contains);g.contains=r&&s?function(a,b){return a.contains(b)}:r&&!s?function(b,c){return b===c||(b===a?a.documentElement:b).contains(c)}:e&&e.compareDocumentPosition?function(a,b){return a===b||!!(16&a.compareDocumentPosition(b))}:function(a,b){if(b)do if(b===a)return!0;while(b=b.parentNode);
return!1},g.documentSorter=e.compareDocumentPosition?function(a,b){return a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b)?-1:a===b?0:1:0}:"sourceIndex"in e?function(a,b){return a.sourceIndex&&b.sourceIndex?a.sourceIndex-b.sourceIndex:0}:a.createRange?function(a,b){if(!a.ownerDocument||!b.ownerDocument)return 0;var c=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();return c.setStart(a,0),c.setEnd(a,0),d.setStart(b,0),d.setEnd(b,0),c.compareBoundaryPoints(Range.START_TO_END,d)}:null,e=null;for(d in g)this[d]=g[d]}}};var d=/^([#.]?)((?:[\w-]+|\*))$/,e=/\[.+[*$^]=(?:""|'')?\]/,f={};a.search=function(a,b,c,g){var h=this.found=g?null:c||[];if(!a)return h;if(a.navigator)a=a.document;else if(!a.nodeType)return h;var i,j,k=this.uniques={},m=!(!c||!c.length),n=9==a.nodeType;if(this.document!==(n?a:a.ownerDocument)&&this.setDocument(a),m)for(j=h.length;j--;)k[this.getUID(h[j])]=!0;if("string"==typeof b){var o=b.match(d);a:if(o){var p,q,r=o[1],s=o[2];
if(r){if("#"==r){if(!this.isHTMLDocument||!n)break a;if(p=a.getElementById(s),!p)return h;if(this.idGetsName&&p.getAttributeNode("id").nodeValue!=s)break a;if(g)return p||null;m&&k[this.getUID(p)]||h.push(p)}else if("."==r){if(!this.isHTMLDocument||(!a.getElementsByClassName||this.brokenGEBCN)&&a.querySelectorAll)break a;if(a.getElementsByClassName&&!this.brokenGEBCN){if(q=a.getElementsByClassName(s),g)return q[0]||null;for(j=0;p=q[j++];)m&&k[this.getUID(p)]||h.push(p)}else{var t=new RegExp("(^|\\s)"+l.escapeRegExp(s)+"(\\s|$)");for(q=a.getElementsByTagName("*"),j=0;p=q[j++];)if(className=p.className,className&&t.test(className)){if(g)return p;m&&k[this.getUID(p)]||h.push(p)}}}}else{if("*"==s&&this.brokenStarGEBTN)break a;if(q=a.getElementsByTagName(s),g)return q[0]||null;for(j=0;p=q[j++];)m&&k[this.getUID(p)]||h.push(p)}return m&&this.sort(h),g?null:h}a:if(a.querySelectorAll){if(!this.isHTMLDocument||f[b]||this.brokenMixedCaseQSA||this.brokenCheckedQSA&&b.indexOf(":checked")>-1||this.brokenEmptyAttributeQSA&&e.test(b)||!n&&b.indexOf(",")>-1||l.disableQSA)break a;
var u=b,v=a;if(!n){var w=v.getAttribute("id"),x="slickid__";v.setAttribute("id",x),u="#"+x+" "+u,a=v.parentNode}try{if(g)return a.querySelector(u)||null;q=a.querySelectorAll(u)}catch(y){f[b]=1;break a}finally{n||(w?v.setAttribute("id",w):v.removeAttribute("id"),a=v)}if(this.starSelectsClosedQSA)for(j=0;p=q[j++];)!(p.nodeName>"@")||m&&k[this.getUID(p)]||h.push(p);else for(j=0;p=q[j++];)m&&k[this.getUID(p)]||h.push(p);return m&&this.sort(h),h}if(i=this.Slick.parse(b),!i.length)return h}else{if(null==b)return h;if(!b.Slick)return this.contains(a.documentElement||a,b)?(h?h.push(b):h=b,h):h;i=b}this.posNTH={},this.posNTHLast={},this.posNTHType={},this.posNTHTypeLast={},this.push=!m&&(g||1==i.length&&1==i.expressions[0].length)?this.pushArray:this.pushUID,null==h&&(h=[]);var z,A,B,C,D,E,F,G,H,I,J,K,L,M,N=i.expressions;a:for(j=0;K=N[j];j++)for(z=0;L=K[z];z++){if(C="combinator:"+L.combinator,!this[C])continue a;if(D=this.isXMLDocument?L.tag:L.tag.toUpperCase(),E=L.id,F=L.classList,G=L.classes,H=L.attributes,
I=L.pseudos,M=z===K.length-1,this.bitUniques={},M?(this.uniques=k,this.found=h):(this.uniques={},this.found=[]),0===z){if(this[C](a,D,E,G,H,I,F),g&&M&&h.length)break a}else if(g&&M){for(A=0,B=J.length;B>A;A++)if(this[C](J[A],D,E,G,H,I,F),h.length)break a}else for(A=0,B=J.length;B>A;A++)this[C](J[A],D,E,G,H,I,F);J=this.found}return(m||i.expressions.length>1)&&this.sort(h),g?h[0]||null:h},a.uidx=1,a.uidk="slick-uniqueid",a.getUIDXML=function(a){var b=a.getAttribute(this.uidk);return b||(b=this.uidx++,a.setAttribute(this.uidk,b)),b},a.getUIDHTML=function(a){return a.uniqueNumber||(a.uniqueNumber=this.uidx++)},a.sort=function(a){return this.documentSorter?(a.sort(this.documentSorter),a):a},a.cacheNTH={},a.matchNTH=/^([+-]?\d*)?([a-z]+)?([+-]\d+)?$/,a.parseNTHArgument=function(a){var b=a.match(this.matchNTH);if(!b)return!1;var c=b[2]||!1,d=b[1]||1;"-"==d&&(d=-1);var e=+b[3]||0;return b="n"==c?{a:d,b:e}:"odd"==c?{a:2,b:1}:"even"==c?{a:2,b:0}:{a:0,b:d},this.cacheNTH[a]=b},a.createNTHPseudo=function(a,b,c,d){
return function(e,f){var g=this.getUID(e);if(!this[c][g]){var h=e.parentNode;if(!h)return!1;var i=h[a],j=1;if(d){var k=e.nodeName;do i.nodeName==k&&(this[c][this.getUID(i)]=j++);while(i=i[b])}else do 1==i.nodeType&&(this[c][this.getUID(i)]=j++);while(i=i[b])}f=f||"n";var l=this.cacheNTH[f]||this.parseNTHArgument(f);if(!l)return!1;var m=l.a,n=l.b,o=this[c][g];if(0==m)return n==o;if(m>0){if(n>o)return!1}else if(o>n)return!1;return(o-n)%m==0}},a.pushArray=function(a,b,c,d,e,f){this.matchSelector(a,b,c,d,e,f)&&this.found.push(a)},a.pushUID=function(a,b,c,d,e,f){var g=this.getUID(a);!this.uniques[g]&&this.matchSelector(a,b,c,d,e,f)&&(this.uniques[g]=!0,this.found.push(a))},a.matchNode=function(a,b){if(this.isHTMLDocument&&this.nativeMatchesSelector)try{return this.nativeMatchesSelector.call(a,b.replace(/\[([^=]+)=\s*([^'"\]]+?)\s*\]/g,'[$1="$2"]'))}catch(c){}var d=this.Slick.parse(b);if(!d)return!0;var e,f=d.expressions,g=0;for(e=0;currentExpression=f[e];e++)if(1==currentExpression.length){var h=currentExpression[0];
if(this.matchSelector(a,this.isXMLDocument?h.tag:h.tag.toUpperCase(),h.id,h.classes,h.attributes,h.pseudos))return!0;g++}if(g==d.length)return!1;var i,j=this.search(this.document,d);for(e=0;i=j[e++];)if(i===a)return!0;return!1},a.matchPseudo=function(a,b,c){var d="pseudo:"+b;if(this[d])return this[d](a,c);var e=this.getAttribute(a,b);return c?c==e:!!e},a.matchSelector=function(a,b,c,d,e,f){if(b){var g=this.isXMLDocument?a.nodeName:a.nodeName.toUpperCase();if("*"==b){if("@">g)return!1}else if(g!=b)return!1}if(c&&a.getAttribute("id")!=c)return!1;var h,i,j;if(d)for(h=d.length;h--;)if(j=this.getAttribute(a,"class"),!j||!d[h].regexp.test(j))return!1;if(e)for(h=e.length;h--;)if(i=e[h],i.operator?!i.test(this.getAttribute(a,i.key)):!this.hasAttribute(a,i.key))return!1;if(f)for(h=f.length;h--;)if(i=f[h],!this.matchPseudo(a,i.key,i.value))return!1;return!0};var g={" ":function(a,b,c,d,e,f,g){var h,i,j;if(this.isHTMLDocument){a:if(c){if(i=this.document.getElementById(c),!i&&a.all||this.idGetsName&&i&&i.getAttributeNode("id").nodeValue!=c){
if(j=a.all[c],!j)return;for(j[0]||(j=[j]),h=0;i=j[h++];){var k=i.getAttributeNode("id");if(k&&k.nodeValue==c){this.push(i,b,null,d,e,f);break}}return}if(!i){if(this.contains(this.root,a))return;break a}if(this.document!==a&&!this.contains(a,i))return;return void this.push(i,b,null,d,e,f)}a:if(d&&a.getElementsByClassName&&!this.brokenGEBCN){if(j=a.getElementsByClassName(g.join(" ")),!j||!j.length)break a;for(h=0;i=j[h++];)this.push(i,b,c,null,e,f);return}}if(j=a.getElementsByTagName(b),j&&j.length)for(this.brokenStarGEBTN||(b=null),h=0;i=j[h++];)this.push(i,b,c,d,e,f)},">":function(a,b,c,d,e,f){if(a=a.firstChild)do 1==a.nodeType&&this.push(a,b,c,d,e,f);while(a=a.nextSibling)},"+":function(a,b,c,d,e,f){for(;a=a.nextSibling;)if(1==a.nodeType){this.push(a,b,c,d,e,f);break}},"^":function(a,b,c,d,e,f){a=a.firstChild,a&&(1==a.nodeType?this.push(a,b,c,d,e,f):this["combinator:+"](a,b,c,d,e,f))},"~":function(a,b,c,d,e,f){for(;a=a.nextSibling;)if(1==a.nodeType){var g=this.getUID(a);if(this.bitUniques[g])break;
this.bitUniques[g]=!0,this.push(a,b,c,d,e,f)}},"++":function(a,b,c,d,e,f){this["combinator:+"](a,b,c,d,e,f),this["combinator:!+"](a,b,c,d,e,f)},"~~":function(a,b,c,d,e,f){this["combinator:~"](a,b,c,d,e,f),this["combinator:!~"](a,b,c,d,e,f)},"!":function(a,b,c,d,e,f){for(;a=a.parentNode;)a!==this.document&&this.push(a,b,c,d,e,f)},"!>":function(a,b,c,d,e,f){a=a.parentNode,a!==this.document&&this.push(a,b,c,d,e,f)},"!+":function(a,b,c,d,e,f){for(;a=a.previousSibling;)if(1==a.nodeType){this.push(a,b,c,d,e,f);break}},"!^":function(a,b,c,d,e,f){a=a.lastChild,a&&(1==a.nodeType?this.push(a,b,c,d,e,f):this["combinator:!+"](a,b,c,d,e,f))},"!~":function(a,b,c,d,e,f){for(;a=a.previousSibling;)if(1==a.nodeType){var g=this.getUID(a);if(this.bitUniques[g])break;this.bitUniques[g]=!0,this.push(a,b,c,d,e,f)}}};for(var h in g)a["combinator:"+h]=g[h];var i={empty:function(a){var b=a.firstChild;return!(b&&1==b.nodeType||(a.innerText||a.textContent||"").length)},not:function(a,b){return!this.matchNode(a,b)},
contains:function(a,b){return(a.innerText||a.textContent||"").indexOf(b)>-1},"first-child":function(a){for(;a=a.previousSibling;)if(1==a.nodeType)return!1;return!0},"last-child":function(a){for(;a=a.nextSibling;)if(1==a.nodeType)return!1;return!0},"only-child":function(a){for(var b=a;b=b.previousSibling;)if(1==b.nodeType)return!1;for(var c=a;c=c.nextSibling;)if(1==c.nodeType)return!1;return!0},"nth-child":a.createNTHPseudo("firstChild","nextSibling","posNTH"),"nth-last-child":a.createNTHPseudo("lastChild","previousSibling","posNTHLast"),"nth-of-type":a.createNTHPseudo("firstChild","nextSibling","posNTHType",!0),"nth-last-of-type":a.createNTHPseudo("lastChild","previousSibling","posNTHTypeLast",!0),index:function(a,b){return this["pseudo:nth-child"](a,""+(b+1))},even:function(a){return this["pseudo:nth-child"](a,"2n")},odd:function(a){return this["pseudo:nth-child"](a,"2n+1")},"first-of-type":function(a){for(var b=a.nodeName;a=a.previousSibling;)if(a.nodeName==b)return!1;return!0},"last-of-type":function(a){
for(var b=a.nodeName;a=a.nextSibling;)if(a.nodeName==b)return!1;return!0},"only-of-type":function(a){for(var b=a,c=a.nodeName;b=b.previousSibling;)if(b.nodeName==c)return!1;for(var d=a;d=d.nextSibling;)if(d.nodeName==c)return!1;return!0},enabled:function(a){return!a.disabled},disabled:function(a){return a.disabled},checked:function(a){return a.checked||a.selected},focus:function(a){return this.isHTMLDocument&&this.document.activeElement===a&&(a.href||a.type||this.hasAttribute(a,"tabindex"))},root:function(a){return a===this.root},selected:function(a){return a.selected}};for(var j in i)a["pseudo:"+j]=i[j];var k=a.attributeGetters={"for":function(){return"htmlFor"in this?this.htmlFor:this.getAttribute("for")},href:function(){return"href"in this?this.getAttribute("href",2):this.getAttribute("href")},style:function(){return this.style?this.style.cssText:this.getAttribute("style")},tabindex:function(){var a=this.getAttributeNode("tabindex");return a&&a.specified?a.nodeValue:null},type:function(){
return this.getAttribute("type")},maxlength:function(){var a=this.getAttributeNode("maxLength");return a&&a.specified?a.nodeValue:null}};k.MAXLENGTH=k.maxLength=k.maxlength;var l=a.Slick=this.Slick||{};l.version="1.1.7",l.search=function(b,c,d){return a.search(b,c,d)},l.find=function(b,c){return a.search(b,c,null,!0)},l.contains=function(b,c){return a.setDocument(b),a.contains(b,c)},l.getAttribute=function(b,c){return a.setDocument(b),a.getAttribute(b,c)},l.hasAttribute=function(b,c){return a.setDocument(b),a.hasAttribute(b,c)},l.match=function(b,c){return b&&c?c&&c!==b?(a.setDocument(b),a.matchNode(b,c)):!0:!1},l.defineAttributeGetter=function(b,c){return a.attributeGetters[b]=c,this},l.lookupAttributeGetter=function(b){return a.attributeGetters[b]},l.definePseudo=function(b,c){return a["pseudo:"+b]=function(a,b){return c.call(a,b)},this},l.lookupPseudo=function(b){var c=a["pseudo:"+b];return c?function(a){return c.call(this,a)}:null},l.override=function(b,c){return a.override(b,c),this;
},l.isXML=a.isXML,l.uidOf=function(b){return a.getUIDHTML(b)},this.Slick||(this.Slick=l)}.apply("undefined"!=typeof exports?exports:this);var Element=function(a,b){var c=Element.Constructors[a];if(c)return c(b);if("string"!=typeof a)return document.id(a).set(b);if(b||(b={}),!/^[\w-]+$/.test(a)){var d=Slick.parse(a).expressions[0][0];a="*"==d.tag?"div":d.tag,d.id&&null==b.id&&(b.id=d.id);var e=d.attributes;if(e)for(var f,g=0,h=e.length;h>g;g++)f=e[g],null==b[f.key]&&(null!=f.value&&"="==f.operator?b[f.key]=f.value:f.value||f.operator||(b[f.key]=!0));d.classList&&null==b["class"]&&(b["class"]=d.classList.join(" "))}return document.newElement(a,b)};Browser.Element&&(Element.prototype=Browser.Element.prototype,Element.prototype._fireEvent=function(a){return function(b,c){return a.call(this,b,c)}}(Element.prototype.fireEvent)),new Type("Element",Element).mirror(function(a){if(!Array.prototype[a]){var b={};b[a]=function(){for(var b=[],c=arguments,d=!0,e=0,f=this.length;f>e;e++){var g=this[e],h=b[e]=g[a].apply(g,c);
d=d&&"element"==typeOf(h)}return d?new Elements(b):b},Elements.implement(b)}}),Browser.Element||(Element.parent=Object,Element.Prototype={$constructor:Element,$family:Function.from("element").hide()},Element.mirror(function(a,b){Element.Prototype[a]=b})),Element.Constructors={};var IFrame=new Type("IFrame",function(){var a,b=Array.link(arguments,{properties:Type.isObject,iframe:function(a){return null!=a}}),c=b.properties||{};b.iframe&&(a=document.id(b.iframe));var d=c.onload||function(){};delete c.onload,c.id=c.name=[c.id,c.name,a?a.id||a.name:"IFrame_"+String.uniqueID()].pick(),a=new Element(a||"iframe",c);var e=function(){d.call(a.contentWindow)};return window.frames[c.id]?e():a.addListener("load",e),a}),Elements=this.Elements=function(a){if(a&&a.length)for(var b,c={},d=0;b=a[d++];){var e=Slick.uidOf(b);c[e]||(c[e]=!0,this.push(b))}};Elements.prototype={length:0},Elements.parent=Array,new Type("Elements",Elements).implement({filter:function(a,b){return a?new Elements(Array.filter(this,"string"==typeOf(a)?function(b){
return b.match(a)}:a,b)):this}.protect(),push:function(){for(var a=this.length,b=0,c=arguments.length;c>b;b++){var d=document.id(arguments[b]);d&&(this[a++]=d)}return this.length=a}.protect(),unshift:function(){for(var a=[],b=0,c=arguments.length;c>b;b++){var d=document.id(arguments[b]);d&&a.push(d)}return Array.prototype.unshift.apply(this,a)}.protect(),concat:function(){for(var a=new Elements(this),b=0,c=arguments.length;c>b;b++){var d=arguments[b];Type.isEnumerable(d)?a.append(d):a.push(d)}return a}.protect(),append:function(a){for(var b=0,c=a.length;c>b;b++)this.push(a[b]);return this}.protect(),empty:function(){for(;this.length;)delete this[--this.length];return this}.protect()}),function(){var a=Array.prototype.splice,b={0:0,1:1,length:2};a.call(b,1,1),1==b[1]&&Elements.implement("splice",function(){for(var b=this.length,c=a.apply(this,arguments);b>=this.length;)delete this[b--];return c}.protect()),Array.forEachMethod(function(a,b){Elements.implement(b,a)}),Array.mirror(Elements);
var c;try{c="x"==document.createElement("<input name=x>").name}catch(d){}var e=function(a){return(""+a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")};Document.implement({newElement:function(a,b){return b&&null!=b.checked&&(b.defaultChecked=b.checked),c&&b&&(a="<"+a,b.name&&(a+=' name="'+e(b.name)+'"'),b.type&&(a+=' type="'+e(b.type)+'"'),a+=">",delete b.name,delete b.type),this.id(this.createElement(a)).set(b)}})}(),function(){Slick.uidOf(window),Slick.uidOf(document),Document.implement({newTextNode:function(a){return this.createTextNode(a)},getDocument:function(){return this},getWindow:function(){return this.window},id:function(){var a={string:function(b,c,d){return b=Slick.find(d,"#"+b.replace(/(\W)/g,"\\$1")),b?a.element(b,c):null},element:function(a,b){if(Slick.uidOf(a),!b&&!a.$family&&!/^(?:object|embed)$/i.test(a.tagName)){var c=a.fireEvent;a._fireEvent=function(a,b){return c(a,b)},Object.append(a,Element.Prototype)}return a},object:function(b,c,d){return b.toElement?a.element(b.toElement(d),c):null;
}};return a.textnode=a.whitespace=a.window=a.document=function(a){return a},function(b,c,d){if(b&&b.$family&&b.uniqueNumber)return b;var e=typeOf(b);return a[e]?a[e](b,c,d||document):null}}()}),null==window.$&&Window.implement("$",function(a,b){return document.id(a,b,this.document)}),Window.implement({getDocument:function(){return this.document},getWindow:function(){return this}}),[Document,Element].invoke("implement",{getElements:function(a){return Slick.search(this,a,new Elements)},getElement:function(a){return document.id(Slick.find(this,a))}});var a={contains:function(a){return Slick.contains(this,a)}};document.contains||Document.implement(a),document.createElement("div").contains||Element.implement(a);var b=function(a,b){if(!a)return b;a=Object.clone(Slick.parse(a));for(var c=a.expressions,d=c.length;d--;)c[d][0].combinator=b;return a};Object.forEach({getNext:"~",getPrevious:"!~",getParent:"!"},function(a,c){Element.implement(c,function(c){return this.getElement(b(c,a))})}),Object.forEach({
getAllNext:"~",getAllPrevious:"!~",getSiblings:"~~",getChildren:">",getParents:"!"},function(a,c){Element.implement(c,function(c){return this.getElements(b(c,a))})}),Element.implement({getFirst:function(a){return document.id(Slick.search(this,b(a,">"))[0])},getLast:function(a){return document.id(Slick.search(this,b(a,">")).getLast())},getWindow:function(){return this.ownerDocument.window},getDocument:function(){return this.ownerDocument},getElementById:function(a){return document.id(Slick.find(this,"#"+(""+a).replace(/(\W)/g,"\\$1")))},match:function(a){return!a||Slick.match(this,a)}}),null==window.$$&&Window.implement("$$",function(a){if(1==arguments.length){if("string"==typeof a)return Slick.search(this.document,a,new Elements);if(Type.isEnumerable(a))return new Elements(a)}return new Elements(arguments)});var c={before:function(a,b){var c=b.parentNode;c&&c.insertBefore(a,b)},after:function(a,b){var c=b.parentNode;c&&c.insertBefore(a,b.nextSibling)},bottom:function(a,b){b.appendChild(a);
},top:function(a,b){b.insertBefore(a,b.firstChild)}};c.inside=c.bottom;var d={},e={},f={};Array.forEach(["type","value","defaultValue","accessKey","cellPadding","cellSpacing","colSpan","frameBorder","rowSpan","tabIndex","useMap"],function(a){f[a.toLowerCase()]=a}),f.html="innerHTML",f.text=null==document.createElement("div").textContent?"innerText":"textContent",Object.forEach(f,function(a,b){e[b]=function(b,c){b[a]=c},d[b]=function(b){return b[a]}});var g=["compact","nowrap","ismap","declare","noshade","checked","disabled","readOnly","multiple","selected","noresize","defer","defaultChecked","autofocus","controls","autoplay","loop"],h={};Array.forEach(g,function(a){var b=a.toLowerCase();h[b]=a,e[b]=function(b,c){b[a]=!!c},d[b]=function(b){return!!b[a]}}),Object.append(e,{"class":function(a,b){"className"in a?a.className=b||"":a.setAttribute("class",b)},"for":function(a,b){"htmlFor"in a?a.htmlFor=b:a.setAttribute("for",b)},style:function(a,b){a.style?a.style.cssText=b:a.setAttribute("style",b);
},value:function(a,b){a.value=null!=b?b:""}}),d["class"]=function(a){return"className"in a?a.className||null:a.getAttribute("class")};var i=document.createElement("button");try{i.type="button"}catch(j){}"button"!=i.type&&(e.type=function(a,b){a.setAttribute("type",b)}),i=null;var k=document.createElement("input");k.value="t",k.type="submit","t"!=k.value&&(e.type=function(a,b){var c=a.value;a.type=b,a.value=c}),k=null;var l=function(a){return a.random="attribute","attribute"==a.getAttribute("random")}(document.createElement("div"));Element.implement({setProperty:function(a,b){var c=e[a.toLowerCase()];if(c)c(this,b);else{if(l)var d=this.retrieve("$attributeWhiteList",{});null==b?(this.removeAttribute(a),l&&delete d[a]):(this.setAttribute(a,""+b),l&&(d[a]=!0))}return this},setProperties:function(a){for(var b in a)this.setProperty(b,a[b]);return this},getProperty:function(a){var b=d[a.toLowerCase()];if(b)return b(this);if(l){var c=this.getAttributeNode(a),e=this.retrieve("$attributeWhiteList",{});
if(!c)return null;if(c.expando&&!e[a]){var f=this.outerHTML;if(f.substr(0,f.search(/\/?['"]?>(?![^<]*<['"])/)).indexOf(a)<0)return null;e[a]=!0}}var g=Slick.getAttribute(this,a);return g||Slick.hasAttribute(this,a)?g:null},getProperties:function(){var a=Array.from(arguments);return a.map(this.getProperty,this).associate(a)},removeProperty:function(a){return this.setProperty(a,null)},removeProperties:function(){return Array.each(arguments,this.removeProperty,this),this},set:function(a,b){var c=Element.Properties[a];c&&c.set?c.set.call(this,b):this.setProperty(a,b)}.overloadSetter(),get:function(a){var b=Element.Properties[a];return b&&b.get?b.get.apply(this):this.getProperty(a)}.overloadGetter(),erase:function(a){var b=Element.Properties[a];return b&&b.erase?b.erase.apply(this):this.removeProperty(a),this},hasClass:function(a){return this.className.clean().contains(a," ")},addClass:function(a){return this.hasClass(a)||(this.className=(this.className+" "+a).clean()),this},removeClass:function(a){
return this.className=this.className.replace(new RegExp("(^|\\s)"+a+"(?:\\s|$)"),"$1"),this},toggleClass:function(a,b){return null==b&&(b=!this.hasClass(a)),b?this.addClass(a):this.removeClass(a)},adopt:function(){var a,b=this,c=Array.flatten(arguments),d=c.length;d>1&&(b=a=document.createDocumentFragment());for(var e=0;d>e;e++){var f=document.id(c[e],!0);f&&b.appendChild(f)}return a&&this.appendChild(a),this},appendText:function(a,b){return this.grab(this.getDocument().newTextNode(a),b)},grab:function(a,b){return c[b||"bottom"](document.id(a,!0),this),this},inject:function(a,b){return c[b||"bottom"](this,document.id(a,!0)),this},replaces:function(a){return a=document.id(a,!0),a.parentNode.replaceChild(this,a),this},wraps:function(a,b){return a=document.id(a,!0),this.replaces(a).grab(a,b)},getSelected:function(){return this.selectedIndex,new Elements(Array.from(this.options).filter(function(a){return a.selected}))},toQueryString:function(){var a=[];return this.getElements("input, select, textarea").each(function(b){
var c=b.type;if(b.name&&!b.disabled&&"submit"!=c&&"reset"!=c&&"file"!=c&&"image"!=c){var d="select"==b.get("tag")?b.getSelected().map(function(a){return document.id(a).get("value")}):"radio"!=c&&"checkbox"!=c||b.checked?b.get("value"):null;Array.from(d).each(function(c){"undefined"!=typeof c&&a.push(encodeURIComponent(b.name)+"="+encodeURIComponent(c))})}}),a.join("&")}});var m={},n={},o=function(a){return n[a]||(n[a]={})},p=function(a){var b=a.uniqueNumber;return a.removeEvents&&a.removeEvents(),a.clearAttributes&&a.clearAttributes(),null!=b&&(delete m[b],delete n[b]),a},q={input:"checked",option:"selected",textarea:"value"};Element.implement({destroy:function(){var a=p(this).getElementsByTagName("*");return Array.each(a,p),Element.dispose(this),null},empty:function(){return Array.from(this.childNodes).each(Element.dispose),this},dispose:function(){return this.parentNode?this.parentNode.removeChild(this):this},clone:function(a,b){a=a!==!1;var c,d=this.cloneNode(a),e=[d],f=[this];for(a&&(e.append(Array.from(d.getElementsByTagName("*"))),
f.append(Array.from(this.getElementsByTagName("*")))),c=e.length;c--;){var g=e[c],h=f[c];if(b||g.removeAttribute("id"),g.clearAttributes&&(g.clearAttributes(),g.mergeAttributes(h),g.removeAttribute("uniqueNumber"),g.options))for(var i=g.options,j=h.options,k=i.length;k--;)i[k].selected=j[k].selected;var l=q[h.tagName.toLowerCase()];l&&h[l]&&(g[l]=h[l])}if(Browser.ie){var m=d.getElementsByTagName("object"),n=this.getElementsByTagName("object");for(c=m.length;c--;)m[c].outerHTML=n[c].outerHTML}return document.id(d)}}),[Element,Window,Document].invoke("implement",{addListener:function(a,b){if("unload"==a){var c=b,d=this;b=function(){d.removeListener("unload",b),c()}}else m[Slick.uidOf(this)]=this;return this.addEventListener?this.addEventListener(a,b,!!arguments[2]):this.attachEvent("on"+a,b),this},removeListener:function(a,b){return this.removeEventListener?this.removeEventListener(a,b,!!arguments[2]):this.detachEvent("on"+a,b),this},retrieve:function(a,b){var c=o(Slick.uidOf(this)),d=c[a];
return null!=b&&null==d&&(d=c[a]=b),null!=d?d:null},store:function(a,b){var c=o(Slick.uidOf(this));return c[a]=b,this},eliminate:function(a){var b=o(Slick.uidOf(this));return delete b[a],this}}),window.attachEvent&&!window.addEventListener&&window.addListener("unload",function(){Object.each(m,p),window.CollectGarbage&&CollectGarbage()}),Element.Properties={},Element.Properties.style={set:function(a){this.style.cssText=a},get:function(){return this.style.cssText},erase:function(){this.style.cssText=""}},Element.Properties.tag={get:function(){return this.tagName.toLowerCase()}},Element.Properties.html={set:function(a){null==a?a="":"array"==typeOf(a)&&(a=a.join("")),this.innerHTML=a},erase:function(){this.innerHTML=""}};var r=document.createElement("div");r.innerHTML="<nav></nav>";var s=1==r.childNodes.length;if(!s)for(var t="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" "),u=document.createDocumentFragment(),v=t.length;v--;)u.createElement(t[v]);
r=null;var w=Function.attempt(function(){var a=document.createElement("table");return a.innerHTML="<tr><td></td></tr>",!0}),x=document.createElement("tr"),y="<td></td>";x.innerHTML=y;var z=x.innerHTML==y;x=null,w&&z&&s||(Element.Properties.html.set=function(a){var b={table:[1,"<table>","</table>"],select:[1,"<select>","</select>"],tbody:[2,"<table><tbody>","</tbody></table>"],tr:[3,"<table><tbody><tr>","</tr></tbody></table>"]};return b.thead=b.tfoot=b.tbody,function(c){var d=b[this.get("tag")];if(d||s||(d=[0,"",""]),!d)return a.call(this,c);var e=d[0],f=document.createElement("div"),g=f;for(s||u.appendChild(f),f.innerHTML=[d[1],c,d[2]].flatten().join("");e--;)g=g.firstChild;this.empty().adopt(g.childNodes),s||u.removeChild(f),f=null}}(Element.Properties.html.set));var A=document.createElement("form");A.innerHTML="<select><option>s</option></select>","s"!=A.firstChild.value&&(Element.Properties.value={set:function(a){var b=this.get("tag");if("select"!=b)return this.setProperty("value",a);
for(var c=this.getElements("option"),d=0;d<c.length;d++){var e=c[d],f=e.getAttributeNode("value"),g=f&&f.specified?e.value:e.get("text");if(g==a)return e.selected=!0}},get:function(){var a=this,b=a.get("tag");if("select"!=b&&"option"!=b)return this.getProperty("value");if("select"==b&&!(a=a.getSelected()[0]))return"";var c=a.getAttributeNode("value");return c&&c.specified?a.value:a.get("text")}}),A=null,document.createElement("div").getAttributeNode("id")&&(Element.Properties.id={set:function(a){this.id=this.getAttributeNode("id").value=a},get:function(){return this.id||null},erase:function(){this.id=this.getAttributeNode("id").value=""}})}(),function(){var a=document.html,b=document.createElement("div");b.style.color="red",b.style.color=null;var c="red"==b.style.color;b=null,Element.Properties.styles={set:function(a){this.setStyles(a)}};var d=null!=a.style.opacity,e=null!=a.style.filter,f=/alpha\(opacity=([\d.]+)\)/i,g=function(a,b){a.store("$opacity",b),a.style.visibility=b>0||null==b?"visible":"hidden";
},h=d?function(a,b){a.style.opacity=b}:e?function(a,b){var c=a.style;a.currentStyle&&a.currentStyle.hasLayout||(c.zoom=1),b=null==b||1==b?"":"alpha(opacity="+(100*b).limit(0,100).round()+")";var d=c.filter||a.getComputedStyle("filter")||"";c.filter=f.test(d)?d.replace(f,b):d+b,c.filter||c.removeAttribute("filter")}:g,i=d?function(a){var b=a.style.opacity||a.getComputedStyle("opacity");return""==b?1:b.toFloat()}:e?function(a){var b,c=a.style.filter||a.getComputedStyle("filter");return c&&(b=c.match(f)),null==b||null==c?1:b[1]/100}:function(a){var b=a.retrieve("$opacity");return null==b&&(b="hidden"==a.style.visibility?0:1),b},j=null==a.style.cssFloat?"styleFloat":"cssFloat";Element.implement({getComputedStyle:function(a){if(this.currentStyle)return this.currentStyle[a.camelCase()];var b=Element.getDocument(this).defaultView,c=b?b.getComputedStyle(this,null):null;return c?c.getPropertyValue(a==j?"float":a.hyphenate()):null},setStyle:function(a,b){if("opacity"==a)return null!=b&&(b=parseFloat(b)),
h(this,b),this;if(a=("float"==a?j:a).camelCase(),"string"!=typeOf(b)){var d=(Element.Styles[a]||"@").split(" ");b=Array.from(b).map(function(a,b){return d[b]?"number"==typeOf(a)?d[b].replace("@",Math.round(a)):a:""}).join(" ")}else b==String(Number(b))&&(b=Math.round(b));return this.style[a]=b,(""==b||null==b)&&c&&this.style.removeAttribute&&this.style.removeAttribute(a),this},getStyle:function(a){if("opacity"==a)return i(this);a=("float"==a?j:a).camelCase();var b=this.style[a];if(!b||"zIndex"==a){b=[];for(var c in Element.ShortStyles)if(a==c){for(var d in Element.ShortStyles[c])b.push(this.getStyle(d));return b.join(" ")}b=this.getComputedStyle(a)}if(b){b=String(b);var e=b.match(/rgba?\([\d\s,]+\)/);e&&(b=b.replace(e[0],e[0].rgbToHex()))}if(Browser.opera||Browser.ie){if(/^(height|width)$/.test(a)&&!/px$/.test(b)){var f="width"==a?["left","right"]:["top","bottom"],g=0;return f.each(function(a){g+=this.getStyle("border-"+a+"-width").toInt()+this.getStyle("padding-"+a).toInt()},this),this["offset"+a.capitalize()]-g+"px";
}if(Browser.ie&&/^border(.+)Width|margin|padding/.test(a)&&isNaN(parseFloat(b)))return"0px"}return b},setStyles:function(a){for(var b in a)this.setStyle(b,a[b]);return this},getStyles:function(){var a={};return Array.flatten(arguments).each(function(b){a[b]=this.getStyle(b)},this),a}}),Element.Styles={left:"@px",top:"@px",bottom:"@px",right:"@px",width:"@px",height:"@px",maxWidth:"@px",maxHeight:"@px",minWidth:"@px",minHeight:"@px",backgroundColor:"rgb(@, @, @)",backgroundPosition:"@px @px",color:"rgb(@, @, @)",fontSize:"@px",letterSpacing:"@px",lineHeight:"@px",clip:"rect(@px @px @px @px)",margin:"@px @px @px @px",padding:"@px @px @px @px",border:"@px @ rgb(@, @, @) @px @ rgb(@, @, @) @px @ rgb(@, @, @)",borderWidth:"@px @px @px @px",borderStyle:"@ @ @ @",borderColor:"rgb(@, @, @) rgb(@, @, @) rgb(@, @, @) rgb(@, @, @)",zIndex:"@",zoom:"@",fontWeight:"@",textIndent:"@px",opacity:"@"},Element.ShortStyles={margin:{},padding:{},border:{},borderWidth:{},borderStyle:{},borderColor:{}},["Top","Right","Bottom","Left"].each(function(a){
var b=Element.ShortStyles,c=Element.Styles;["margin","padding"].each(function(d){var e=d+a;b[d][e]=c[e]="@px"});var d="border"+a;b.border[d]=c[d]="@px @ rgb(@, @, @)";var e=d+"Width",f=d+"Style",g=d+"Color";b[d]={},b.borderWidth[e]=b[d][e]=c[e]="@px",b.borderStyle[f]=b[d][f]=c[f]="@",b.borderColor[g]=b[d][g]=c[g]="rgb(@, @, @)"})}(),function(){if(Element.Properties.events={set:function(a){this.addEvents(a)}},[Element,Window,Document].invoke("implement",{addEvent:function(a,b){var c=this.retrieve("events",{});if(c[a]||(c[a]={keys:[],values:[]}),c[a].keys.contains(b))return this;c[a].keys.push(b);var d=a,e=Element.Events[a],f=b,g=this;e&&(e.onAdd&&e.onAdd.call(this,b,a),e.condition&&(f=function(c){return e.condition.call(this,c,a)?b.call(this,c):!0}),e.base&&(d=Function.from(e.base).call(this,a)));var h=function(){return b.call(g)},i=Element.NativeEvents[d];return i&&(2==i&&(h=function(a){a=new DOMEvent(a,g.getWindow()),f.call(g,a)===!1&&a.stop()}),this.addListener(d,h,arguments[2])),c[a].values.push(h),
this},removeEvent:function(a,b){var c=this.retrieve("events");if(!c||!c[a])return this;var d=c[a],e=d.keys.indexOf(b);if(-1==e)return this;var f=d.values[e];delete d.keys[e],delete d.values[e];var g=Element.Events[a];return g&&(g.onRemove&&g.onRemove.call(this,b,a),g.base&&(a=Function.from(g.base).call(this,a))),Element.NativeEvents[a]?this.removeListener(a,f,arguments[2]):this},addEvents:function(a){for(var b in a)this.addEvent(b,a[b]);return this},removeEvents:function(a){var b;if("object"==typeOf(a)){for(b in a)this.removeEvent(b,a[b]);return this}var c=this.retrieve("events");if(!c)return this;if(a)c[a]&&(c[a].keys.each(function(b){this.removeEvent(a,b)},this),delete c[a]);else{for(b in c)this.removeEvents(b);this.eliminate("events")}return this},fireEvent:function(a,b,c){var d=this.retrieve("events");return d&&d[a]?(b=Array.from(b),d[a].keys.each(function(a){c?a.delay(c,this,b):a.apply(this,b)},this),this):this},cloneEvents:function(a,b){a=document.id(a);var c=a.retrieve("events");if(!c)return this;
if(b)c[b]&&c[b].keys.each(function(a){this.addEvent(b,a)},this);else for(var d in c)this.cloneEvents(a,d);return this}}),Element.NativeEvents={click:2,dblclick:2,mouseup:2,mousedown:2,contextmenu:2,mousewheel:2,DOMMouseScroll:2,mouseover:2,mouseout:2,mousemove:2,selectstart:2,selectend:2,keydown:2,keypress:2,keyup:2,orientationchange:2,touchstart:2,touchmove:2,touchend:2,touchcancel:2,gesturestart:2,gesturechange:2,gestureend:2,focus:2,blur:2,change:2,reset:2,select:2,submit:2,paste:2,input:2,load:2,unload:1,beforeunload:2,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,error:1,abort:1,scroll:1},Element.Events={mousewheel:{base:Browser.firefox?"DOMMouseScroll":"mousewheel"}},"onmouseenter"in document.documentElement)Element.NativeEvents.mouseenter=Element.NativeEvents.mouseleave=2;else{var a=function(a){var b=a.relatedTarget;return null==b?!0:b?b!=this&&"xul"!=b.prefix&&"document"!=typeOf(this)&&!this.contains(b):!1};Element.Events.mouseenter={base:"mouseover",condition:a},Element.Events.mouseleave={
base:"mouseout",condition:a}}window.addEventListener||(Element.NativeEvents.propertychange=2,Element.Events.change={base:function(){var a=this.type;return"input"!=this.get("tag")||"radio"!=a&&"checkbox"!=a?"change":"propertychange"},condition:function(a){return"radio"!=this.type||"checked"==a.event.propertyName&&this.checked}})}(),function(){var a=!!window.addEventListener;Element.NativeEvents.focusin=Element.NativeEvents.focusout=2;var b=function(a,b,c,d,e){for(;e&&e!=a;){if(b(e,d))return c.call(e,d,e);e=document.id(e.parentNode)}},c={mouseenter:{base:"mouseover"},mouseleave:{base:"mouseout"},focus:{base:"focus"+(a?"":"in"),capture:!0},blur:{base:a?"blur":"focusout",capture:!0}},d="$delegation:",e=function(a){return{base:"focusin",remove:function(b,c){var e=b.retrieve(d+a+"listeners",{})[c];if(e&&e.forms)for(var f=e.forms.length;f--;)e.forms[f].removeEvent(a,e.fns[f])},listen:function(c,e,f,g,h,i){var j="form"==h.get("tag")?h:g.target.getParent("form");if(j){var k=c.retrieve(d+a+"listeners",{}),l=k[i]||{
forms:[],fns:[]},m=l.forms,n=l.fns;if(-1==m.indexOf(j)){m.push(j);var o=function(a){b(c,e,f,a,h)};j.addEvent(a,o),n.push(o),k[i]=l,c.store(d+a+"listeners",k)}}}}},f=function(a){return{base:"focusin",listen:function(c,d,e,f,g){var h={blur:function(){this.removeEvents(h)}};h[a]=function(a){b(c,d,e,a,g)},f.target.addEvents(h)}}};a||Object.append(c,{submit:e("submit"),reset:e("reset"),change:f("change"),select:f("select")});var g=Element.prototype,h=g.addEvent,i=g.removeEvent,j=function(a,b){return function(c,d,e){if(-1==c.indexOf(":relay"))return a.call(this,c,d,e);var f=Slick.parse(c).expressions[0][0];if("relay"!=f.pseudos[0].key)return a.call(this,c,d,e);var g=f.tag;return f.pseudos.slice(1).each(function(a){g+=":"+a.key+(a.value?"("+a.value+")":"")}),a.call(this,c,d),b.call(this,g,f.pseudos[0].value,d)}},k={addEvent:function(a,d,e){var f=this.retrieve("$delegates",{}),g=f[a];if(g)for(var i in g)if(g[i].fn==e&&g[i].match==d)return this;var j=a,k=d,l=e,m=c[a]||{};a=m.base||j,d=function(a){
return Slick.match(a,k)};var n=Element.Events[j];if(n&&n.condition){var o=d,p=n.condition;d=function(b,c){return o(b,c)&&p.call(b,c,a)}}var q=this,r=String.uniqueID(),s=m.listen?function(a,b){!b&&a&&a.target&&(b=a.target),b&&m.listen(q,d,e,a,b,r)}:function(a,c){!c&&a&&a.target&&(c=a.target),c&&b(q,d,e,a,c)};return g||(g={}),g[r]={match:k,fn:l,delegator:s},f[j]=g,h.call(this,a,s,m.capture)},removeEvent:function(a,b,d,e){var f=this.retrieve("$delegates",{}),g=f[a];if(!g)return this;if(e){var h=a,j=g[e].delegator,l=c[a]||{};return a=l.base||h,l.remove&&l.remove(this,e),delete g[e],f[h]=g,i.call(this,a,j)}var m,n;if(d){for(m in g)if(n=g[m],n.match==b&&n.fn==d)return k.removeEvent.call(this,a,b,d,m)}else for(m in g)n=g[m],n.match==b&&k.removeEvent.call(this,a,b,n.fn,m);return this}};[Element,Window,Document].invoke("implement",{addEvent:j(h,k.addEvent),removeEvent:j(i,k.removeEvent)})}(),function(){function a(a,b){return l(a,b).toInt()||0}function b(a){return"border-box"==l(a,"-moz-box-sizing");
}function c(b){return a(b,"border-top-width")}function d(b){return a(b,"border-left-width")}function e(a){return/^(?:body|html)$/i.test(a.tagName)}function f(a){var b=a.getDocument();return b.compatMode&&"CSS1Compat"!=b.compatMode?b.body:b.html}var g=document.createElement("div"),h=document.createElement("div");g.style.height="0",g.appendChild(h);var i=h.offsetParent===g;g=h=null;var j=function(a){return"static"!=l(a,"position")||e(a)},k=function(a){return j(a)||/^(?:table|td|th)$/i.test(a.tagName)};Element.implement({scrollTo:function(a,b){return e(this)?this.getWindow().scrollTo(a,b):(this.scrollLeft=a,this.scrollTop=b),this},getSize:function(){return e(this)?this.getWindow().getSize():{x:this.offsetWidth,y:this.offsetHeight}},getScrollSize:function(){return e(this)?this.getWindow().getScrollSize():{x:this.scrollWidth,y:this.scrollHeight}},getScroll:function(){return e(this)?this.getWindow().getScroll():{x:this.scrollLeft,y:this.scrollTop}},getScrolls:function(){for(var a=this.parentNode,b={
x:0,y:0};a&&!e(a);)b.x+=a.scrollLeft,b.y+=a.scrollTop,a=a.parentNode;return b},getOffsetParent:i?function(){var a=this;if(e(a)||"fixed"==l(a,"position"))return null;for(var b="static"==l(a,"position")?k:j;a=a.parentNode;)if(b(a))return a;return null}:function(){var a=this;if(e(a)||"fixed"==l(a,"position"))return null;try{return a.offsetParent}catch(b){}return null},getOffsets:function(){if(this.getBoundingClientRect&&!Browser.Platform.ios){var a=this.getBoundingClientRect(),f=document.id(this.getDocument().documentElement),g=f.getScroll(),h=this.getScrolls(),i="fixed"==l(this,"position");return{x:a.left.toInt()+h.x+(i?0:g.x)-f.clientLeft,y:a.top.toInt()+h.y+(i?0:g.y)-f.clientTop}}var j=this,k={x:0,y:0};if(e(this))return k;for(;j&&!e(j);){if(k.x+=j.offsetLeft,k.y+=j.offsetTop,Browser.firefox){b(j)||(k.x+=d(j),k.y+=c(j));var m=j.parentNode;m&&"visible"!=l(m,"overflow")&&(k.x+=d(m),k.y+=c(m))}else j!=this&&Browser.safari&&(k.x+=d(j),k.y+=c(j));j=j.offsetParent}return Browser.firefox&&!b(this)&&(k.x-=d(this),
k.y-=c(this)),k},getPosition:function(a){var b=this.getOffsets(),e=this.getScrolls(),f={x:b.x-e.x,y:b.y-e.y};if(a&&(a=document.id(a))){var g=a.getPosition();return{x:f.x-g.x-d(a),y:f.y-g.y-c(a)}}return f},getCoordinates:function(a){if(e(this))return this.getWindow().getCoordinates();var b=this.getPosition(a),c=this.getSize(),d={left:b.x,top:b.y,width:c.x,height:c.y};return d.right=d.left+d.width,d.bottom=d.top+d.height,d},computePosition:function(b){return{left:b.x-a(this,"margin-left"),top:b.y-a(this,"margin-top")}},setPosition:function(a){return this.setStyles(this.computePosition(a))}}),[Document,Window].invoke("implement",{getSize:function(){var a=f(this);return{x:a.clientWidth,y:a.clientHeight}},getScroll:function(){var a=this.getWindow(),b=f(this);return{x:a.pageXOffset||b.scrollLeft,y:a.pageYOffset||b.scrollTop}},getScrollSize:function(){var a=f(this),b=this.getSize(),c=this.getDocument().body;return{x:Math.max(a.scrollWidth,c.scrollWidth,b.x),y:Math.max(a.scrollHeight,c.scrollHeight,b.y)
}},getPosition:function(){return{x:0,y:0}},getCoordinates:function(){var a=this.getSize();return{top:0,left:0,bottom:a.y,right:a.x,height:a.y,width:a.x}}});var l=Element.getComputedStyle}(),Element.alias({position:"setPosition"}),[Window,Document,Element].invoke("implement",{getHeight:function(){return this.getSize().y},getWidth:function(){return this.getSize().x},getScrollTop:function(){return this.getScroll().y},getScrollLeft:function(){return this.getScroll().x},getScrollHeight:function(){return this.getScrollSize().y},getScrollWidth:function(){return this.getScrollSize().x},getTop:function(){return this.getPosition().y},getLeft:function(){return this.getPosition().x}}),function(){var a=this.Fx=new Class({Implements:[Chain,Events,Options],options:{fps:60,unit:!1,duration:500,frames:null,frameSkip:!0,link:"ignore"},initialize:function(a){this.subject=this.subject||this,this.setOptions(a)},getTransition:function(){return function(a){return-(Math.cos(Math.PI*a)-1)/2}},step:function(a){if(this.options.frameSkip){
var b=null!=this.time?a-this.time:0,c=b/this.frameInterval;this.time=a,this.frame+=c}else this.frame++;if(this.frame<this.frames){var d=this.transition(this.frame/this.frames);this.set(this.compute(this.from,this.to,d))}else this.frame=this.frames,this.set(this.compute(this.from,this.to,1)),this.stop()},set:function(a){return a},compute:function(b,c,d){return a.compute(b,c,d)},check:function(){if(!this.isRunning())return!0;switch(this.options.link){case"cancel":return this.cancel(),!0;case"chain":return this.chain(this.caller.pass(arguments,this)),!1}return!1},start:function(b,c){if(!this.check(b,c))return this;this.from=b,this.to=c,this.frame=this.options.frameSkip?0:-1,this.time=null,this.transition=this.getTransition();var d=this.options.frames,f=this.options.fps,g=this.options.duration;return this.duration=a.Durations[g]||g.toInt(),this.frameInterval=1e3/f,this.frames=d||Math.round(this.duration/this.frameInterval),this.fireEvent("start",this.subject),e.call(this,f),this},stop:function(){
return this.isRunning()&&(this.time=null,f.call(this,this.options.fps),this.frames==this.frame?(this.fireEvent("complete",this.subject),this.callChain()||this.fireEvent("chainComplete",this.subject)):this.fireEvent("stop",this.subject)),this},cancel:function(){return this.isRunning()&&(this.time=null,f.call(this,this.options.fps),this.frame=this.frames,this.fireEvent("cancel",this.subject).clearChain()),this},pause:function(){return this.isRunning()&&(this.time=null,f.call(this,this.options.fps)),this},resume:function(){return this.frame<this.frames&&!this.isRunning()&&e.call(this,this.options.fps),this},isRunning:function(){var a=b[this.options.fps];return a&&a.contains(this)}});a.compute=function(a,b,c){return(b-a)*c+a},a.Durations={"short":250,normal:500,"long":1e3};var b={},c={},d=function(){for(var a=Date.now(),b=this.length;b--;){var c=this[b];c&&c.step(a)}},e=function(a){var e=b[a]||(b[a]=[]);e.push(this),c[a]||(c[a]=d.periodical(Math.round(1e3/a),e))},f=function(a){var d=b[a];d&&(d.erase(this),
!d.length&&c[a]&&(delete b[a],c[a]=clearInterval(c[a])))}}(),Fx.CSS=new Class({Extends:Fx,prepare:function(a,b,c){c=Array.from(c);var d=c[0],e=c[1];if(null==e){e=d,d=a.getStyle(b);var f=this.options.unit;if(f&&d.slice(-f.length)!=f&&0!=parseFloat(d)){a.setStyle(b,e+f);var g=a.getComputedStyle(b);if(!/px$/.test(g)&&(g=a.style[("pixel-"+b).camelCase()],null==g)){var h=a.style.left;a.style.left=e+f,g=a.style.pixelLeft,a.style.left=h}d=(e||1)/(parseFloat(g)||1)*(parseFloat(d)||0),a.setStyle(b,d+f)}}return{from:this.parse(d),to:this.parse(e)}},parse:function(a){return a=Function.from(a)(),a="string"==typeof a?a.split(" "):Array.from(a),a.map(function(a){a=String(a);var b=!1;return Object.each(Fx.CSS.Parsers,function(c,d){if(!b){var e=c.parse(a);(e||0===e)&&(b={value:e,parser:c})}}),b=b||{value:a,parser:Fx.CSS.Parsers.String}})},compute:function(a,b,c){var d=[];return Math.min(a.length,b.length).times(function(e){d.push({value:a[e].parser.compute(a[e].value,b[e].value,c),parser:a[e].parser})}),
d.$family=Function.from("fx:css:value"),d},serve:function(a,b){"fx:css:value"!=typeOf(a)&&(a=this.parse(a));var c=[];return a.each(function(a){c=c.concat(a.parser.serve(a.value,b))}),c},render:function(a,b,c,d){a.setStyle(b,this.serve(c,d))},search:function(a){if(Fx.CSS.Cache[a])return Fx.CSS.Cache[a];var b={},c=new RegExp("^"+a.escapeRegExp()+"$");return Array.each(document.styleSheets,function(a,d){var e=a.href;if(!e||!e.contains("://")||e.contains(document.domain)){var f=a.rules||a.cssRules;Array.each(f,function(a,d){if(a.style){var e=a.selectorText?a.selectorText.replace(/^\w+/,function(a){return a.toLowerCase()}):null;e&&c.test(e)&&Object.each(Element.Styles,function(c,d){a.style[d]&&!Element.ShortStyles[d]&&(c=String(a.style[d]),b[d]=/^rgb/.test(c)?c.rgbToHex():c)})}})}}),Fx.CSS.Cache[a]=b}}),Fx.CSS.Cache={},Fx.CSS.Parsers={Color:{parse:function(a){return a.match(/^#[0-9a-f]{3,6}$/i)?a.hexToRgb(!0):(a=a.match(/(\d+),\s*(\d+),\s*(\d+)/))?[a[1],a[2],a[3]]:!1},compute:function(a,b,c){
return a.map(function(d,e){return Math.round(Fx.compute(a[e],b[e],c))})},serve:function(a){return a.map(Number)}},Number:{parse:parseFloat,compute:Fx.compute,serve:function(a,b){return b?a+b:a}},String:{parse:Function.from(!1),compute:function(a,b){return b},serve:function(a){return a}}},Fx.Tween=new Class({Extends:Fx.CSS,initialize:function(a,b){this.element=this.subject=document.id(a),this.parent(b)},set:function(a,b){return 1==arguments.length&&(b=a,a=this.property||this.options.property),this.render(this.element,a,b,this.options.unit),this},start:function(a,b,c){if(!this.check(a,b,c))return this;var d=Array.flatten(arguments);this.property=this.options.property||d.shift();var e=this.prepare(this.element,this.property,d);return this.parent(e.from,e.to)}}),Element.Properties.tween={set:function(a){return this.get("tween").cancel().setOptions(a),this},get:function(){var a=this.retrieve("tween");return a||(a=new Fx.Tween(this,{link:"cancel"}),this.store("tween",a)),a}},Element.implement({
tween:function(a,b,c){return this.get("tween").start(a,b,c),this},fade:function(a){var b,c,d=this.get("tween"),e=["opacity"].append(arguments);switch(null==e[1]&&(e[1]="toggle"),e[1]){case"in":b="start",e[1]=1;break;case"out":b="start",e[1]=0;break;case"show":b="set",e[1]=1;break;case"hide":b="set",e[1]=0;break;case"toggle":var f=this.retrieve("fade:flag",1==this.getStyle("opacity"));b="start",e[1]=f?0:1,this.store("fade:flag",!f),c=!0;break;default:b="start"}c||this.eliminate("fade:flag"),d[b].apply(d,e);var g=e[e.length-1];return"set"==b||0!=g?this.setStyle("visibility",0==g?"hidden":"visible"):d.chain(function(){this.element.setStyle("visibility","hidden"),this.callChain()}),this},highlight:function(a,b){b||(b=this.retrieve("highlight:original",this.getStyle("background-color")),b="transparent"==b?"#fff":b);var c=this.get("tween");return c.start("background-color",a||"#ffff88",b).chain(function(){this.setStyle("background-color",this.retrieve("highlight:original")),c.callChain()}.bind(this)),
this}}),Fx.Morph=new Class({Extends:Fx.CSS,initialize:function(a,b){this.element=this.subject=document.id(a),this.parent(b)},set:function(a){"string"==typeof a&&(a=this.search(a));for(var b in a)this.render(this.element,b,a[b],this.options.unit);return this},compute:function(a,b,c){var d={};for(var e in a)d[e]=this.parent(a[e],b[e],c);return d},start:function(a){if(!this.check(a))return this;"string"==typeof a&&(a=this.search(a));var b={},c={};for(var d in a){var e=this.prepare(this.element,d,a[d]);b[d]=e.from,c[d]=e.to}return this.parent(b,c)}}),Element.Properties.morph={set:function(a){return this.get("morph").cancel().setOptions(a),this},get:function(){var a=this.retrieve("morph");return a||(a=new Fx.Morph(this,{link:"cancel"}),this.store("morph",a)),a}},Element.implement({morph:function(a){return this.get("morph").start(a),this}}),Fx.implement({getTransition:function(){var a=this.options.transition||Fx.Transitions.Sine.easeInOut;if("string"==typeof a){var b=a.split(":");a=Fx.Transitions,
a=a[b[0]]||a[b[0].capitalize()],b[1]&&(a=a["ease"+b[1].capitalize()+(b[2]?b[2].capitalize():"")])}return a}}),Fx.Transition=function(a,b){b=Array.from(b);var c=function(c){return a(c,b)};return Object.append(c,{easeIn:c,easeOut:function(c){return 1-a(1-c,b)},easeInOut:function(c){return(.5>=c?a(2*c,b):2-a(2*(1-c),b))/2}})},Fx.Transitions={linear:function(a){return a}},Fx.Transitions.extend=function(a){for(var b in a)Fx.Transitions[b]=new Fx.Transition(a[b])},Fx.Transitions.extend({Pow:function(a,b){return Math.pow(a,b&&b[0]||6)},Expo:function(a){return Math.pow(2,8*(a-1))},Circ:function(a){return 1-Math.sin(Math.acos(a))},Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Back:function(a,b){return b=b&&b[0]||1.618,Math.pow(a,2)*((b+1)*a-b)},Bounce:function(a){for(var b,c=0,d=1;1;c+=d,d/=2)if(a>=(7-4*c)/11){b=d*d-Math.pow((11-6*c-11*a)/4,2);break}return b},Elastic:function(a,b){return Math.pow(2,10*--a)*Math.cos(20*a*Math.PI*(b&&b[0]||1)/3)}}),["Quad","Cubic","Quart","Quint"].each(function(a,b){
Fx.Transitions[a]=new Fx.Transition(function(a){return Math.pow(a,b+2)})}),function(){var a=function(){},b="onprogress"in new Browser.Request,c=this.Request=new Class({Implements:[Chain,Events,Options],options:{url:"",data:"",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"},async:!0,format:!1,method:"post",link:"ignore",isSuccess:null,emulation:!0,urlEncoded:!0,encoding:"utf-8",evalScripts:!1,evalResponse:!1,timeout:0,noCache:!1},initialize:function(a){this.xhr=new Browser.Request,this.setOptions(a),this.headers=this.options.headers},onStateChange:function(){var c=this.xhr;4==c.readyState&&this.running&&(this.running=!1,this.status=0,Function.attempt(function(){var a=c.status;this.status=1223==a?204:a}.bind(this)),c.onreadystatechange=a,b&&(c.onprogress=c.onloadstart=a),clearTimeout(this.timer),this.response={text:this.xhr.responseText||"",xml:this.xhr.responseXML},this.options.isSuccess.call(this,this.status)?this.success(this.response.text,this.response.xml):this.failure());
},isSuccess:function(){var a=this.status;return a>=200&&300>a},isRunning:function(){return!!this.running},processScripts:function(a){return this.options.evalResponse||/(ecma|java)script/.test(this.getHeader("Content-type"))?Browser.exec(a):a.stripScripts(this.options.evalScripts)},success:function(a,b){this.onSuccess(this.processScripts(a),b)},onSuccess:function(){this.fireEvent("complete",arguments).fireEvent("success",arguments).callChain()},failure:function(){this.onFailure()},onFailure:function(){this.fireEvent("complete").fireEvent("failure",this.xhr)},loadstart:function(a){this.fireEvent("loadstart",[a,this.xhr])},progress:function(a){this.fireEvent("progress",[a,this.xhr])},timeout:function(){this.fireEvent("timeout",this.xhr)},setHeader:function(a,b){return this.headers[a]=b,this},getHeader:function(a){return Function.attempt(function(){return this.xhr.getResponseHeader(a)}.bind(this))},check:function(){if(!this.running)return!0;switch(this.options.link){case"cancel":return this.cancel(),
!0;case"chain":return this.chain(this.caller.pass(arguments,this)),!1}return!1},send:function(a){if(!this.check(a))return this;this.options.isSuccess=this.options.isSuccess||this.isSuccess,this.running=!0;var c=typeOf(a);("string"==c||"element"==c)&&(a={data:a});var d=this.options;a=Object.append({data:d.data,url:d.url,method:d.method},a);var e=a.data,f=String(a.url),g=a.method.toLowerCase();switch(typeOf(e)){case"element":e=document.id(e).toQueryString();break;case"object":case"hash":e=Object.toQueryString(e)}if(this.options.format){var h="format="+this.options.format;e=e?h+"&"+e:h}if(this.options.emulation&&!["get","post"].contains(g)){var i="_method="+g;e=e?i+"&"+e:i,g="post"}if(this.options.urlEncoded&&["post","put"].contains(g)){var j=this.options.encoding?"; charset="+this.options.encoding:"";this.headers["Content-type"]="application/x-www-form-urlencoded"+j}f||(f=document.location.pathname);var k=f.lastIndexOf("/");k>-1&&(k=f.indexOf("#"))>-1&&(f=f.substr(0,k)),this.options.noCache&&(f+=(f.contains("?")?"&":"?")+String.uniqueID()),
e&&"get"==g&&(f+=(f.contains("?")?"&":"?")+e,e=null);var l=this.xhr;return b&&(l.onloadstart=this.loadstart.bind(this),l.onprogress=this.progress.bind(this)),l.open(g.toUpperCase(),f,this.options.async,this.options.user,this.options.password),this.options.user&&"withCredentials"in l&&(l.withCredentials=!0),l.onreadystatechange=this.onStateChange.bind(this),Object.each(this.headers,function(a,b){try{l.setRequestHeader(b,a)}catch(c){this.fireEvent("exception",[b,a])}},this),this.fireEvent("request"),l.send(e),this.options.async?this.options.timeout&&(this.timer=this.timeout.delay(this.options.timeout,this)):this.onStateChange(),this},cancel:function(){if(!this.running)return this;this.running=!1;var c=this.xhr;return c.abort(),clearTimeout(this.timer),c.onreadystatechange=a,b&&(c.onprogress=c.onloadstart=a),this.xhr=new Browser.Request,this.fireEvent("cancel"),this}}),d={};["get","post","put","delete","GET","POST","PUT","DELETE"].each(function(a){d[a]=function(b){var c={method:a};return null!=b&&(c.data=b),
this.send(c)}}),c.implement(d),Element.Properties.send={set:function(a){var b=this.get("send").cancel();return b.setOptions(a),this},get:function(){var a=this.retrieve("send");return a||(a=new c({data:this,link:"cancel",method:this.get("method")||"post",url:this.get("action")}),this.store("send",a)),a}},Element.implement({send:function(a){var b=this.get("send");return b.send({data:this,url:a||b.options.url}),this}})}(),Request.HTML=new Class({Extends:Request,options:{update:!1,append:!1,evalScripts:!0,filter:!1,headers:{Accept:"text/html, application/xml, text/xml, */*"}},success:function(a){var b=this.options,c=this.response;c.html=a.stripScripts(function(a){c.javascript=a});var d=c.html.match(/<body[^>]*>([\s\S]*?)<\/body>/i);d&&(c.html=d[1]);var e=new Element("div").set("html",c.html);if(c.tree=e.childNodes,c.elements=e.getElements(b.filter||"*"),b.filter&&(c.tree=c.elements),b.update){var f=document.id(b.update).empty();b.filter?f.adopt(c.elements):f.set("html",c.html)}else if(b.append){
var g=document.id(b.append);b.filter?c.elements.reverse().inject(g):g.adopt(e.getChildren())}b.evalScripts&&Browser.exec(c.javascript),this.onSuccess(c.tree,c.elements,c.html,c.javascript)}}),Element.Properties.load={set:function(a){var b=this.get("load").cancel();return b.setOptions(a),this},get:function(){var a=this.retrieve("load");return a||(a=new Request.HTML({data:this,link:"cancel",update:this,method:"get"}),this.store("load",a)),a}},Element.implement({load:function(){return this.get("load").send(Array.link(arguments,{data:Type.isObject,url:Type.isString})),this}}),"undefined"==typeof JSON&&(this.JSON={}),function(){var special={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},escape=function(a){return special[a]||"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)};JSON.validate=function(a){return a=a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""),
/^[\],:{}\s]*$/.test(a)},JSON.encode=JSON.stringify?function(a){return JSON.stringify(a)}:function(a){switch(a&&a.toJSON&&(a=a.toJSON()),typeOf(a)){case"string":return'"'+a.replace(/[\x00-\x1f\\"]/g,escape)+'"';case"array":return"["+a.map(JSON.encode).clean()+"]";case"object":case"hash":var b=[];return Object.each(a,function(a,c){var d=JSON.encode(a);d&&b.push(JSON.encode(c)+":"+d)}),"{"+b+"}";case"number":case"boolean":return""+a;case"null":return"null"}return null},JSON.decode=function(string,secure){if(!string||"string"!=typeOf(string))return null;if(secure||JSON.secure){if(JSON.parse)return JSON.parse(string);if(!JSON.validate(string))throw new Error("JSON could not decode the input; security is enabled and the value is not secure.")}return eval("("+string+")")}}(),Request.JSON=new Class({Extends:Request,options:{secure:!0},initialize:function(a){this.parent(a),Object.append(this.headers,{Accept:"application/json","X-Request":"JSON"})},success:function(a){var b;try{b=this.response.json=JSON.decode(a,this.options.secure);
}catch(c){return void this.fireEvent("error",[a,c])}null==b?this.onFailure():this.onSuccess(b,a)}});var Cookie=new Class({Implements:Options,options:{path:"/",domain:!1,duration:!1,secure:!1,document:document,encode:!0},initialize:function(a,b){this.key=a,this.setOptions(b)},write:function(a){if(this.options.encode&&(a=encodeURIComponent(a)),this.options.domain&&(a+="; domain="+this.options.domain),this.options.path&&(a+="; path="+this.options.path),this.options.duration){var b=new Date;b.setTime(b.getTime()+24*this.options.duration*60*60*1e3),a+="; expires="+b.toGMTString()}return this.options.secure&&(a+="; secure"),this.options.document.cookie=this.key+"="+a,this},read:function(){var a=this.options.document.cookie.match("(?:^|;)\\s*"+this.key.escapeRegExp()+"=([^;]*)");return a?decodeURIComponent(a[1]):null},dispose:function(){return new Cookie(this.key,Object.merge({},this.options,{duration:-1})).write(""),this}});Cookie.write=function(a,b,c){return new Cookie(a,c).write(b)},Cookie.read=function(a){
return new Cookie(a).read()},Cookie.dispose=function(a,b){return new Cookie(a,b).dispose()},function(a,b){var c,d,e,f,g=[],h=b.createElement("div"),i=function(){clearTimeout(f),c||(Browser.loaded=c=!0,b.removeListener("DOMContentLoaded",i).removeListener("readystatechange",j),b.fireEvent("domready"),a.fireEvent("domready"))},j=function(){for(var a=g.length;a--;)if(g[a]())return i(),!0;return!1},k=function(){clearTimeout(f),j()||(f=setTimeout(k,10))};b.addListener("DOMContentLoaded",i);var l=function(){try{return h.doScroll(),!0}catch(a){}return!1};h.doScroll&&!l()&&(g.push(l),e=!0),b.readyState&&g.push(function(){var a=b.readyState;return"loaded"==a||"complete"==a}),"onreadystatechange"in b?b.addListener("readystatechange",j):e=!0,e&&k(),Element.Events.domready={onAdd:function(a){c&&a.call(this)}},Element.Events.load={base:"load",onAdd:function(b){d&&this==a&&b.call(this)},condition:function(){return this==a&&(i(),delete Element.Events.load),!0}},a.addEvent("load",function(){d=!0})}(window,document),
function(){var Swiff=this.Swiff=new Class({Implements:Options,options:{id:null,height:1,width:1,container:null,properties:{},params:{quality:"high",allowScriptAccess:"always",wMode:"window",swLiveConnect:!0},callBacks:{},vars:{}},toElement:function(){return this.object},initialize:function(a,b){this.instance="Swiff_"+String.uniqueID(),this.setOptions(b),b=this.options;var c=this.id=b.id||this.instance,d=document.id(b.container);Swiff.CallBacks[this.instance]={};var e=b.params,f=b.vars,g=b.callBacks,h=Object.append({height:b.height,width:b.width},b.properties),i=this;for(var j in g)Swiff.CallBacks[this.instance][j]=function(a){return function(){return a.apply(i.object,arguments)}}(g[j]),f[j]="Swiff.CallBacks."+this.instance+"."+j;e.flashVars=Object.toQueryString(f),Browser.ie?(h.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",e.movie=a):h.type="application/x-shockwave-flash",h.data=a;var k='<object id="'+c+'"';for(var l in h)k+=" "+l+'="'+h[l]+'"';k+=">";for(var m in e)e[m]&&(k+='<param name="'+m+'" value="'+e[m]+'" />');
k+="</object>",this.object=(d?d.empty():new Element("div")).set("html",k).firstChild},replaces:function(a){return a=document.id(a,!0),a.parentNode.replaceChild(this.toElement(),a),this},inject:function(a){return document.id(a,!0).appendChild(this.toElement()),this},remote:function(){return Swiff.remote.apply(Swiff,[this.toElement()].append(arguments))}});Swiff.CallBacks={},Swiff.remote=function(obj,fn){var rs=obj.CallFunction('<invoke name="'+fn+'" returntype="javascript">'+__flash__argumentsToXML(arguments,2)+"</invoke>");return eval(rs)}}(),MooTools.More={version:"1.4.0.1",build:"a4244edf2aa97ac8a196fc96082dd35af1abab87"},function(){Events.Pseudos=function(a,b,c){var d="_monitorEvents:",e=function(a){return{store:a.store?function(b,c){a.store(d+b,c)}:function(b,c){(a._monitorEvents||(a._monitorEvents={}))[b]=c},retrieve:a.retrieve?function(b,c){return a.retrieve(d+b,c)}:function(b,c){return a._monitorEvents?a._monitorEvents[b]||c:c}}},f=function(b){if(-1==b.indexOf(":")||!a)return null;
for(var c=Slick.parse(b).expressions[0][0],d=c.pseudos,e=d.length,f=[];e--;){var g=d[e].key,h=a[g];null!=h&&f.push({event:c.tag,value:d[e].value,pseudo:g,original:b,listener:h})}return f.length?f:null};return{addEvent:function(a,c,d){var g=f(a);if(!g)return b.call(this,a,c,d);var h=e(this),i=h.retrieve(a,[]),j=g[0].event,k=Array.slice(arguments,2),l=c,m=this;return g.each(function(a){var b=a.listener,c=l;0==b?j+=":"+a.pseudo+"("+a.value+")":l=function(){b.call(m,a,c,arguments,l)}}),i.include({type:j,event:c,monitor:l}),h.store(a,i),a!=j&&b.apply(this,[a,c].concat(k)),b.apply(this,[j,l].concat(k))},removeEvent:function(a,b){var d=f(a);if(!d)return c.call(this,a,b);var g=e(this),h=g.retrieve(a);if(!h)return this;var i=Array.slice(arguments,2);return c.apply(this,[a,b].concat(i)),h.each(function(a,d){b&&a.event!=b||c.apply(this,[a.type,a.monitor].concat(i)),delete h[d]},this),g.store(a,h),this}}};var a={once:function(a,b,c,d){b.apply(this,c),this.removeEvent(a.event,d).removeEvent(a.original,b);
},throttle:function(a,b,c){b._throttled||(b.apply(this,c),b._throttled=setTimeout(function(){b._throttled=!1},a.value||250))},pause:function(a,b,c){clearTimeout(b._pause),b._pause=b.delay(a.value||250,this,c)}};Events.definePseudo=function(b,c){return a[b]=c,this},Events.lookupPseudo=function(b){return a[b]};var b=Events.prototype;Events.implement(Events.Pseudos(a,b.addEvent,b.removeEvent)),["Request","Fx"].each(function(a){this[a]&&this[a].implement(Events.prototype)})}(),function(){for(var a={relay:!1},b=["once","throttle","pause"],c=b.length;c--;)a[b[c]]=Events.lookupPseudo(b[c]);DOMEvent.definePseudo=function(b,c){return a[b]=c,this};var d=Element.prototype;[Element,Window,Document].invoke("implement",Events.Pseudos(a,d.addEvent,d.removeEvent))}(),function(){var a="$moo:keys-pressed",b="$moo:keys-keyup";DOMEvent.definePseudo("keys",function(c,d,e){var f=e[0],g=[],h=this.retrieve(a,[]);if(g.append(c.value.replace("++",function(){return g.push("+"),""}).split("+")),h.include(f.key),g.every(function(a){
return h.contains(a)})&&d.apply(this,e),this.store(a,h),!this.retrieve(b)){var i=function(b){(function(){h=this.retrieve(a,[]).erase(b.key),this.store(a,h)}).delay(0,this)};this.store(b,i).addEvent("keyup",i)}}),DOMEvent.defineKeys({16:"shift",17:"control",18:"alt",20:"capslock",33:"pageup",34:"pagedown",35:"end",36:"home",144:"numlock",145:"scrolllock",186:";",187:"=",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",107:"+"}).defineKey(Browser.firefox?109:189,"-")}(),function(){var a=function(a,b){var c=[];return Object.each(b,function(b){Object.each(b,function(b){a.each(function(a){c.push(a+"-"+b+("border"==a?"-width":""))})})}),c},b=function(a,b){var c=0;return Object.each(b,function(b,d){d.test(a)&&(c+=b.toInt())}),c},c=function(a){return!(a&&!a.offsetHeight&&!a.offsetWidth)};Element.implement({measure:function(a){if(c(this))return a.call(this);for(var b=this.getParent(),d=[];!c(b)&&b!=document.body;)d.push(b.expose()),b=b.getParent();var e=this.expose(),f=a.call(this);
return e(),d.each(function(a){a()}),f},expose:function(){if("none"!=this.getStyle("display"))return function(){};var a=this.style.cssText;return this.setStyles({display:"block",position:"absolute",visibility:"hidden"}),function(){this.style.cssText=a}.bind(this)},getDimensions:function(a){a=Object.merge({computeSize:!1},a);var b={x:0,y:0},c=function(a,b){return b.computeSize?a.getComputedSize(b):a.getSize()},d=this.getParent("body");if(d&&"none"==this.getStyle("display"))b=this.measure(function(){return c(this,a)});else if(d)try{b=c(this,a)}catch(e){}return Object.append(b,b.x||0===b.x?{width:b.x,height:b.y}:{x:b.width,y:b.height})},getComputedSize:function(c){c=Object.merge({styles:["padding","border"],planes:{height:["top","bottom"],width:["left","right"]},mode:"both"},c);var d,e={},f={width:0,height:0};return"vertical"==c.mode?(delete f.width,delete c.planes.width):"horizontal"==c.mode&&(delete f.height,delete c.planes.height),a(c.styles,c.planes).each(function(a){e[a]=this.getStyle(a).toInt();
},this),Object.each(c.planes,function(a,c){var g=c.capitalize(),h=this.getStyle(c);"auto"!=h||d||(d=this.getDimensions()),h=e[c]="auto"==h?d[c]:h.toInt(),f["total"+g]=h,a.each(function(a){var c=b(a,e);f["computed"+a.capitalize()]=c,f["total"+g]+=c})},this),Object.append(f,e)}})}(),function(a){var b=Element.Position={options:{relativeTo:document.body,position:{x:"center",y:"center"},offset:{x:0,y:0}},getOptions:function(a,c){return c=Object.merge({},b.options,c),b.setPositionOption(c),b.setEdgeOption(c),b.setOffsetOption(a,c),b.setDimensionsOption(a,c),c},setPositionOption:function(a){a.position=b.getCoordinateFromValue(a.position)},setEdgeOption:function(a){var c=b.getCoordinateFromValue(a.edge);a.edge=c?c:"center"==a.position.x&&"center"==a.position.y?{x:"center",y:"center"}:{x:"left",y:"top"}},setOffsetOption:function(a,b){var c={x:0,y:0},d=a.measure(function(){return document.id(this.getOffsetParent())}),e=d.getScroll();d&&d!=a.getDocument().body&&(c=d.measure(function(){var a=this.getPosition();
if("fixed"==this.getStyle("position")){var b=window.getScroll();a.x+=b.x,a.y+=b.y}return a}),b.offset={parentPositioned:d!=document.id(b.relativeTo),x:b.offset.x-c.x+e.x,y:b.offset.y-c.y+e.y})},setDimensionsOption:function(a,b){b.dimensions=a.getDimensions({computeSize:!0,styles:["padding","border","margin"]})},getPosition:function(a,c){var d={};c=b.getOptions(a,c);var e=document.id(c.relativeTo)||document.body;b.setPositionCoordinates(c,d,e),c.edge&&b.toEdge(d,c);var f=c.offset;return d.left=(d.x>=0||f.parentPositioned||c.allowNegative?d.x:0).toInt(),d.top=(d.y>=0||f.parentPositioned||c.allowNegative?d.y:0).toInt(),b.toMinMax(d,c),(c.relFixedPosition||"fixed"==e.getStyle("position"))&&b.toRelFixedPosition(e,d),c.ignoreScroll&&b.toIgnoreScroll(e,d),c.ignoreMargins&&b.toIgnoreMargins(d,c),d.left=Math.ceil(d.left),d.top=Math.ceil(d.top),delete d.x,delete d.y,d},setPositionCoordinates:function(a,b,c){var d=a.offset.y,e=a.offset.x,f=c==document.body?window.getScroll():c.getPosition(),g=f.y,h=f.x,i=window.getSize();
switch(a.position.x){case"left":b.x=h+e;break;case"right":b.x=h+e+c.offsetWidth;break;default:b.x=h+(c==document.body?i.x:c.offsetWidth)/2+e}switch(a.position.y){case"top":b.y=g+d;break;case"bottom":b.y=g+d+c.offsetHeight;break;default:b.y=g+(c==document.body?i.y:c.offsetHeight)/2+d}},toMinMax:function(a,b){var c,d={left:"x",top:"y"};["minimum","maximum"].each(function(e){["left","top"].each(function(f){c=b[e]?b[e][d[f]]:null,null!=c&&("minimum"==e?a[f]<c:a[f]>c)&&(a[f]=c)})})},toRelFixedPosition:function(a,b){var c=window.getScroll();b.top+=c.y,b.left+=c.x},toIgnoreScroll:function(a,b){var c=a.getScroll();b.top-=c.y,b.left-=c.x},toIgnoreMargins:function(a,b){a.left+="right"==b.edge.x?b.dimensions["margin-right"]:"center"!=b.edge.x?-b.dimensions["margin-left"]:-b.dimensions["margin-left"]+(b.dimensions["margin-right"]+b.dimensions["margin-left"])/2,a.top+="bottom"==b.edge.y?b.dimensions["margin-bottom"]:"center"!=b.edge.y?-b.dimensions["margin-top"]:-b.dimensions["margin-top"]+(b.dimensions["margin-bottom"]+b.dimensions["margin-top"])/2;
},toEdge:function(a,b){var c={},d=b.dimensions,e=b.edge;switch(e.x){case"left":c.x=0;break;case"right":c.x=-d.x-d.computedRight-d.computedLeft;break;default:c.x=-Math.round(d.totalWidth/2)}switch(e.y){case"top":c.y=0;break;case"bottom":c.y=-d.y-d.computedTop-d.computedBottom;break;default:c.y=-Math.round(d.totalHeight/2)}a.x+=c.x,a.y+=c.y},getCoordinateFromValue:function(a){return"string"!=typeOf(a)?a:(a=a.toLowerCase(),{x:a.test("left")?"left":a.test("right")?"right":"center",y:a.test(/upper|top/)?"top":a.test("bottom")?"bottom":"center"})}};Element.implement({position:function(b){if(b&&(null!=b.x||null!=b.y))return a?a.apply(this,arguments):this;var c=this.setStyle("position","absolute").calculatePosition(b);return b&&b.returnPos?c:this.setStyles(c)},calculatePosition:function(a){return b.getPosition(this,a)}})}(Element.prototype.position),Element.implement({isDisplayed:function(){return"none"!=this.getStyle("display")},isVisible:function(){var a=this.offsetWidth,b=this.offsetHeight;return 0==a&&0==b?!1:a>0&&b>0?!0:"none"!=this.style.display;
},toggle:function(){return this[this.isDisplayed()?"hide":"show"]()},hide:function(){var a;try{a=this.getStyle("display")}catch(b){}return"none"==a?this:this.store("element:_originalDisplay",a||"").setStyle("display","none")},show:function(a){return!a&&this.isDisplayed()?this:(a=a||this.retrieve("element:_originalDisplay")||"block",this.setStyle("display","none"==a?"block":a))},swapClass:function(a,b){return this.removeClass(a).addClass(b)}}),Document.implement({clearSelection:function(){if(window.getSelection){var a=window.getSelection();a&&a.removeAllRanges&&a.removeAllRanges()}else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(b){}}}),Class.Mutators.Binds=function(a){return this.prototype.initialize||this.implement("initialize",function(){}),Array.from(a).concat(this.prototype.Binds||[])},Class.Mutators.initialize=function(a){return function(){return Array.from(this.Binds).each(function(a){var b=this[a];b&&(this[a]=b.bind(this))},this),a.apply(this,arguments);
}};var Drag=new Class({Implements:[Events,Options],options:{snap:6,unit:"px",grid:!1,style:!0,limit:!1,handle:!1,invert:!1,preventDefault:!1,stopPropagation:!1,modifiers:{x:"left",y:"top"}},initialize:function(){var a=Array.link(arguments,{element:function(a){return null!=a},options:Type.isObject});this.element=document.id(a.element),this.document=this.element.getDocument(),this.setOptions(a.options||{});var b=typeOf(this.options.handle);this.handles=("array"==b||"collection"==b?$$(this.options.handle):document.id(this.options.handle))||this.element,this.mouse={now:{},pos:{}},this.value={start:{},now:{}},this.selection=Browser.ie?"selectstart":"mousedown",Browser.ie&&!Drag.ondragstartFixed&&(document.ondragstart=Function.from(!1),Drag.ondragstartFixed=!0),this.bound={start:this.start.bind(this),check:this.check.bind(this),drag:this.drag.bind(this),stop:this.stop.bind(this),cancel:this.cancel.bind(this),eventStop:Function.from(!1)},this.attach()},attach:function(){return this.handles.addEvent("mousedown",this.bound.start),
this},detach:function(){return this.handles.removeEvent("mousedown",this.bound.start),this},start:function(a){var b=this.options;if(!a.rightClick){b.preventDefault&&a.preventDefault(),b.stopPropagation&&a.stopPropagation(),this.mouse.start=a.page,this.fireEvent("beforeStart",this.element);var c=b.limit;this.limit={x:[],y:[]};var d,e;for(d in b.modifiers)if(b.modifiers[d]){var f=this.element.getStyle(b.modifiers[d]);if(f&&!f.match(/px$/)&&(e||(e=this.element.getCoordinates(this.element.getOffsetParent())),f=e[b.modifiers[d]]),b.style?this.value.now[d]=(f||0).toInt():this.value.now[d]=this.element[b.modifiers[d]],b.invert&&(this.value.now[d]*=-1),this.mouse.pos[d]=a.page[d]-this.value.now[d],c&&c[d])for(var g=2;g--;){var h=c[d][g];(h||0===h)&&(this.limit[d][g]="function"==typeof h?h():h)}}"number"==typeOf(this.options.grid)&&(this.options.grid={x:this.options.grid,y:this.options.grid});var i={mousemove:this.bound.check,mouseup:this.bound.cancel};i[this.selection]=this.bound.eventStop,this.document.addEvents(i);
}},check:function(a){this.options.preventDefault&&a.preventDefault();var b=Math.round(Math.sqrt(Math.pow(a.page.x-this.mouse.start.x,2)+Math.pow(a.page.y-this.mouse.start.y,2)));b>this.options.snap&&(this.cancel(),this.document.addEvents({mousemove:this.bound.drag,mouseup:this.bound.stop}),this.fireEvent("start",[this.element,a]).fireEvent("snap",this.element))},drag:function(a){var b=this.options;b.preventDefault&&a.preventDefault(),this.mouse.now=a.page;for(var c in b.modifiers)b.modifiers[c]&&(this.value.now[c]=this.mouse.now[c]-this.mouse.pos[c],b.invert&&(this.value.now[c]*=-1),b.limit&&this.limit[c]&&((this.limit[c][1]||0===this.limit[c][1])&&this.value.now[c]>this.limit[c][1]?this.value.now[c]=this.limit[c][1]:(this.limit[c][0]||0===this.limit[c][0])&&this.value.now[c]<this.limit[c][0]&&(this.value.now[c]=this.limit[c][0])),b.grid[c]&&(this.value.now[c]-=(this.value.now[c]-(this.limit[c][0]||0))%b.grid[c]),b.style?this.element.setStyle(b.modifiers[c],this.value.now[c]+b.unit):this.element[b.modifiers[c]]=this.value.now[c]);
this.fireEvent("drag",[this.element,a])},cancel:function(a){this.document.removeEvents({mousemove:this.bound.check,mouseup:this.bound.cancel}),a&&(this.document.removeEvent(this.selection,this.bound.eventStop),this.fireEvent("cancel",this.element))},stop:function(a){var b={mousemove:this.bound.drag,mouseup:this.bound.stop};b[this.selection]=this.bound.eventStop,this.document.removeEvents(b),a&&this.fireEvent("complete",[this.element,a])}});Element.implement({makeResizable:function(a){var b=new Drag(this,Object.merge({modifiers:{x:"width",y:"height"}},a));return this.store("resizer",b),b.addEvent("drag",function(){this.fireEvent("resize",b)}.bind(this))}});var Slider=new Class({Implements:[Events,Options],Binds:["clickedElement","draggedKnob","scrolledElement"],options:{onTick:function(a){this.setKnobPosition(a)},initialStep:0,snap:!1,offset:0,range:!1,wheel:!1,steps:100,mode:"horizontal"},initialize:function(a,b,c){this.setOptions(c),c=this.options,this.element=document.id(a),b=this.knob=document.id(b),
this.previousChange=this.previousEnd=this.step=-1;var d={},e={x:!1,y:!1};switch(c.mode){case"vertical":this.axis="y",this.property="top",this.offset="offsetHeight";break;case"horizontal":this.axis="x",this.property="left",this.offset="offsetWidth"}this.setSliderDimensions(),this.setRange(c.range),"static"==b.getStyle("position")&&b.setStyle("position","relative"),b.setStyle(this.property,-c.offset),e[this.axis]=this.property,d[this.axis]=[-c.offset,this.full-c.offset];var f={snap:0,limit:d,modifiers:e,onDrag:this.draggedKnob,onStart:this.draggedKnob,onBeforeStart:function(){this.isDragging=!0}.bind(this),onCancel:function(){this.isDragging=!1}.bind(this),onComplete:function(){this.isDragging=!1,this.draggedKnob(),this.end()}.bind(this)};c.snap&&this.setSnap(f),this.drag=new Drag(b,f),this.attach(),null!=c.initialStep&&this.set(c.initialStep)},attach:function(){return this.element.addEvent("mousedown",this.clickedElement),this.options.wheel&&this.element.addEvent("mousewheel",this.scrolledElement),
this.drag.attach(),this},detach:function(){return this.element.removeEvent("mousedown",this.clickedElement).removeEvent("mousewheel",this.scrolledElement),this.drag.detach(),this},autosize:function(){return this.setSliderDimensions().setKnobPosition(this.toPosition(this.step)),this.drag.options.limit[this.axis]=[-this.options.offset,this.full-this.options.offset],this.options.snap&&this.setSnap(),this},setSnap:function(a){return a||(a=this.drag.options),a.grid=Math.ceil(this.stepWidth),a.limit[this.axis][1]=this.full,this},setKnobPosition:function(a){return this.options.snap&&(a=this.toPosition(this.step)),this.knob.setStyle(this.property,a),this},setSliderDimensions:function(){return this.full=this.element.measure(function(){return this.half=this.knob[this.offset]/2,this.element[this.offset]-this.knob[this.offset]+2*this.options.offset}.bind(this)),this},set:function(a){return this.range>0^a<this.min||(a=this.min),this.range>0^a>this.max||(a=this.max),this.step=Math.round(a),this.checkStep().fireEvent("tick",this.toPosition(this.step)).end();
},setRange:function(a,b){return this.min=Array.pick([a[0],0]),this.max=Array.pick([a[1],this.options.steps]),this.range=this.max-this.min,this.steps=this.options.steps||this.full,this.stepSize=Math.abs(this.range)/this.steps,this.stepWidth=this.stepSize*this.full/Math.abs(this.range),a&&this.set(Array.pick([b,this.step]).floor(this.min).max(this.max)),this},clickedElement:function(a){if(!this.isDragging&&a.target!=this.knob){var b=this.range<0?-1:1,c=a.page[this.axis]-this.element.getPosition()[this.axis]-this.half;c=c.limit(-this.options.offset,this.full-this.options.offset),this.step=Math.round(this.min+b*this.toStep(c)),this.checkStep().fireEvent("tick",c).end()}},scrolledElement:function(a){var b="horizontal"==this.options.mode?a.wheel<0:a.wheel>0;this.set(this.step+(b?-1:1)*this.stepSize),a.stop()},draggedKnob:function(){var a=this.range<0?-1:1,b=this.drag.value.now[this.axis];b=b.limit(-this.options.offset,this.full-this.options.offset),this.step=Math.round(this.min+a*this.toStep(b)),
this.checkStep()},checkStep:function(){var a=this.step;return this.previousChange!=a&&(this.previousChange=a,this.fireEvent("change",a)),this},end:function(){var a=this.step;return this.previousEnd!==a&&(this.previousEnd=a,this.fireEvent("complete",a+"")),this},toStep:function(a){var b=(a+this.options.offset)*this.stepSize/this.full*this.steps;return this.options.steps?Math.round(b-=b%this.stepSize):b},toPosition:function(a){return this.full*Math.abs(this.min-a)/(this.steps*this.stepSize)-this.options.offset}});Class.Occlude=new Class({occlude:function(a,b){b=document.id(b||this.element);var c=b.retrieve(a||this.property);return c&&!this.occluded?this.occluded=c:(this.occluded=!1,b.store(a||this.property,this),this.occluded)}});var IframeShim=new Class({Implements:[Options,Events,Class.Occlude],options:{className:"iframeShim",src:'javascript:false;document.write("");',display:!1,zIndex:null,margin:0,offset:{x:0,y:0},browsers:Browser.ie6||Browser.firefox&&Browser.version<3&&Browser.Platform.mac
},property:"IframeShim",initialize:function(a,b){return this.element=document.id(a),this.occlude()?this.occluded:(this.setOptions(b),this.makeShim(),this)},makeShim:function(){if(this.options.browsers){var a=this.element.getStyle("zIndex").toInt();if(!a){a=1;var b=this.element.getStyle("position");"static"!=b&&b||this.element.setStyle("position","relative"),this.element.setStyle("zIndex",a)}a=(null!=this.options.zIndex||0===this.options.zIndex)&&a>this.options.zIndex?this.options.zIndex:a-1,0>a&&(a=1),this.shim=new Element("iframe",{src:this.options.src,scrolling:"no",frameborder:0,styles:{zIndex:a,position:"absolute",border:"none",filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"},"class":this.options.className}).store("IframeShim",this);var c=function(){this.shim.inject(this.element,"after"),this[this.options.display?"show":"hide"](),this.fireEvent("inject")}.bind(this);IframeShim.ready?c():window.addEvent("load",c)}else this.position=this.hide=this.show=this.dispose=Function.from(this);
},position:function(){if(!IframeShim.ready||!this.shim)return this;var a=this.element.measure(function(){return this.getSize()});return void 0!=this.options.margin&&(a.x=a.x-2*this.options.margin,a.y=a.y-2*this.options.margin,this.options.offset.x+=this.options.margin,this.options.offset.y+=this.options.margin),this.shim.set({width:a.x,height:a.y}).position({relativeTo:this.element,offset:this.options.offset}),this},hide:function(){return this.shim&&this.shim.setStyle("display","none"),this},show:function(){return this.shim&&this.shim.setStyle("display","block"),this.position()},dispose:function(){return this.shim&&this.shim.dispose(),this},destroy:function(){return this.shim&&this.shim.destroy(),this}});window.addEvent("load",function(){IframeShim.ready=!0});var Mask=new Class({Implements:[Options,Events],Binds:["position"],options:{style:{},"class":"mask",maskMargins:!1,useIframeShim:!0,iframeShimOptions:{}},initialize:function(a,b){this.target=document.id(a)||document.id(document.body),
this.target.store("mask",this),this.setOptions(b),this.render(),this.inject()},render:function(){this.element=new Element("div",{"class":this.options["class"],id:this.options.id||"mask-"+String.uniqueID(),styles:Object.merge({},this.options.style,{display:"none"}),events:{click:function(a){this.fireEvent("click",a),this.options.hideOnClick&&this.hide()}.bind(this)}}),this.hidden=!0},toElement:function(){return this.element},inject:function(a,b){b=b||(this.options.inject?this.options.inject.where:"")||this.target==document.body?"inside":"after",a=a||this.options.inject&&this.options.inject.target||this.target,this.element.inject(a,b),this.options.useIframeShim&&(this.shim=new IframeShim(this.element,this.options.iframeShimOptions),this.addEvents({show:this.shim.show.bind(this.shim),hide:this.shim.hide.bind(this.shim),destroy:this.shim.destroy.bind(this.shim)}))},position:function(){return this.resize(this.options.width,this.options.height),this.element.position({relativeTo:this.target,position:"topLeft",
ignoreMargins:!this.options.maskMargins,ignoreScroll:this.target==document.body}),this},resize:function(a,b){var c={styles:["padding","border"]};this.options.maskMargins&&c.styles.push("margin");var d=this.target.getComputedSize(c);if(this.target==document.body){this.element.setStyles({width:0,height:0});var e=window.getScrollSize();d.totalHeight<e.y&&(d.totalHeight=e.y),d.totalWidth<e.x&&(d.totalWidth=e.x)}return this.element.setStyles({width:Array.pick([a,d.totalWidth,d.x]),height:Array.pick([b,d.totalHeight,d.y])}),this},show:function(){return this.hidden?(window.addEvent("resize",this.position),this.position(),this.showMask.apply(this,arguments),this):this},showMask:function(){this.element.setStyle("display","block"),this.hidden=!1,this.fireEvent("show")},hide:function(){return this.hidden?this:(window.removeEvent("resize",this.position),this.hideMask.apply(this,arguments),this.options.destroyOnHide?this.destroy():this)},hideMask:function(){this.element.setStyle("display","none"),this.hidden=!0,
this.fireEvent("hide")},toggle:function(){this[this.hidden?"show":"hide"]()},destroy:function(){this.hide(),this.element.destroy(),this.fireEvent("destroy"),this.target.eliminate("mask")}});Element.Properties.mask={set:function(a){var b=this.retrieve("mask");return b&&b.destroy(),this.eliminate("mask").store("mask:options",a)},get:function(){var a=this.retrieve("mask");return a||(a=new Mask(this,this.retrieve("mask:options")),this.store("mask",a)),a}},Element.implement({mask:function(a){return a&&this.set("mask",a),this.get("mask").show(),this},unmask:function(){return this.get("mask").hide(),this}}),Class.refactor=function(a,b){return Object.each(b,function(b,c){var d=a.prototype[c];d=d&&d.$origin||d||function(){},a.implement(c,"function"==typeof b?function(){var a=this.previous;this.previous=d;var c=b.apply(this,arguments);return this.previous=a,c}:b)}),a};var Spinner=new Class({Extends:Mask,Implements:Chain,options:{"class":"spinner",containerPosition:{},content:{"class":"spinner-content"
},messageContainer:{"class":"spinner-msg"},img:{"class":"spinner-img"},fxOptions:{link:"chain"}},initialize:function(a,b){this.target=document.id(a)||document.id(document.body),this.target.store("spinner",this),this.setOptions(b),this.render(),this.inject();var c=function(){this.active=!1}.bind(this);this.addEvents({hide:c,show:c})},render:function(){this.parent(),this.element.set("id",this.options.id||"spinner-"+String.uniqueID()),this.content=document.id(this.options.content)||new Element("div",this.options.content),this.content.inject(this.element),this.options.message&&(this.msg=document.id(this.options.message)||new Element("p",this.options.messageContainer).appendText(this.options.message),this.msg.inject(this.content)),this.options.img&&(this.img=document.id(this.options.img)||new Element("div",this.options.img),this.img.inject(this.content)),this.element.set("tween",this.options.fxOptions)},show:function(a){return this.active?this.chain(this.show.bind(this)):this.hidden?(this.active=!0,
this.parent(a)):(this.callChain.delay(20,this),this)},showMask:function(a){var b=function(){this.content.position(Object.merge({relativeTo:this.element},this.options.containerPosition))}.bind(this);a?(this.parent(),b()):(this.options.style.opacity||(this.options.style.opacity=this.element.getStyle("opacity").toFloat()),this.element.setStyles({display:"block",opacity:0}).tween("opacity",this.options.style.opacity),b(),this.hidden=!1,this.fireEvent("show"),this.callChain())},hide:function(a){return this.active?this.chain(this.hide.bind(this)):this.hidden?(this.callChain.delay(20,this),this):(this.active=!0,this.parent(a))},hideMask:function(a){return a?this.parent():void this.element.tween("opacity",0).get("tween").chain(function(){this.element.setStyle("display","none"),this.hidden=!0,this.fireEvent("hide"),this.callChain()}.bind(this))},destroy:function(){this.content.destroy(),this.parent(),this.target.eliminate("spinner")}});Request=Class.refactor(Request,{options:{useSpinner:!1,spinnerOptions:{},
spinnerTarget:!1},initialize:function(a){this._send=this.send,this.send=function(a){var b=this.getSpinner();return b?b.chain(this._send.pass(a,this)).show():this._send(a),this},this.previous(a)},getSpinner:function(){if(!this.spinner){var a=document.id(this.options.spinnerTarget)||document.id(this.options.update);if(this.options.useSpinner&&a){a.set("spinner",this.options.spinnerOptions);var b=this.spinner=a.get("spinner");["complete","exception","cancel"].each(function(a){this.addEvent(a,b.hide.bind(b))},this)}}return this.spinner}}),Element.Properties.spinner={set:function(a){var b=this.retrieve("spinner");return b&&b.destroy(),this.eliminate("spinner").store("spinner:options",a)},get:function(){var a=this.retrieve("spinner");return a||(a=new Spinner(this,this.retrieve("spinner:options")),this.store("spinner",a)),a}},Element.implement({spin:function(a){return a&&this.set("spinner",a),this.get("spinner").show(),this},unspin:function(){return this.get("spinner").hide(),this}}),function(){
var a=function(a){return null!=a},b=Object.prototype.hasOwnProperty;Object.extend({getFromPath:function(a,c){"string"==typeof c&&(c=c.split("."));for(var d=0,e=c.length;e>d;d++){if(!b.call(a,c[d]))return null;a=a[c[d]]}return a},cleanValues:function(b,c){c=c||a;for(var d in b)c(b[d])||delete b[d];return b},erase:function(a,c){return b.call(a,c)&&delete a[c],a},run:function(a){var b=Array.slice(arguments,1);for(var c in a)a[c].apply&&a[c].apply(a,b);return a}})}(),function(){var a=null,b={},c=function(a){return instanceOf(a,d.Set)?a:b[a]},d=this.Locale={define:function(c,e,f,g){var h;return instanceOf(c,d.Set)?(h=c.name,h&&(b[h]=c)):(h=c,b[h]||(b[h]=new d.Set(h)),c=b[h]),e&&c.define(e,f,g),a||(a=c),c},use:function(b){return b=c(b),b&&(a=b,this.fireEvent("change",b)),this},getCurrent:function(){return a},get:function(b,c){return a?a.get(b,c):""},inherit:function(a,b,d){return a=c(a),a&&a.inherit(b,d),this},list:function(){return Object.keys(b)}};Object.append(d,new Events),d.Set=new Class({
sets:{},inherits:{locales:[],sets:{}},initialize:function(a){this.name=a||""},define:function(a,b,c){var d=this.sets[a];return d||(d={}),b&&("object"==typeOf(b)?d=Object.merge(d,b):d[b]=c),this.sets[a]=d,this},get:function(a,c,d){var e=Object.getFromPath(this.sets,a);if(null!=e){var f=typeOf(e);return"function"==f?e=e.apply(null,Array.from(c)):"object"==f&&(e=Object.clone(e)),e}var g=a.indexOf("."),h=0>g?a:a.substr(0,g),i=(this.inherits.sets[h]||[]).combine(this.inherits.locales).include("en-US");d||(d=[]);for(var j=0,k=i.length;k>j;j++)if(!d.contains(i[j])){d.include(i[j]);var l=b[i[j]];if(l&&(e=l.get(a,c,d),null!=e))return e}return""},inherit:function(a,b){a=Array.from(a),b&&!this.inherits.sets[b]&&(this.inherits.sets[b]=[]);for(var c=a.length;c--;)(b?this.inherits.sets[b]:this.inherits.locales).unshift(a[c]);return this}})}(),function(){var a=this.Date,b=a.Methods={ms:"Milliseconds",year:"FullYear",min:"Minutes",mo:"Month",sec:"Seconds",hr:"Hours"};["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds","Time","TimezoneOffset","Week","Timezone","GMTOffset","DayOfYear","LastMonth","LastDayOfMonth","UTCDate","UTCDay","UTCFullYear","AMPM","Ordinal","UTCHours","UTCMilliseconds","UTCMinutes","UTCMonth","UTCSeconds","UTCMilliseconds"].each(function(b){
a.Methods[b.toLowerCase()]=b});var c=function(a,b,d){return 1==b?a:a<Math.pow(10,b-1)?(d||"0")+c(a,b-1,d):a};a.implement({set:function(a,c){a=a.toLowerCase();var d=b[a]&&"set"+b[a];return d&&this[d]&&this[d](c),this}.overloadSetter(),get:function(a){a=a.toLowerCase();var c=b[a]&&"get"+b[a];return c&&this[c]?this[c]():null}.overloadGetter(),clone:function(){return new a(this.get("time"))},increment:function(b,c){switch(b=b||"day",c=null!=c?c:1,b){case"year":return this.increment("month",12*c);case"month":var d=this.get("date");return this.set("date",1).set("mo",this.get("mo")+c),this.set("date",d.min(this.get("lastdayofmonth")));case"week":return this.increment("day",7*c);case"day":return this.set("date",this.get("date")+c)}if(!a.units[b])throw new Error(b+" is not a supported interval");return this.set("time",this.get("time")+c*a.units[b]())},decrement:function(a,b){return this.increment(a,-1*(null!=b?b:1))},isLeapYear:function(){return a.isLeapYear(this.get("year"))},clearTime:function(){
return this.set({hr:0,min:0,sec:0,ms:0})},diff:function(b,c){return"string"==typeOf(b)&&(b=a.parse(b)),((b-this)/a.units[c||"day"](3,3)).round()},getLastDayOfMonth:function(){return a.daysInMonth(this.get("mo"),this.get("year"))},getDayOfYear:function(){return(a.UTC(this.get("year"),this.get("mo"),this.get("date")+1)-a.UTC(this.get("year"),0,1))/a.units.day()},setDay:function(b,c){null==c&&(c=a.getMsg("firstDayOfWeek"),""===c&&(c=1)),b=(7+a.parseDay(b,!0)-c)%7;var d=(7+this.get("day")-c)%7;return this.increment("day",b-d)},getWeek:function(b){null==b&&(b=a.getMsg("firstDayOfWeek"),""===b&&(b=1));var c,d=this,e=(7+d.get("day")-b)%7,f=0;if(1==b){var g=d.get("month"),h=d.get("date")-e;if(11==g&&h>28)return 1;0==g&&-2>h&&(d=new a(d).decrement("day",e),e=0),c=new a(d.get("year"),0,1).get("day")||7,c>4&&(f=-7)}else c=new a(d.get("year"),0,1).get("day");return f+=d.get("dayofyear"),f+=6-e,f+=(7+c-b)%7,f/7},getOrdinal:function(b){return a.getMsg("ordinal",b||this.get("date"))},getTimezone:function(){
return this.toString().replace(/^.*? ([A-Z]{3}).[0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},getGMTOffset:function(){var a=this.get("timezoneOffset");return(a>0?"-":"+")+c((a.abs()/60).floor(),2)+c(a%60,2)},setAMPM:function(a){a=a.toUpperCase();var b=this.get("hr");return b>11&&"AM"==a?this.decrement("hour",12):12>b&&"PM"==a?this.increment("hour",12):this},getAMPM:function(){return this.get("hr")<12?"AM":"PM"},parse:function(b){return this.set("time",a.parse(b)),this},isValid:function(a){return a||(a=this),"date"==typeOf(a)&&!isNaN(a.valueOf())},format:function(b){if(!this.isValid())return"invalid date";if(b||(b="%x %X"),"string"==typeof b&&(b=f[b.toLowerCase()]||b),"function"==typeof b)return b(this);var d=this;return b.replace(/%([a-z%])/gi,function(b,e){switch(e){case"a":return a.getMsg("days_abbr")[d.get("day")];case"A":return a.getMsg("days")[d.get("day")];case"b":return a.getMsg("months_abbr")[d.get("month")];case"B":return a.getMsg("months")[d.get("month")];
case"c":return d.format("%a %b %d %H:%M:%S %Y");case"d":return c(d.get("date"),2);case"e":return c(d.get("date"),2," ");case"H":return c(d.get("hr"),2);case"I":return c(d.get("hr")%12||12,2);case"j":return c(d.get("dayofyear"),3);case"k":return c(d.get("hr"),2," ");case"l":return c(d.get("hr")%12||12,2," ");case"L":return c(d.get("ms"),3);case"m":return c(d.get("mo")+1,2);case"M":return c(d.get("min"),2);case"o":return d.get("ordinal");case"p":return a.getMsg(d.get("ampm"));case"s":return Math.round(d/1e3);case"S":return c(d.get("seconds"),2);case"T":return d.format("%H:%M:%S");case"U":return c(d.get("week"),2);case"w":return d.get("day");case"x":return d.format(a.getMsg("shortDate"));case"X":return d.format(a.getMsg("shortTime"));case"y":return d.get("year").toString().substr(2);case"Y":return d.get("year");case"z":return d.get("GMTOffset");case"Z":return d.get("Timezone")}return e})},toISOString:function(){return this.format("iso8601")}}).alias({toJSON:"toISOString",compare:"diff",strftime:"format"
});var d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f={db:"%Y-%m-%d %H:%M:%S",compact:"%Y%m%dT%H%M%S","short":"%d %b %H:%M","long":"%B %d, %Y %H:%M",rfc822:function(a){return d[a.get("day")]+a.format(", %d ")+e[a.get("month")]+a.format(" %Y %H:%M:%S %Z")},rfc2822:function(a){return d[a.get("day")]+a.format(", %d ")+e[a.get("month")]+a.format(" %Y %H:%M:%S %z")},iso8601:function(a){return a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1,2)+"-"+c(a.getUTCDate(),2)+"T"+c(a.getUTCHours(),2)+":"+c(a.getUTCMinutes(),2)+":"+c(a.getUTCSeconds(),2)+"."+c(a.getUTCMilliseconds(),3)+"Z"}},g=[],h=a.parse,i=function(b,c,d){var e=-1,f=a.getMsg(b+"s");switch(typeOf(c)){case"object":e=f[c.get(b)];break;case"number":if(e=f[c],!e)throw new Error("Invalid "+b+" index: "+c);break;case"string":var g=f.filter(function(a){return this.test(a)},new RegExp("^"+c,"i"));if(!g.length)throw new Error("Invalid "+b+" string");if(g.length>1)throw new Error("Ambiguous "+b);
e=g[0]}return d?f.indexOf(e):e},j=1900,k=70;a.extend({getMsg:function(a,b){return Locale.get("Date."+a,b)},units:{ms:Function.from(1),second:Function.from(1e3),minute:Function.from(6e4),hour:Function.from(36e5),day:Function.from(864e5),week:Function.from(6084e5),month:function(b,c){var d=new a;return 864e5*a.daysInMonth(null!=b?b:d.get("mo"),null!=c?c:d.get("year"))},year:function(b){return b=b||(new a).get("year"),a.isLeapYear(b)?316224e5:31536e6}},daysInMonth:function(b,c){return[31,a.isLeapYear(c)?29:28,31,30,31,30,31,31,30,31,30,31][b]},isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},parse:function(b){var c=typeOf(b);if("number"==c)return new a(b);if("string"!=c)return b;if(b=b.clean(),!b.length)return null;var d;return g.some(function(a){var c=a.re.exec(b);return c?d=a.handler(c):!1}),d&&d.isValid()||(d=new a(h(b)),d&&d.isValid()||(d=new a(b.toInt()))),d},parseDay:function(a,b){return i("day",a,b)},parseMonth:function(a,b){return i("month",a,b)},parseUTC:function(b){var c=new a(b),d=a.UTC(c.get("year"),c.get("mo"),c.get("date"),c.get("hr"),c.get("min"),c.get("sec"),c.get("ms"));
return new a(d)},orderIndex:function(b){return a.getMsg("dateOrder").indexOf(b)+1},defineFormat:function(a,b){return f[a]=b,this},defineParser:function(a){return g.push(a.re&&a.handler?a:q(a)),this},defineParsers:function(){return Array.flatten(arguments).each(a.defineParser),this},define2DigitYearStart:function(a){return k=a%100,j=a-k,this}}).extend({defineFormats:a.defineFormat.overloadSetter()});var l=function(b){return new RegExp("(?:"+a.getMsg(b).map(function(a){return a.substr(0,3)}).join("|")+")[a-z]*")},m=function(b){switch(b){case"T":return"%H:%M:%S";case"x":return(1==a.orderIndex("month")?"%m[-./]%d":"%d[-./]%m")+"([-./]%y)?";case"X":return"%H([.:]%M)?([.:]%S([.:]%s)?)? ?%p? ?%z?"}return null},n={d:/[0-2]?[0-9]|3[01]/,H:/[01]?[0-9]|2[0-3]/,I:/0?[1-9]|1[0-2]/,M:/[0-5]?\d/,s:/\d+/,o:/[a-z]*/,p:/[ap]\.?m\.?/,y:/\d{2}|\d{4}/,Y:/\d{4}/,z:/Z|[+-]\d{2}(?::?\d{2})?/};n.m=n.I,n.S=n.M;var o,p=function(a){o=a,n.a=n.A=l("days"),n.b=n.B=l("months"),g.each(function(a,b){a.format&&(g[b]=q(a.format));
})},q=function(b){if(!o)return{format:b};var c=[],d=(b.source||b).replace(/%([a-z])/gi,function(a,b){return m(b)||a}).replace(/\((?!\?)/g,"(?:").replace(/ (?!\?|\*)/g,",? ").replace(/%([a-z%])/gi,function(a,b){var d=n[b];return d?(c.push(b),"("+d.source+")"):b}).replace(/\[a-z\]/gi,"[a-z\\u00c0-\\uffff;&]");return{format:b,re:new RegExp("^"+d+"$","i"),handler:function(b){b=b.slice(1).associate(c);var d=(new a).clearTime(),e=b.y||b.Y;null!=e&&r.call(d,"y",e),"d"in b&&r.call(d,"d",1),("m"in b||b.b||b.B)&&r.call(d,"m",1);for(var f in b)r.call(d,f,b[f]);return d}}},r=function(b,c){if(!c)return this;switch(b){case"a":case"A":return this.set("day",a.parseDay(c,!0));case"b":case"B":return this.set("mo",a.parseMonth(c,!0));case"d":return this.set("date",c);case"H":case"I":return this.set("hr",c);case"m":return this.set("mo",c-1);case"M":return this.set("min",c);case"p":return this.set("ampm",c.replace(/\./g,""));case"S":return this.set("sec",c);case"s":return this.set("ms",1e3*("0."+c));case"w":
return this.set("day",c);case"Y":return this.set("year",c);case"y":return c=+c,100>c&&(c+=j+(k>c?100:0)),this.set("year",c);case"z":"Z"==c&&(c="+00");var d=c.match(/([+-])(\d{2}):?(\d{2})?/);return d=(d[1]+"1")*(60*d[2]+(+d[3]||0))+this.getTimezoneOffset(),this.set("time",this-6e4*d)}return this};a.defineParsers("%Y([-./]%m([-./]%d((T| )%X)?)?)?","%Y%m%d(T%H(%M%S?)?)?","%x( %X)?","%d%o( %b( %Y)?)?( %X)?","%b( %d%o)?( %Y)?( %X)?","%Y %b( %d%o( %X)?)?","%o %b %d %X %z %Y","%T","%H:%M( ?%p)?"),Locale.addEvent("change",function(a){Locale.get("Date")&&p(a)}).fireEvent("change",Locale.getCurrent())}(),Date.implement({timeDiffInWords:function(a){return Date.distanceOfTimeInWords(this,a||new Date)},timeDiff:function(a,b){null==a&&(a=new Date);for(var c,d,e=((a-this)/1e3).floor().abs(),f=[],g=[60,60,24,365,0],h=["s","m","h","d","y"],i=0;i<g.length&&(!i||e);i++)c=e,(d=g[i])&&(c=e%d,e=(e/d).floor()),f.unshift(c+(h[i]||""));return f.join(b||":")}}).extend({distanceOfTimeInWords:function(a,b){return Date.getTimePhrase(((b-a)/1e3).toInt());
},getTimePhrase:function(a){var b=0>a?"Until":"Ago";0>a&&(a*=-1);var c={minute:60,hour:60,day:24,week:7,month:52/12,year:12,eon:1/0},d="lessThanMinute";for(var e in c){var f=c[e];if(1.5*f>a){a>.75*f&&(d=e);break}a/=f,d=e+"s"}return a=a.round(),Date.getMsg(d+b,a).substitute({delta:a})}}).defineParsers({re:/^(?:tod|tom|yes)/i,handler:function(a){var b=(new Date).clearTime();switch(a[0]){case"tom":return b.increment();case"yes":return b.decrement();default:return b}}},{re:/^(next|last) ([a-z]+)$/i,handler:function(a){var b=(new Date).clearTime(),c=b.getDay(),d=Date.parseDay(a[2],!0),e=d-c;return c>=d&&(e+=7),"last"==a[1]&&(e-=7),b.set("date",b.getDate()+e)}}).alias("timeAgoInWords","timeDiffInWords");

/*! smartchat - v2.1.12 - 2017-11-30 */
function log(){window.console.log.apply(window.console,arguments)}!function(){window.console||(window.console={});for(var a=["log","info","warn","error","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp","clear"],b=function(){},c=0;c<a.length;c++)window.console[a[c]]||(window.console[a[c]]=b)}(),Class.Mutators.Static=function(a){this.extend(a)},$className=function(a){return"object"==typeOf(a)?a.className:"class"==typeOf(a)?a.prototype.className:void 0},String.prototype.format=function(){var a=this;for(var b in arguments)a=a.replace("{"+b+"}",arguments[b]);return a},String.prototype.repeat=function(a){return new Array(isNaN(a)?1:++a).join(this)},Element.Properties.cls={get:function(){return this.get("class")},set:function(a){return this.set("class",a)},erase:function(){this.erase("class")}},Element.Properties.parent={get:function(){return this.getParent()},set:function(a){a&&this.inject(a);
}},Element.Properties.children={get:function(){return this.getChildren()},set:function(a){this.adopt(a)}},Element.Properties.location={set:function(a){null!==a[0]&&this.setStyle("top",a[0]),null!==a[1]&&this.setStyle("right",a[1]),null!==a[2]&&this.setStyle("bottom",a[2]),null!==a[3]&&this.setStyle("left",a[3])}},Element.Properties.on={set:function(a){this.addEvents(a)}},Element.implement({setVisible:function(a){this[a?"show":"hide"]()},setFocus:function(a){this.setAttribute("tabIndex",a||0),this.focus()}}),Elements.from=function(a,b){(b||null===b)&&(a=a.stripScripts());var c,d=a.match(/^\s*<(t[dhr]|tbody|tfoot|thead)/i);if(d){c=new Element("table");var e=d[1].toLowerCase();["td","th","tr"].contains(e)&&(c=new Element("tbody").inject(c),"tr"!=e&&(c=new Element("tr").inject(c)))}return(c||new Element("div")).set("html",a).getChildren()},Object.extend({expand:function(a,b){for(var c=1,d=arguments.length;d>c;c++){var e=arguments[c];if(e)for(var f in e)(void 0===a[f]||null===a[f])&&(a[f]=e[f]);
}return a}}),Array.implement({insert:function(a,b){this.splice(a,0,b)},each:function(a,b){var c,d=this,e=d.length;for(c=0;e>c&&a.call(b,d[c],c,d)!==!1;c++);return d},destroy:function(){this.each(function(a){$destroy(a)})}}),Collection=new Type("Collection",function(a){var b;if(this.items={},this.length=0,"collection"==typeOf(a))for(b in a.items)this.items[b]=a.items[b];else for(b in a)this.items[b]=a[b];return this}),Collection.implement({apply:function(a,b){this.each(function(c){c[a].apply(this,b)},this)},call:function(a){this.apply(a,Array.prototype.slice(arguments,1))},each:function(a,b){Object.each(this.items,a,b||a)},filter:function(a,b){return Object.filter(this.items,a,b||a)},find:function(a,b){return Object.some(this.items,a,b||a)},set:function(a,b){this.items[a]||this.length++,this.items[a]=b},get:function(a,b){return void 0!==this.items[a]?this.items[a]:b},has:function(a){return void 0!==this.items[a]},remove:function(a){this.items[a]&&(delete this.items[a],this.length--)},empty:function(){
this.items={},this.length=0},getFirst:function(){for(var a in this.items)return this.items[a];return null},getLast:function(){for(var a in this.items);return a?this.items[a]:null},keyOf:function(a){return Object.keyOf(this.items,a)},indexOf:function(a){var b=0;for(var c in this.items){if(this.items[c]==a)return b;b++}return-1},getAt:function(a){var b=0;for(var c in this.items){if(a==b)return this.items[c];b++}return null},every:function(a,b){return Object.every(this,a,b)},some:function(a,b){return Object.some(this.items,a,b)},getKeys:function(){return Object.keys(this.items)},getValues:function(){return Object.values(this.items)},toArray:function(){var a=[];for(var b in this.items)a.push(this.items[b]);return a},toQueryString:function(a){return Object.toQueryString(this.items,a)},destroy:function(){for(var a in this.items)$destroy(this.items[a]),delete this.items[a]}}),Collection.alias("erase","remove"),Type.extend({isEmpty:function(a,b){return null===a||void 0===a||Type.isArray(a)&&!a.length||(b?!1:""===a);
},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isDate:function(a){return"[object Date]"===Object.prototype.toString.call(a)},isObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},isPrimitive:function(a){return Type.isString(a)||Type.isNumber(a)||Type.isBoolean(a)},isNumber:function(a){return"number"==typeof a},isInteger:function(a){return Type.isNumber(a)&&a%1===0},isFloat:function(a){return Type.isNumber(a)&&/\./.test(a.toString())},isString:function(a){return"string"==typeof a},isBoolean:function(a){return"boolean"==typeof a},isIterable:function(a){var b=typeof a,c=!1;return a&&"string"!=b&&(c="function"==b?a instanceof NodeList||a instanceof HTMLCollection:!0),c?void 0!==a.length:!1},isFunction:function(a){return"function"==typeof a},isInstance:function(a){return Type.isObject(a)&&a.isInstance}}),Bounds=new Class({$bounds:{},bound:function(a){if(!this.$bounds[a]){if(!this[a])throw new Error("Unable bound method with name "+a+" in object "+$className(this));
this.$bounds[a]=this[a].bind(this)}return this.$bounds[a]}}),function(){var a=function(a){return a.replace(/^on([A-Z])/,function(a,b){return b.toLowerCase()})};Events.implement({fireEvent:function(b,c,d){b=a(b);var e,f,g,h=this.$events[b];if(!h)return this;for(c=Array.from(c),f=0;f<h.length;f++)if(g=h[f],d?g.delay(d,this,c):e=g.apply(this,c),e===!1)return!1;return!0},removeEvent:function(b,c){b=a(b);var d=this.$events[b];return d&&!c.internal&&d.erase(c),this}})}(),function(){var a=[],b=function(b){a.push({sign:"+"===b[0]||"-"===b[0]?parseInt(b.shift()+1,10):1,path:b})},c=function(a,b){var c=a;return b.each(function(a){c=c[a]}),c},d=function(b,d){for(var e=0,f=a.length;f>e;e++){var g=c(b,a[e].path),h=c(d,a[e].path);if(g>h)return a[e].sign;if(h>g)return-a[e].sign}return 0};Array.implement("sortBy",function(){return a.empty(),Array.each(arguments,function(a){switch(typeOf(a)){case"array":b(a);break;case"string":b(a.match(/[+-]|[^.]+/g))}}),this.sort(d)})}(),window.notifications||(window.notifications=window.notification||window.webkitNotifications||navigator.mozNotification),
window.notifications&&(window.notifications.create=function(a,b,c){return navigator.mozNotification?navigator.mozNotification.createNotification(a,b,c):notifications.createNotification(c,a,b)}),function(){var a={fire:function(a,b,c){return this.fireEvent(a,b,c)},on:function(a,b){return Type.isString(a)?this.addEvent(a,b):this.addEvents(a)},un:function(a,b){return Type.isString(a)?this.removeEvent(a,b):this.removeEvents(a)}};Object.append(window,a),Request.implement(a),Events.implement(a),Element.implement(a)}();var $emptyFn=function(){},$tr=function(a){return Locale.get.apply(Locale.get,arguments)},$destroy=function(a){Array.from(arguments).each(function(a){a&&a.destroy&&a.destroy()})},$bounds=function(a,b){for(var c in a)Type.isString(a[c])&&(a[c]=b.bound(a[c]));return a};Miwo={},Miwo.common={};var miwo={body:void 0,baseUrl:"",classManager:void 0,zindexManager:void 0,storeManager:void 0,proxyManager:void 0,entityManager:void 0,componentManager:void 0,windowManager:void 0,application:void 0,
behavior:void 0,dialog:void 0,dic:void 0,ajax:void 0,initialize:function(){this.ready(function(){miwo.body=document.getElementsByTagName("body")[0],miwo.body.addClass||(miwo.body.hasClass=Element.prototype.hasClass,miwo.body.addClass=Element.prototype.addClass,miwo.body.removeClass=Element.prototype.removeClass)})},ready:function(a){window.on("domready",a)},setContainer:function(a){this.dic=a,this.application=a.get("miwo.application")},getStore:function(a){return Type.isInstance(a)?a:Type.isObject(a)?this.create("Miwo.data.Store",a):a?this.storeManager.get(a):null},getProxy:function(a){return Type.isInstance(a)?a:Type.isObject(a)?this.create("Miwo.data.Proxy",a):a?this.proxyManager.get(a):null},getEntity:function(a){return Type.isInstance(a)?a:Type.isObject(a)?this.create("Miwo.data.Entity",a):a?this.entityManager.get(a):null},get:function(a){return this.componentManager.get(a)},define:function(a,b){return this.classManager.define(a,b)},namespace:function(a){this.classManager.namespace(a);
},create:function(name,options){return Type.isObject(name)?name.ctype?this.create(name.ctype,name):name.xtype?this.create(this.componentManager.getClassByXtype(name.xtype),name):null:/^[a-z].*/.test(name)?this.create(this.classManager.getClassByShortcut(name),options):eval("new "+name+"(options)")},require:function(a){this.classManager.require(a)},notify:function(a,b,c){return this.service("miwo.notificator").create({title:a,desc:b,handler:c})},flash:function(a,b){this.service("miwo.flash").flash(a,b)},log:function(a,b){this.service("miwo.logger").logArgs(Array.slice(arguments))},service:function(a){return this.dic.get(a)}};miwo.initialize(),Miwo.Assert={equal:function(a,b){this.isEqual(b,a)||this.fail("{0} should by equal to {1}",b,a)},"true":function(a){a!==!0&&this.fail("{0} should by true",a)},"false":function(a){a!==!1&&this.fail("{0} should by false",a)},truthy:function(a){a||this.fail("{0} should be truthy",a)},falsey:function(a){a&&this.fail("{0} should be falsey",a)},object:function(a){
this.type(a,"object")},"class":function(a){this.type(a,"class")},"function":function(a){this.type(a,"function")},element:function(a){this.type(a,"element")},method:function(a,b){a[b]&&"function"==typeOf(a[b])||this.fail("Object of '{0}' should by contains metohod '"+b+"'.",$className(a))},type:function(a,b){typeOf(a)!=b&&this.fail("{0} should by "+b,typeOf(a))},instanceOf:function(a,b){this.type(a,"class"),this.type(b,"object"),instanceOf(b,a)||this.fail("Object of {0} should by instance of {1}",$className(b),$className(a))},fail:function(a,b,c){throw b=this.toString(b),c=this.toString(c),new Error(a.format(b,c))},"throws":function(a,b,c){var d;try{a.call()}catch(e){d=e}return d?d.name!==b?this.fail(b+" was expected but got "+d.name):c&&!this.isEqual(d.message,c)&&this.fail(b+" with message '{1}' was excepted but got '{0}'",d.message,c):this.fail(b+" was expected, but none was thrown"),d},isEqual:function(a,b){if(Type.isArray(a)&&Type.isArray(b)){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(!this.isEqual(a[c],b[c]))return!1;
return!0}if(Type.isObject(a)&&Type.isObject(b)){for(var d in a)if(!this.isEqual(a[d],b[d]))return!1;return!0}return a===b},toString:function(a){return Type.isArray(a)?"["+a+"]":a}};var assert=Miwo.Assert;Miwo.Object=new Class({isInstance:!0,initialize:function(a){this.setConfig(a)},setConfig:function(a){a&&Miwo.Object.setProperties(this,a)},destroy:function(){if(!this.isDestroyed){this.destroying=!0,this.beforeDestroy&&this.beforeDestroy();for(var a in this)0===a.indexOf("__destroy")&&this[a]();this.doDestroy&&this.doDestroy(),delete this.destroying,this.isDestroyed=!0,this.afterDestroy&&this.afterDestroy()}}}),Miwo.Object.properties={},Miwo.Object.setProperties=function(a,b){for(var c in b)this.setProperty(a,c,b[c])},Miwo.Object.setProperty=function(a,b,c){this.properties[b]?this.properties[b](a,c):void 0!==c&&("function"===typeOf(c)?a[b]||(a[b]=c):Type.isObject(a[b])&&Type.isObject(c)?Object.merge(a[b],c):a[b]=c)},Miwo.Object.registerProperty=function(a,b){Miwo.Object.properties[a]=b},
Miwo.common.ClassManager=new Class({Implements:[Events],namespaces:{},classes:{},shortcuts:{},extensions:{},ext:function(a,b){this.extensions[a]=b},setAlias:function(a,b){var c=a.lastIndexOf("."),d=a.substring(0,c),e=a.substring(c+1);this.classes[a]=this.namespace(d)[e]=b},define:function(a,b){var c,d,e,f=a.lastIndexOf("."),g=a.substring(0,f),h=a.substring(f+1);if(this.classes[a])throw new Error("Class '"+a+"' is already defined");b.className=a,this.fireEvent("define",[a,b]);for(e in this.extensions)this.extensions[e].beforeDefine&&this.extensions[e].beforeDefine(this,a,b);b.Alias&&(d=b.Alias,delete b.Alias);try{g=this.namespace(g),b.hasOwnProperty("Object")?(c=g[h]=b,this.classes[a]=c):(c=g[h]=new Class(b),this.classes[a]=c)}catch(i){throw new Error("In definition of class '"+a+"' raise error: "+i.message)}d&&this.setAlias(d,c);for(e in this.extensions)this.extensions[e].afterDefine&&this.extensions[e].afterDefine(this,a,b,c,{ns:g,cn:h});return this.fireEvent("defined",[a,c]),c},isDefined:function(a){
return!!this.classes[a]},namespace:function(a){if(!a)return window;if(!this.namespaces[a]){var b=window;a.split(".").each(function(a){b=b[a]||(b[a]={})}),this.namespaces[a]=b}return this.namespaces[a]},registerShortcut:function(a,b){if(this.shortcuts[a])throw new Error("Shortcut "+a+" exists for class "+this.shortcuts[a]);this.shortcuts[a]=b},getClassByShortcut:function(a){if(!this.shortcuts[a])throw new Error("Undefined shortcut "+a);return this.shortcuts[a]}}),miwo.classManager=new Miwo.common.ClassManager,miwo.classManager.ext("singleton",{afterDefine:function(a,b,c,d,e){c.hasOwnProperty("Singleton")&&(e.ns[e.cn]=new d)}}),miwo.classManager.ext("shortcut",{beforeDefine:function(a,b,c,d){c.hasOwnProperty("Shortcut")&&(a.registerShortcut(c.Shortcut,b),delete c.Shortcut)}}),miwo.classManager.ext("services",{beforeDefine:function(a,b,c){if(c.hasOwnProperty("Services")&&c.hasOwnProperty("Extends")){for(var d=c.Extends;!d.services&&d.parent;)d=d.parent;c.Services=Object.merge(c.Services,d.services);
}},afterDefine:function(a,b,c,d){c.hasOwnProperty("Services")&&(d.services=c.Services,delete c.Services)}}),miwo.define("Miwo.Events",{Implements:[Events,Bounds],$managedListeners:[],$managedRelays:[],addListener:function(a,b,c){var d=Type.isString(b)?this.bound(b):b;c&&(d=d.bind(c)),this.addEvent(a,d)},addListeners:function(a,b){for(var c in a)this.addListener(c,a[c],b)},removeListener:function(a,b){this.removeEvent(a,Type.isString(b)?this.bound(b):b)},removeListeners:function(a){this.removeEvents(a)},on:function(a,b,c){Type.isObject(a)?(c=b,this.addListeners(a,c)):this.addListener(a,b,c)},un:function(a,b){if(b)this.removeListener(a,b);else if(Type.isObject(a))for(var c in a)this.removeListener(c,a[c]);else this.removeListeners(a)},addManagedListener:function(a,b,c){c=Type.isString(c)?this.bound(c):c,a.addEvent(b,c),this.$managedListeners.push({object:a,name:b,listener:c})},addManagedListeners:function(a,b){for(var c in b)this.addManagedListener(a,c,b[c])},removeManagedListeners:function(a,b,c){
var d,e,f=[];for(d=0;d<this.$managedListeners.length;d++)e=this.$managedListeners[d],c=Type.isString(c)?this.bound(c):c,a&&e.object!==a||b&&e.name!==b||c&&e.listener!==c||f.push(e);for(d=0;d<f.length;d++)e=f[d],e.object.removeListener(e.name,e.listener),this.$managedListeners.erase(e)},mon:function(a,b,c){c?this.addManagedListener(a,b,c):this.addManagedListeners(a,b)},mun:function(a,b,c){this.removeManagedListeners(a,b,c)},munon:function(a,b,c,d){a!==b&&(a&&this.mun(a,c,d),b&&this.mon(b,c,d))},__destroyManagedListeners:function(){this.removeManagedListeners()},relayEvents:function(a,b,c){var d=this,e={};return c=c?c:"",b.each(function(b){e[b]=function(){var a=Array.from(arguments);d.fireEvent.apply(d,[c+b,a])},a.addEvent(b,e[b])}),{target:a,handlers:e,destroy:function(){Object.each(e,function(a,b){this.target.removeEvent(b,a)},this)}}},addRelay:function(a,b,c){var d=this.relayEvents(a,b,c);this.$managedRelays.push({object:a,relay:d})},removeRelay:function(a){var b,c,d=[];for(b=0;b<this.$managedRelays.length;b++)c=this.$managedRelays[b],
a&&c.object!==a||d.push(c);for(b=0;b<d.length;b++)c=d[b],$destroy(c.relay),this.$managedRelays.erase(c)},relay:function(a,b,c){this.addRelay(a,b,c)},unrelay:function(a){this.removeRelay(a)},__destroyManagedRelays:function(){this.removeRelay()}}),Miwo.Object.registerProperty("on",function(a,b){a.on(b)}),miwo.define("Miwo.Configurator",{Extends:Miwo.Object,Implements:[Options],options:{parameters:{debugMode:!1}},initialize:function(a){this.setOptions({parameters:a||{}})},isDebug:function(){return this.options.parameters.debugMode},addConfig:function(a){this.setOptions(this.cleanUndefined(a))},ext:function(a){this.getBuilder().ext(a)},createContainer:function(){var a=this.getBuilder().build();return miwo.setContainer(a),a},getBuilder:function(){return this.builder||(this.builder=new Miwo.di.ContainerBuilder(this.options),this.builder.ext(new Miwo.di.MiwoExtension)),this.builder},cleanUndefined:function(a){for(var b in a)void 0===a[b]?delete a[b]:Type.isObject(a[b])&&this.cleanUndefined(a[b]);
return a}}),miwo.cookie={document:document,options:{},write:function(a,b,c){return this.create(a,c).write(b)},read:function(a,b){return this.create(a).read()||b},dispose:function(a,b){this.write(a,-1,Object.merge({duration:-1},b))},create:function(a,b){var c=new Cookie(a,Object.merge({},this.options,b));return c.options.document=this.document,c}},miwo.define("Miwo.utils.Maskable",{getMaskedEl:function(){return this.maskedEl||this.el},showMask:function(a,b,c){this.mask||(this.mask=new Miwo.utils.Mask({maskedEl:this.getMaskedEl()})),this.mask.setHtml('<div class="miwo-mask-title">'+a+'</div><div class="miwo-mask-desc">'+b+"</div>"),this.mask.show(),c&&this.hideMask.delay(c,this)},hideMask:function(){this.mask&&this.mask.hide()},__destroyMask:function(){this.mask&&this.mask.destory()}}),miwo.namespace("Miwo.di"),Miwo.di.Helpers={expandRe:/^<%(=)?([\S]+)%>$/,expandStringRe:/<%(=)?([\S]+)%>/g,serviceRe:/^@([\S]+)$/,autowireServices:function(a,b,c){var d={};if(b)for(var e in b)d[e]=b[e];if(a)for(var f in a){
var g=a[f],h=!1;"!"===g.charAt(0)&&(g=g.substr(1),h=!0),!d[f]&&h&&(d[f]=this.getServiceByDefinition(c,g)),d["get"+f.capitalize()]=this.createGetterMethod(c,f,g)}return d},createGetterMethod:function(a,b,c){return function(){return this[b]||(this[b]=Miwo.di.Helpers.getServiceByDefinition(a,c)),this[b]}},getServiceByDefinition:function(a,b){return/[a-z]/.test(b.charAt(0))?a.get(b):a.getByType(b,!0)},expand:function(a,b,c,d){var e,f,g=typeOf(a);if("string"==g){if(!(d&&"variables"!==d||null===(e=a.match(this.expandRe))))return f="="===e[1]?this.getSection(b.parameters,e[2]):this.getSection(b,e[2]),this.expand(f,b,c,d);if(!(d&&"variables"!==d||null===(e=a.match(this.expandStringRe)))){for(var h=0;h<e.length;h++)a=a.replace(e[h],this.expand(e[h],b,c));return a}if((!d||"services"===d)&&null!==(e=a.match(this.serviceRe)))return c.get(e[1])}else if("object"==g){for(var i in a)a[i]=this.expand(a[i],b,c,d);return a}return a},getSection:function(a,b){var c=b.indexOf(".");return c>0?this.getSection(a[b.substr(0,c)],b.substr(c+1)):a&&void 0!==a[b]?a[b]:null;
},createFactory:function(a){return function(b,c){return b.createInstance(a,c)}},wrapFactory:function(callback){return function(ct,args){return eval(callback+"(ct, args)")}},applySetup:function(container,service,setup){for(var replaceCb=function(a,b){return"args["+cnt+"]"},i=0;i<setup.length;i++){var args=Array.from(setup[i]),code="service."+args[0].replace(/@([a-zA-Z0-9\.]+)/g,"container.get('$1')"),cnt=0;args.splice(0,1),code=code.replace(/\?/g,replaceCb),eval(code)}}},miwo.define("Miwo.di.Extension",{Extends:Miwo.Object,Implements:Options,name:"",containerBuilder:null,install:function(a){this.containerBuilder=a},getContainer:function(){return this.containerBuilder.container},getConfig:function(){return this.containerBuilder.getConfig(this.name)},getOptions:function(){return this.options}}),miwo.define("Miwo.di.Container",{registry:{},parameters:{},defines:{},extensions:{},creating:{},types:{},tags:{},define:function(a,b,c){if(this.defines[a])throw new Error("Service with name "+a+" already exists.");
if(!b)throw new Error("Returned type is not specified.");return c=c||{},c.factory&&Type.isString(c.factory)&&(c.factory=Miwo.di.Helpers.wrapFactory(c.factory)),this.defines[a]={type:b,factory:c.factory,args:c.args,setup:c.setup},this.setMeta(a,b,c.tags),this},update:function(a,b){if(!this.defines[a])throw new Error("Service with name "+a+" dont exists.");var c=this.defines[a];return b.factory&&(c.factory=b.factory),b.args&&(c.args=Object.merge(c.args,b.args)),(b.type||b.tags)&&(b.type&&(c.type=b.type),this.setMeta(a,b.type,b.tags)),b.setup&&(c.setup?c.setup.push(b.setup):c.setup=b.setup),this},ext:function(a,b){if(!this.defines[a])throw new Error("Service with name '"+a+"' not exists.");this.defines[a].ext||(this.defines[a].ext=[]),this.defines[a].ext.push(b)},add:function(a,b){if(!Type.isObject(b))throw new Error("Service must be a object or instance.");if(this.registry[a])throw new Error('Service with name "'+a+'" exists.');return this.registry[a]=b,this},get:function(a){return this.registry[a]||(this.registry[a]=this.create(a)),
this.registry[a]},has:function(a){return this.registry[a]||this.defines[a]},remove:function(a){delete this.registry[a]},isDefined:function(a){return!!this.defines[a]},isCreated:function(a){if(!this.has(a))throw new Error('Service "'+a+'" not found');return!!this.registry[a]},create:function(name){var service;if(this.creating[name])throw new Error("Cannot create "+name+", circular reference detected for services: "+Object.keys(this.creating).join(","));if(!this.defines[name])throw new Error("Service '"+name+"' not found.");this.creating[name]=!0;try{var def=this.defines[name];if(def.args)try{Miwo.di.Helpers.expand(def.args,{parameters:this.parameters},this)}catch(e){throw new Error("Create service "+name+" faild. Expand args error: "+e.message)}var type=eval(def.type);if("class"!=typeOf(type))throw new Error("Create service "+name+" faild. Definition "+def.type+" is not class constructor, but it is "+typeOf(type));try{var factory=def.factory||Miwo.di.Helpers.createFactory(def.type);service=factory.call(factory,this,def.args);
}catch(e){throw new Error("Create service "+name+" faild. Factory service error: "+e.message)}if(!instanceOf(service,type))throw new Error("Create service "+name+" faild. Service is not instance of desired type "+def.type);if(def.setup&&Miwo.di.Helpers.applySetup(this,service,def.setup),def.ext)for(var i=0;i<def.ext.length;i++)def.ext[i].call(this,service)}catch(e){throw delete this.creating[name],e}if(delete this.creating[name],!Type.isObject(service))throw new Error("Unable to create service '"+name+"', value returned by method $method() is not object.");return service},getByType:function(a,b){var c=this.findByType(a);if(0!==c.length){if(c.length>1)throw new Error("Multiple services of type '"+a+"' found: "+c.join(","));return this.get(c[0])}if(b)throw new Error("Service of type '"+a+"' not found.")},findByType:function(a){return this.types[a]?this.types[a]:[]},findByTag:function(a){return this.tags[a]?this.tags[a]:[]},setMeta:function(a,b,c){if(b&&(this.types[b]||(this.types[b]=[]),this.types[b].push(a)),
c)for(var d=0;d<c.length;d++){var e=c[d];this.tags[e]||(this.tags[e]=[]),this.tags[e].push(a)}},createInstance:function(cls,args){return miwo.create(cls,Miwo.di.Helpers.autowireServices(eval(cls).services,args,this))},injectServices:function(a,b){Miwo.Object.setProperties(a,Miwo.di.Helpers.autowireServices(a.Services,b,this))}}),miwo.define("Miwo.di.ContainerBuilder",{Extends:Miwo.Object,config:void 0,extensions:{},initialize:function(a){this.config=a||{}},ext:function(a){if(!a.name)throw new Error("Extension should by defined a name property");if(this.extensions[a.name])throw new Error("Extension with name '"+name+"' exists");this.extensions[a.name]=a,a.install(this)},getConfig:function(a){return this.config[a]||{}},build:function(){var a,b,c,d={};this.container=new Miwo.di.Container;for(a in this.extensions)b=this.extensions[a],d[b.name]=b.getOptions();this.config=Object.merge({},d,this.config),Miwo.di.Helpers.expand(this.config,this.config,this.container,"variables"),this.container.parameters=this.config.parameters;
for(a in this.extensions)b=this.extensions[a],b.beforeBuild&&b.beforeBuild(this.container);var e=this.getConfig("services");for(a in e)c=e[a],Type.isString(c)?this.container.define(a,c,this.createFactory(c)):Type.isFunction(c)?this.container.ext(a,c):this.container.has(a)?this.container.update(a,c):this.container.define(a,c.type,c);Miwo.di.Helpers.expand(this.config,this.config,this.container,"services");for(a in this.extensions)b=this.extensions[a],b.afterBuild&&b.afterBuild(this.container);for(a in this.extensions)b=this.extensions[a],b.onCreated&&b.onCreated(this.container);return this.container}}),miwo.define("Miwo.di.MiwoExtension",{Extends:Miwo.di.Extension,name:"miwo",options:{application:{debugMode:"<%=debugMode%>",controllers:[]},cookie:{path:"/",domain:!1},logger:{title:void 0,styles:void 0}},beforeBuild:function(a){var b=this.getConfig();this.setupBase(a,b),this.setupCookie(a,b.cookie),this.setupApplication(a,b.application)},setupBase:function(a,b){a.define("miwo.componentMgr","Miwo.component.ComponentMgr"),
a.define("miwo.logger","Miwo.utils.Logger",{args:{title:b.logger.title,styles:b.logger.styles}})},setupCookie:function(a,b){miwo.cookie.options.domain=b.domain,miwo.cookie.options.path=b.path,miwo.cookie.document=document},setupApplication:function(a,b){a.define("miwo.container","Miwo.di.Container",{factory:function(){return a}}),a.define("miwo.application","Miwo.app.Application",{args:{catchExceptions:!b.debugMode,controllers:b.controllers}}),a.define("miwo.app.eventmgr","Miwo.app.EventManager"),a.define("miwo.app.controllerFactory","Miwo.app.ControllerFactory")}}),miwo.define("Miwo.component.ComponentMgr",{Implements:[Miwo.Events],types:{},list:{},names:{},id:1,initialize:function(){miwo.classManager.on("define",this.onDefine.bind(this))},setXtype:function(a,b){this.types[a]=b},getClassByXtype:function(a){if(!this.types[a])throw new Error("ComponentMgr::getClass(): Unknown xtype "+a);return this.types[a]},onDefine:function(a,b){b.hasOwnProperty("xtype")&&!this.types[b.xtype]&&this.setXtype(b.xtype,a);
},generateId:function(){return this.id++,"c"+this.id},generateName:function(a){return this.names[a]||(this.names[a]=0),this.names[a]++,a+this.names[a]},register:function(a){if(a.componentManager)throw new Error("ComponentMgr::register(): component with id "+a.id+" already exists.");a.componentManager=this,this.list[a.id]=a,this.fire("register",a)},unregister:function(a){this.list[a.id]&&(delete this.list[a.id],delete a.componentManager,this.fire("unregister",a))},get:function(a){return this.list[a]?this.list[a]:null}}),miwo.componentManager=new Miwo.component.ComponentMgr,miwo.define("Miwo.component.Component",{Extends:Miwo.Object,Implements:Miwo.Events,Alias:"Miwo.Component",isComponent:!0,xtype:"component",id:void 0,name:void 0,width:void 0,height:void 0,top:void 0,left:void 0,right:void 0,bottom:void 0,padding:void 0,margin:void 0,html:void 0,styles:void 0,cls:void 0,baseCls:"",componentCls:void 0,container:null,el:"div",contentEl:void 0,focusEl:void 0,rendered:!1,rendering:!1,zIndex:void 0,
zIndexManage:!1,zIndexManager:void 0,focusOnToFront:!0,$isGeneratedId:!1,focus:!1,visible:!0,reference:void 0,renderTo:void 0,template:void 0,templateParams:{},scrollable:!1,autoCenter:!1,disabled:!1,initialize:function(a){this.beforeInit(),this.parent(a),this.doInit(),miwo.componentManager.register(this),this.zIndexManage&&miwo.zindexManager.register(this),this.afterInit(),this.renderTo&&this.render(this.renderTo)},setPropertyDefaults:function(a){for(var b in a)this.defaults[b]=a[b]},beforeInit:function(){},doInit:function(){this.el=this.createElement(this.el),this.contentEl&&(this.contentEl=this.createElement(this.contentEl),this.contentEl.inject(this.el),this.contentEl.addClass("miwo-ct")),this.focusEl=this.el,this.name||(this.name=miwo.componentManager.generateName(this.xtype)),this.id||(this.$isGeneratedId=!0,this.id=miwo.componentManager.generateId()),this.template&&Type.isString(this.template)&&(this.template={type:"string",src:this.template})},afterInit:function(){if(this.component){
var a=this.component;delete this.component,a.addComponent(this)}},createElement:function(a){if(Type.isString(a))return new Element(a);var b=a.tag||"div";return delete a.tag,new Element(b,a)},setId:function(a){this.$isGeneratedId=!1,this.id=a,this.el.set("id",a)},getName:function(){return this.name},getBaseCls:function(a){return this.baseCls+(a?"-"+a:"")},getContentEl:function(){return this.contentEl||this.el},getFocusEl:function(){return this.focusEl},setParentEl:function(a,b){this.parentEl="after"==b||"before"==b?a.getParent():a,this.el.inject(a,b)},getParentEl:function(){return this.parentEl},findElement:function(a){return this.el.getElement(a)},findElements:function(a){return this.el.getElements(a)},setZIndex:function(a){return this.el.setStyle("z-index",a),a+10},getZIndex:function(){return parseInt(this.el.getStyle("z-index"),10)},toFront:function(){this.getZIndexManager().bringToFront(this)},toBack:function(){this.getZIndexManager().sendToBack(this)},getZIndexManager:function(){if(!this.zIndexManager)throw new Error("Component "+this.name+" is not managed with zIndexManager");
return this.zIndexManager},setDisabled:function(a){this.disabled=a,this.fireEvent("disabled",[this,a])},setFocus:function(){this.focus=!0,this.getFocusEl().setFocus()},isFocusable:function(){return this.focusEl&&this.rendered&&this.isVisible()},isScrollable:function(){return null===this.scrollable?this.height||null!==this.top&&null!==this.bottom:this.scrollable},isXtype:function(a){return this.xtype==a},setParent:function(a,b){if(null===a&&null===this.container&&null!==b)return this.name=b,this;if(a===this.container&&null===b)return this;if(null!==this.container&&null!==a)throw new Error("Component '"+this.name+"' already has a parent.");return b&&(this.name=b),null!==a?(this.container=a,this.attachedContainer(this.container)):(this.detachedContainer(this.container),this.container=null),this},getParent:function(){return this.container},up:function(a){for(var b=this.getParent();b&&!b.is(a);)b=b.getParent();return b},is:function(a){return a.test(/^\#([\w\-]+)/)?a.replace(/\#/,"")===this.id:a?this.isXtype(a):!1;
},nextSibling:function(){return this.getParent().nextSiblingOf(this)},previousSibling:function(){return this.getParent().previousSiblingOf(this)},attachedContainer:function(a){if(this.reference){var b,c,d=this.reference;Type.isInstance(d)?(b=d,c=this.name):Type.isObject(d)?(b=d.scope,c=d.name):(b=a,c=d),b&&b.isContainer&&b.setReference(c,this)}},detachedContainer:function(a){if(this.reference){var b,c,d=this.reference;Type.isInstance(d)?(b=d,c=this.name):Type.isObject(d)?(b=d.scope,c=d.name):(b=a,c=d),b&&b.isContainer&&b.removeReference(c)}},hasTemplate:function(){return!!this.template},getTemplate:function(){if(this.template&&!Type.isInstance(this.template)){var a=this.createTemplate();a.setSource(this.template.type,this.template.src),a.setParams(this.templateParams),this.template=a}return this.template},createTemplate:function(){var a=miwo.dic.createTemplate();return a.setParam("me",this),a.setParam("component",this),a},render:function(a,b){this.rendered||(a&&this.setParentEl(a,b),this.beforeRender(),
this.rendering=!0,this.fireEvent("render",[this,this.el]),this.doRender(),this.rendered=!0,this.rendering=!1,this.afterRender(),this.fireEvent("rendered",[this,this.getContentEl()]))},update:function(){},beforeRender:function(){var a=this.el;a.setVisible(this.visible),a.set("miwo-name",this.name),a.store("component",this),this.$isGeneratedId||a.set("id",this.id),this.cls&&a.addClass(this.cls),this.baseCls&&a.addClass(this.baseCls),this.componentCls&&a.addClass(this.componentCls),void 0!==this.styles&&a.setStyles(this.styles),void 0!==this.width&&a.setStyle("width",this.width),void 0!==this.height&&a.setStyle("height",this.height),void 0!==this.top&&a.setStyle("top",this.top),void 0!==this.bottom&&a.setStyle("bottom",this.bottom),void 0!==this.left&&a.setStyle("left",this.left),void 0!==this.right&&a.setStyle("right",this.right),void 0!==this.zIndex&&a.setStyle("zIndex",this.zIndex),void 0!==this.padding&&a.setStyle("padding",this.padding),void 0!==this.margin&&a.setStyle("margin",this.margin);
},doRender:function(){this.html?this.el.set("html",this.html):this.template&&this.getTemplate().render(this.el)},afterRender:function(){var a=this;this.findElements("[miwo-reference]").each(function(b){a[b.getAttribute("miwo-reference")]=b,b.removeAttribute("miwo-reference")}),this.findElements("[miwo-events]").each(function(b){for(var c=b.getAttribute("miwo-events").split(","),d=0;d<c.length;d++){var e=c[d].split(":",2);if(!a[e[1]])throw new Error("[Component::afterRender] In component "+a.name+" is undefined callback '"+e[1]+"' for event '"+e[0]+"'");b.on(e[0],a.bound(e[1]))}b.removeAttribute("miwo-events")}),this.findElements("[data-behavior]").each(function(a){miwo.getBehavior().apply(a)})},setVisible:function(a){this[a?"show":"hide"]()},isVisible:function(){return this.visible},setSize:function(a,b){Type.isObject(a)&&(b=a.height,a=a.width),void 0!==b&&null!==b&&(this.height=b,this.el.setStyle("height",b)),void 0!==a&&null!==a&&(this.width=a,this.el.setStyle("width",a)),this.fireEvent("resize",this);
},getSize:function(){return{width:this.el.getWidth(),height:this.el.getHeight()}},showAt:function(a){this.show();var b=this.el.getWidth(),c=this.el.getHeight(),d=miwo.body.getWidth(),e=miwo.body.getHeight();return a.x<0&&(a.x=0),a.x+b>d&&(a.x=d-b-10),a.y<0&&(a.y=0),a.y+c>e&&(a.y=e-c-10),this.top=a.y,this.left=a.x,this.show(),this},show:function(){return this.visible?void 0:(this.fireEvent("beforeshow",this),this.render(),this.doShow(),this.parentShown(this),this.fireEvent("show",this),this)},doShow:function(){void 0!==this.top&&this.el.setStyle("top",this.top),void 0!==this.bottom&&this.el.setStyle("bottom",this.bottom),void 0!==this.left&&this.el.setStyle("left",this.left),void 0!==this.right&&this.el.setStyle("right",this.right),this.el.show(),this.visible=!0,this.top||this.left||!this.autoCenter||this.center()},parentShown:function(a){this.fireEvent("parentshown",a)},hide:function(){return this.visible?(this.fireEvent("beforehide",this),this.doHide(),this.fireEvent("hide",this),this):void 0;
},doHide:function(){this.visible=!1,this.el.hide()},center:function(){return this.el.setStyle("left",this.left=(this.parentEl.getWidth()-this.el.getWidth())/2),this.el.setStyle("top",this.top=(this.parentEl.getHeight()-this.el.getHeight())/2),this},setActive:function(a,b){a?this.fireEvent("activate",this):this.fireEvent("deactivate",this)},beforeDestroy:function(){this.fireEvent("beforedestroy",this),this.container&&this.container.removeComponent(this.name),this.zIndexManage&&miwo.zindexManager.unregister(this),miwo.componentManager.unregister(this)},doDestroy:function(){$destroy(this.template),this.el.eliminate("component"),this.el.destroy()},afterDestroy:function(){this.fireEvent("destroy",this)}}),miwo.define("Miwo.component.Container",{Extends:Miwo.component.Component,Alias:"Miwo.Container",isContainer:!0,xtype:"container",defaults:{},defaultXtype:void 0,componentFactory:void 0,components:void 0,contentEl:void 0,layout:"auto",$components:{},$references:{},doInit:function(){this.parent(),
this.initComponents()},initComponents:function(){var a=this,b=[];this.components&&this.components.each(function(c){Object.expand(c,a.defaults),c.ctype||c.xtype||(c.xtype=a.defaultXtype||"component"),c.name||(c.name=miwo.componentManager.generateName(c.xtype)),a.hasConfigReference(c)&&b.push(c.name),a.$components[c.name]=c}),this.components=new Collection;for(var c=0;c<b.length;c++)this.getComponent(b[c])},hasConfigReference:function(a){if(a.reference)return!0;if(a.components)for(var b in a.components){var c=a.components[b];if(this.hasConfigReference(c))return!0}return!1},setReference:function(a,b){if(this[a])throw new Error("Object property "+a+" already exists");this[a]=b,this.$references[a]=b},removeReference:function(a){delete this[a],delete this.$references[a]},addComponent:function(a,b){if(Type.isString(a)||(b=a,a=b.name),!(b instanceof Miwo.component.Component))throw new Error("Component is not instance of Miwo.component.Component.");if(!a||!a.test(/^[a-zA-Z0-9]+$/))throw new Error("Component name must be non-empty alphanumeric string, '"+a+"' given.");
if(this.components.has(a))throw new Error("Component with name '"+a+"' already exists.");var c=this;do{if(c===b)throw new Error("Circular reference detected while adding component '"+a+"'.");c=c.getParent()}while(null!==c);this.validateChildComponent(b),this.fireEvent("add",[this,b]);try{this.components.set(a,b),b.setParent(this,a),this.addedComponent(b)}catch(d){throw this.components.remove(a),d}return this.fireEvent("added",[this,b]),b},addedComponent:function(a){var b=this.getParent();b&&b.addedComponent(a)},removeComponent:function(a){if(!this.components.has(a))throw new Error("Component named '"+a+"' is not located in this container.");var b=this.components.get(a);this.fireEvent("remove",[this,b]),b.setParent(null),this.components.remove(a),this.removedComponent(b),this.fireEvent("removed",[this,b])},removedComponent:function(a){var b=this.getParent();b&&b.removedComponent(a)},getComponent:function(a,b){if(!a)throw new Error("Component or subcomponent name must not be empty string.");
void 0===b&&(b=!0);var c,d=a.indexOf("-");if(d>0&&(c=a.substring(d+1),a=a.substring(0,d)),"parent"==a)return c?this.component.getComponent(c,b):this.component;if(!this.components.has(a)){var e=this.createComponent(a);e&&null===e.getParent()&&this.addComponent(a,e)}if(this.components.has(a))return c?this.components.get(a).getComponent(c,b):this.components.get(a);if(b)throw new Error("Component with name '"+a+"' does not exist.")},createComponent:function(a){var b,c=a.capitalize(),d="createComponent"+c;if(c!=a&&this[d]){if(b=this[d](),!b&&!this.components.has(a))throw new Error("Method "+this+"::"+d+"() did not return or create the desired component.");return b}return this.$components[a]?(b=miwo.componentManager.createComponent(this.$components[a]),delete this.$components[a],b):this.componentFactory?b=this.componentFactory(a):void 0},hasComponents:function(){return this.getComponents().length>0},getComponents:function(){for(var a in this.$components)this.getComponent(a);return this.components.toArray();
},findComponents:function(a,b){var c=[];return this.getComponents().each(function(d){var e=!0;if(b&&(e=!1,Type.isObject(b)))for(var f in b){var g=b[f];if(d[f]==g){e=!0;break}}e&&c.push(d),!d.isContainer||!a&&e||c.append(d.findComponents(a,b))}),c},validateChildComponent:function(a){},firstChild:function(){return this.components.getFirst()},lastChild:function(){return this.components.getLast()},nextSiblingOf:function(a){var b=this.components.indexOf(a);return b+1<this.components.length?this.components.getAt(b+1):null},previousSiblingOf:function(a){var b=this.components.indexOf(a);return b>0?this.components.getAt(b-1):null},query:function(a){return a=a||"*",Miwo.componentQuery.query(a,this)},queryById:function(a){return this.down("#"+a)},child:function(a){return a=a||"",this.query("> "+a)[0]||null},down:function(a){for(var b=this.getComponents(),c=0;c<b.length;c++){var d=b[c];if(d.is(a))return d;b.append(d.getComponents())}return null},get:function(a,b){return this.getComponent(a,b)},add:function(a,b){
return this.addComponent(a,b)},remove:function(a){return this.removeComponent(a)},hasLayout:function(){return!!this.layout},getLayout:function(){if(this.layout&&!Type.isInstance(this.layout)){var a=Type.isString(this.layout)?this.layout:this.layout.type;this.layout=miwo.create(a+"Layout"),this.layout.setContainer(this),this.layout.initLayout()}return this.layout},update:function(){this.layout?this.getLayout().update():this.parent()},doRender:function(){this.parent(),this.findElements("[miwo-component]").each(function(a){var b=a.getAttribute("miwo-component"),c=this.getComponent(b,!0);a.parentNode.replaceChild(c.el,a),c.parentEl=this.el,c.render()},this);var a=this.findElement('[miwo-reference="contentEl"]');a&&(this.contentEl=a),this.renderContainer()},renderContainer:function(){this.layout&&this.getLayout().render()},parentShown:function(a){this.parent(a),this.components.each(function(b){b.parentShown(a)})},doDestroy:function(){this.components.each(function(a,b){this.removeComponent(b),
a.destroy()},this);for(var a in this.$references)delete this.$references[a],delete this[a];$destroy(this.layout),this.parent()}}),miwo.define("Miwo.app.Application",{Extends:Miwo.Object,Services:{context:"!Miwo.di.Container",eventMgr:"!Miwo.app.EventManager",controllerFactory:"!Miwo.app.ControllerFactory",viewport:"viewport"},context:null,eventMgr:null,controllerFactory:null,rendered:!1,catchExceptions:!0,controllers:[],initialize:function(a){this.parent(a);var b=this.controllers;this.controllers={};for(var c=0;c<b.length;c++)this.controllers[b[c]]=null},run:function(a){for(var b in this.controllers)this.getController(b).startup();a&&(a===!0?this.render():this.render(a))},render:function(a){if(!this.rendered){this.rendered=!0;var b,c=this.controllers,d=this.getViewport();for(b in c)c[b].beforeRender();d.render(a||miwo.body);for(b in c)c[b].afterRender()}},getController:function(a){return this.controllers[a]||(this.controllers[a]=this.controllerFactory.create(a),this.controllers[a].application=this),
this.controllers[a]},control:function(a,b){Type.isString(a)?this.eventMgr.control(a,b):a.on(b)},select:function(a){return miwo.componentManager.get(a.replace("#",""))}}),miwo.define("Miwo.app.Controller",{Extends:Miwo.Object,Implements:[Miwo.Events],Services:{context:"!miwo.container",application:"!miwo.application"},initialize:function(a){if(this.parent(a),!this.name)throw new Error("Undefined controller name")},setContext:function(a){this.context=a},startup:function(){},beforeRendered:function(){},afterRendered:function(){},select:function(a){return this.application.select(a)},control:function(a,b){this.application.control(a,$bounds(b,this))},getController:function(a){return this.application.getController(a)},getStore:function(a){return this.application.getStore(a)},getEntity:function(a){return this.application.getEntity(a)}}),miwo.define("Miwo.app.ControllerFactory",{Extends:Miwo.Object,Services:{context:"!miwo.container"},create:function(a){var b,c=this.context.createInstance("App.controller."+a.capitalize());
if(c.setContext(this.context),c.references){for(b in c.references)this.createReferenceGetter(c,b,c.references[b]);c.references={}}return c},createReferenceGetter:function(a,b,c){this.createGetter(a,b,function(){return this.references[b]||(this.references[b]=this.select(c)),this.references[b]})},createGetter:function(a,b,c){var d="get"+b.capitalize();if(a[d])throw new Error("Getter "+d+" exists");a[d]=c}}),miwo.define("Miwo.app.EventManager",{Extends:Miwo.Object,Implements:[Bounds],selectors:[],initialize:function(a){this.parent(a),miwo.componentManager.on("register",this.bound("onRegister")),miwo.componentManager.on("unregister",this.bound("onUnregister"))},control:function(a,b){this.selectors.push({selector:a,events:b})},onRegister:function(a){for(var b=0;b<this.selectors.length;b++){var c=this.selectors[b];if(a.is(c.selector))for(var d in c.events)a.on(d,c.events[d])}},onUnregister:function(a){for(var b=0;b<this.selectors.length;b++){var c=this.selectors[b];if(a.is(c.selector))for(var d in c.events)a.un(d,c.events[d]);
}},doDestroy:function(){miwo.componentManager.un("register",this.bound("onRegister")),miwo.componentManager.un("unregister",this.bound("onUnregister"))}}),miwo.define("Miwo.layout.Layout",{Extends:Miwo.Object,Implements:[Miwo.Events],isLayout:!0,targetCls:"miwo-layout",itemCls:"miwo-layout-item",container:null,initialized:!1,running:!1,ownerLayout:null,enabled:!0,setContainer:function(a){this.munon(this.container,a,{added:this.bound("onAdded"),removed:this.bound("onRemoved")}),this.container=a},getLayoutComponents:function(){return this.container.getComponents()},getRenderTarget:function(){return this.container.getContentEl()},initLayout:function(){this.initialized=!0},setOwnerLayout:function(a){this.ownerLayout=a},render:function(){this.targetCls&&this.getRenderTarget().addClass(this.targetCls),this.update()},update:function(){this.renderComponents(this.getLayoutComponents(),this.getRenderTarget())},onAdded:function(a,b,c){a.rendered&&!b.preventAutoRender&&this.renderComponent(b,this.getRenderTarget(),c);
},onRemoved:function(a,b){a.rendered&&this.removeComponent(b)},renderComponents:function(a,b){if(this.enabled)for(var c=0;c<a.length;c++){var d=a[c];d.rendered?this.updateComponent(d):this.renderComponent(d,b,c)}},renderComponent:function(a,b,c){this.enabled&&!a.rendered&&(this.configureComponent(a),a.render(b),this.afterRenderComponent(a))},updateComponent:function(a){this.configureComponent(a),a.update()},configureComponent:function(a){if(a.isContainer){var b=a.getLayout();b&&b.setOwnerLayout(this)}a.el.setStyles({width:a.width,height:a.height})},afterRenderComponent:function(a){this.itemCls&&a.el.addClass(this.itemCls)},removeComponent:function(a){a.rendered&&(this.unconfigureComponent(a),a.el.dispose(),this.afterRemoveComponent(a))},unconfigureComponent:function(a){if(a.isContainer){var b=a.getLayout();b&&b.setOwnerLayout(null)}a.el.setStyles({width:null,height:null})},afterRemoveComponent:function(a){this.itemCls&&a.el.removeClass(this.itemCls)},doDestroy:function(){this.targetCls&&this.getRenderTarget().removeClass(this.targetCls),
this.setContainer(null),this.parent()}}),miwo.define("Miwo.layout.Absolute",{Extends:Miwo.layout.Layout,Shortcut:"absoluteLayout",initialize:function(a){this.parent(a),this.type="absolute",this.targetCls="miwo-layout-absolute",this.itemCls="miwo-layout-item"},configureComponent:function(a){this.parent(a),a.el.setStyles({top:a.top,bottom:a.bottom,left:a.left,right:a.right})},unconfigureComponent:function(a){this.parent(a),a.el.setStyles({top:null,bottom:null,left:null,right:null})}}),miwo.define("Miwo.layout.Auto",{Extends:Miwo.layout.Layout,Shortcut:"autoLayout",initialize:function(a){this.parent(a),this.type="auto",this.targetCls="",this.itemCls=""}}),miwo.define("Miwo.layout.Fit",{Extends:Miwo.layout.Layout,Shortcut:"fitLayout",initialize:function(a){this.parent(a),this.type="fit",this.targetCls="miwo-layout-fit",this.itemCls="miwo-layout-item"}}),miwo.define("Miwo.layout.Form",{Extends:Miwo.layout.Layout,Shortcut:"formLayout",initialize:function(a){this.parent(a),this.type="form",this.targetCls="miwo-layout-form",
this.itemCls=""}}),miwo.define("Miwo.layout.None",{Extends:Miwo.layout.Layout,Shortcut:"noneLayout",initialize:function(a){this.parent(a),this.type="none",this.targetCls="",this.itemCls="",this.enabled=!1}}),miwo.define("Miwo.panel.Pane",{Extends:Miwo.component.Container,isPane:!0,xtype:"pane",beforeInit:function(){this.parent(),this.contentEl="div"}}),miwo.define("Miwo.panel.Scrollpane",{Extends:Miwo.panel.Pane,xtype:"scrollpane",autoHide:!0,fade:!0,proportional:!0,proportionalMinHeight:15,nativeScrollbar:!1,beforeInit:function(){this.parent(),this.baseCls="miwo-scrollpane"},scrollBottom:function(){this.contentEl.scrollTop=this.contentEl.scrollHeight,this.actualize()},scrollTop:function(){this.contentEl.scrollTop=0,this.actualize()},doRender:function(){this.parent();var a=this.getContentEl();this.scrollbar=new Element("div",{cls:this.getBaseCls("scrollbar"),parent:this.el}),this.scrollbar.set("tween",{duration:50}),this.knob=new Element("div",{cls:this.getBaseCls("knob"),parent:this.scrollbar
}),this.slider=new Slider(this.scrollbar,this.knob,{mode:"vertical",onChange:function(b){a.scrollTop=(a.scrollHeight-a.offsetHeight)*(b/100)}})},afterRender:function(){this.parent(),this.contentEl.addClass(this.baseCls+"-container"),this.contentEl.on({mouseenter:this.bound("onElementMouseenter"),mouseleave:this.bound("onElementMouseleave"),mousewheel:this.bound("onElementMousewheel"),"Scrollable:contentHeightChange":this.bound("onContentHeightChange")}),this.scrollbar.on({mouseleave:this.bound("onScrollbarMouseleave")}),this.knob.on({mousedown:this.bound("onKnobMousedown")}),window.on({resize:this.bound("onWindowResize"),mousewheel:this.bound("onWindowMousewheel")}),this.scrollbar.fade("show"),this.autoHide&&this.scrollbar.fade("hide"),(Browser.safari||Browser.Platform.ios||Browser.Platform.webos||Browser.Platform.android)&&(this.nativeScrollbar=!0,this.contentEl.setStyle("overflow","auto")),this.actualize()},onElementMouseenter:function(){this.contentEl.scrollHeight>this.el.offsetHeight&&(this.nativeScrollbar?this.contentEl.setStyle("overflow","auto"):this.showContainer()),
this.actualize()},onElementMouseleave:function(a){this.isInside(a)||this.active||(this.nativeScrollbar?this.contentEl.setStyle("overflow","hidden"):this.hideContainer())},onElementMousewheel:function(a){var b=this.contentEl;a.preventDefault(),(a.wheel<0&&b.scrollTop<b.scrollHeight-b.offsetHeight||a.wheel>0&&b.scrollTop>0)&&(b.scrollTop=b.scrollTop-30*a.wheel,this.actualize())},onContentHeightChange:function(){this.fireEvent("heightchange",this)},onScrollbarMouseleave:function(){this.active||this.hideContainer()},onKnobMousedown:function(){this.active=!0,window.on("mouseup",this.bound("onWindowMouseup"))},onWindowMouseup:function(a){this.active=!1,this.isInside(a)||this.hideContainer(),window.un("mouseup",this.bound("onWindowMouseup"))},onWindowResize:function(){this.actualize.delay(50,this)},onWindowMousewheel:function(){this.contentEl.isVisible()&&this.actualize()},actualize:function(){var a=this.contentEl;if(function(){this.size=a.getComputedSize(),this.position=a.getPosition(),this.slider.autosize();
}.bind(this).delay(50),this.proportional===!0){if(isNaN(this.proportionalMinHeight)||this.proportionalMinHeight<=0)throw new Error('Miwo.panel.Scrollpane::reposition(): option "proportionalMinHeight" is not a positive number.');var b=Math.abs(this.proportionalMinHeight),c=0!==a.scrollHeight?a.offsetHeight*(a.offsetHeight/a.scrollHeight):0;this.knob.setStyle("height",Math.max(c,b))}var d=a.scrollHeight-a.offsetHeight,e=d?Math.round(a.scrollTop/d*100):0;this.slider.set(e)},isInside:function(a){return a.client.x>this.position.x&&a.client.x<this.position.x+this.size.totalWidth&&a.client.y>this.position.y&&a.client.y<this.position.y+this.size.totalHeight?!0:!1},showContainer:function(a){this.autoHide&&this.fade&&!this.active||a&&this.fade?this.scrollbar.fade(.6):(this.autoHide&&!this.fade&&!this.active||a&&!this.fade)&&this.scrollbar.fade("show")},hideContainer:function(a){this.autoHide&&this.fade&&!this.active||a&&this.fade?this.scrollbar.fade("out"):(this.autoHide&&!this.fade&&!this.active||a&&!this.fade)&&this.scrollbar.fade("hide");
},doDestroy:function(){window.un("resize",this.bound("onWindowResize")),window.un("mousewheel",this.bound("onWindowMousewheel")),this.scrollbar.destroy(),this.parent()}}),miwo.define("Miwo.utils.Logger",{Extends:Miwo.Object,title:"",styles:"background: #0f93ca; color: #fff",log:function(a,b){try{console.log.apply(console,["%c "+this.title+" ",this.styles].concat(Array.slice(arguments)))}catch(c){console.log(c.message+": "+a)}},logArgs:function(a){this.log.apply(this,a)}}),miwo.define("Miwo.utils.Mask",{Extends:Miwo.Object,maskedEl:void 0,html:"",visible:!1,hideOnClick:!1,mask:null,contentEl:null,initialize:function(a){this.parent(a),assert.element(this.maskedEl),this.mask=new Mask(this.maskedEl,{height:"100%",width:"100%",cls:"miwo-mask",hideOnClick:this.hideOnClick,useIframeShim:!1,zIndex:1e4,style:{opacity:.85,background:"white"},inject:{where:"after",target:this.maskedEl}}),this.contentEl=new Element("div",{parent:this.mask.element,html:this.html,cls:"miwo-mask-content"}),this.visible&&this.mask.show();
},show:function(){this.mask.element.set("height",this.maskedEl.get("height")),this.mask.show()},hide:function(){this.mask.hide()},close:function(){this.mask.hide(),this.destroy()},setHtml:function(a){this.contentEl.set("html",a)},doDestroy:function(){this.contentEl.destroy(),this.mask.destroy(),this.parent()}}),miwo.define("Miwo.utils.Translatable",{translate:function(){},translateText:function(a,b,c){Type.isString(a)?this.findElement(a).set(b,$tr(c)):a.set(b,$tr(c))}}),miwo.define("Chat.sounds.SoundPlayer",{Extends:Miwo.Object,mute:!1,volume:50,sounds:{agent:null,system:null,visitor:null},setAdapter:function(a){this.adapter=a},setMute:function(a){this.mute=a},isMute:function(){return this.mute},setVolume:function(a){this.volume=a},doDestroy:function(){$destroy(this.adapter)},play:function(a){if(!this.adapter)throw new Error("Undefined player adapter");if(!this.mute&&this.sounds[a])try{this.adapter.play(this.sounds[a],this.volume)}catch(b){throw new Error("SoundPlayer play error, reason is: "+b);
}}}),miwo.define("Chat.sounds.SoundAdapter",{Extends:Miwo.Object,play:function(a,b){}}),miwo.define("Chat.ChatExtension",{Extends:Miwo.di.Extension,name:"chat",options:{enabled:void 0,translatable:!0,multiAccounts:!1,"package":"free",browserLang:"en",frame:null,position:{alignX:void 0,alignY:void 0,offsetX:void 0,offsetY:void 0},connection:{protocol:"https",host:"s2.smartsupp.com",key:"",debugMode:"<%=debugMode%>"},visitor:{id:"",data:{lang:"",group:null,name:void 0,email:void 0,note:void 0,variables:{}}},events:{enabled:!1,debugMode:"<%=debugMode%>",category:"SmartSupp",accounts:void 0},sound:{flashSrc:"<%=staticUrl%>/assets/player.swf",path:"<%=staticUrl%>/assets/sounds",mute:!1,sounds:{agent:"blackberry.mp3",system:"simplesms.mp3"}},theme:{styles:null,name:void 0,colors:{},options:{}},api:{onReady:void 0,install:{banner:!0,events:!0,groups:!0,theme:!0,basic:!0}},translates:"<%translates%>",plugins:{}},beforeBuild:function(a){var b=this.getConfig();void 0===b.enabled&&(b.enabled=this.detectEnabled()),
a.define("chat.api","Chat.api.Api",{args:b.api}),a.define("chat.styleManager","Chat.theme.StyleManager",{args:{styles:b.theme.styles}}),a.define("chat.themeManager","Chat.theme.ThemeManager",{args:{styleManager:"@chat.styleManager",name:b.theme.name,colors:b.theme.colors,options:b.theme.options}}),a.define("chat.pluginHelper","Chat.plugins.Helper"),a.define("chat.pluginManager","Chat.plugins.PluginManager",{args:{plugins:b.plugins}}),a.define("chat.frameManager","Chat.utils.FrameManager",{args:{el:b.frame,visible:b.enabled,alignX:b.position.alignX,alignY:b.position.alignY,offsetX:b.position.offsetX,offsetY:b.position.offsetY}}),a.define("chat.idGenerator","Chat.utils.IdGenerator"),a.define("chat.model","Chat.model.Chat",{args:{id:b.visitor.id||this.getVisitorId(a,b.connection.key),data:b.visitor.data}}),a.define("chat.connectionFactory","Chat.server.ConnectionFactory",{args:{protocol:b.connection.protocol,host:b.connection.host}}),a.define("chat.connection","Chat.server.Connection",{factory:function(a){
return a.get("chat.connectionFactory").create(a.get("chat.model"),{enabled:b.enabled,chatKey:b.connection.key,reconnect:b.connection.reconnect})},setup:[["debugMode = ?",b.connection.debugMode]]}),a.define("chat.eventManager","Chat.events.EventManager",{args:{category:b.events.category,enabled:b.events.enabled,debugMode:b.events.debugMode,eventsLang:"<%=baseLang%>"}}),a.define("chat.eventGaAdapter","Chat.events.GaAdapter",{args:{accounts:b.events.accounts}}),a.ext("chat.eventManager",function(b){b.on("event",function(b,c,d,e,f){a.get("chat.eventGaAdapter").send(b,c,d,e,f)})}),a.define("chat.soundPlayer","Chat.sounds.SoundPlayer",{args:{mute:b.sound.mute,sounds:b.sound.sounds,adapter:"@chat.soundAdapter"},setup:["setAdapter(@chat.soundAdapter)"]}),a.define("chat.soundAdapter","Chat.sounds.SoundAdapter",{factory:"Chat.sounds.SoundAdapterFactory.create",args:{path:b.sound.path,src:b.sound.flashSrc,frameManager:"@chat.frameManager"}}),a.define("chat.translator","Chat.utils.Translator",{args:{
lang:"<%=lang%>",defaultLang:"<%=baseLang%>",browserLang:b.browserLang,translates:b.translatable?b.translates:null}})},onCreated:function(a){a.get("chat.frameManager"),a.get("chat.styleManager"),a.get("chat.translator"),a.get("chat.eventGaAdapter")},detectEnabled:function(){return Browser.ie6||Browser.ie7?!1:!0},getVisitorId:function(a,b){var c=a.parameters.cookieNames.vid;a.parameters.multiAccounts&&(c+="_"+b);var d=miwo.cookie.read(c,miwo.cookie.read("ssupp_vid"));return d||(d=a.get("chat.idGenerator").generate()),miwo.cookie.write(c,d,{duration:180}),d}}),miwo.define("Chat.api.Api",{Extends:Miwo.Object,Implements:Miwo.Events,install:{banner:!0,events:!0,groups:!0,theme:!0},aliases:{},document:void 0,onReady:void 0,startup:function(a){var b=this;b.htmlApi=new Chat.api.HtmlApi(this),b.manager=a.pluginManager,b.helper=a.pluginManager.helper,b.window=window;var c=this.api={};this.createBasicApi(c),b.helper.context.parameters.smartlook&&this.createRecordingApi(c),this.install.banner&&this.createBannerApi(c),
this.install.events&&this.createEventsApi(c),this.install.groups&&this.createGroupsApi(c),this.install.theme&&this.createThemeApi(c),this.onReady&&this.onReady(this.api),b.helper.getConnection().on("visitorconnect",function(a){b.fire("connect",[a])}),b.helper.getModel().on("status",function(a){b.fire("status",[a])}),b.helper.getModel().on("agent.change",function(a){b.fire("agent.change",[a])}),b.helper.getModel().on("agent.join",function(a,c){b.fire("agent.join",[a,c])}),b.helper.getModel().on("agent.leave",function(a,c){b.fire("agent.leave",[a,c])}),b.helper.getModel().on("addmessage",function(a,c){b.fire("message",[a,c])}),b.helper.getEventManager().on("event",function(a,c,d,e){b.fire("event",[a,c,d,e])}),b.helper.getLoginPanel().on("success",function(a,c){b.fire("login",[c.getValues()])}),b.fire("startup",[a])},render:function(a){this.fire("render",[a])},rendered:function(a){var b=this;this.fire("rendered",[a]),this.helper.getOnlinePanel().on("send",function(a,c){b.fire("sent",[c])});
},execute:function(a,b,c){if(Type.isFunction(a))return a(this.api);if(Type.isString(a)){this.aliases[a]&&(a=this.aliases[a]);var d=this.api,e=a.split(":"),f=e[e.length-1],g=Array.slice(arguments,1);if(2==e.length)for(var h=e[0].split("."),i=0;i<h.length;i++){if(!d[h[i]])return void console.log('Command "'+a+'" is not supported.');d=d[h[i]]}if(!d[f])return void console.log('Command "'+a+'" is not supported.');d[f].apply(d,g)}},createBasicApi:function(a){var b=this,c=this.helper;a.helper=c,a.model=c.getModel(),a.getComponent=c.getComponent,Object.append(a,{execute:function(a){return b.execute.apply(b,Type.isArray(a)?a:Array.splice(arguments))},on:function(a,c,d){b.on(a,c,d)},un:function(a,c){b.un(a,c)},getHelper:function(){return c},getDIC:function(){return c.context},getService:function(a){return c.getService(a)},control:function(a,b,d){c.controller.control(a,b,d)},setDebug:function(a){c.getConnection().debugMode=a}}),a.plugins={get:function(a){return b.manager.getPlugin(a)},install:function(a,c){
return b.manager.installPlugin(a,c)},uninstall:function(a){return b.manager.uninstallPlugin(a)}},a.acccount={setKey:function(a){c.getConnection().chatKey=a},setHost:function(a){c.getConnection().setHost(a)},reconnect:function(){c.getConnection().reconnect()}},a.visitor={set:function(a,b){c.getModel().set(a,b)},get:function(a){return c.getModel().get(a)},setName:function(b){a.chat.set("name",b)},getName:function(){return a.chat.get("name")},setEmail:function(b){a.chat.set("email",b)},getEmail:function(){a.chat.get("email")},setVariable:function(b,c,d){var e=a.chat.get("variables");e[b]={label:d||b,value:c},a.chat.set("variables",e)},getVariable:function(b){return a.chat.get("variables")[b]||null},setVariables:function(b){a.chat.set("variables",b)},getVariables:function(){return a.chat.get("variables")},setLanguage:function(a){"cz"==a&&(a="cs"),c.getTranslator().setLanguage(a),c.getModel().set("lang",a)},getLanguage:function(){return c.getTranslator().getLanguage()},setStatus:function(a){
c.getConnection().notify("status",a)}},a.widget={show:function(){c.controller.setOption("hideWidget",!1)},hide:function(a){c.controller.setOption("hideWidget",a?"hide":!0)}},a.chat={send:function(a){c.getConnection().send(a)},show:function(){c.controller.setOpened(!0)},hide:function(){c.controller.setOpened(!1)},open:function(){c.controller.setOpened(!0)},close:function(){c.controller.setOpened(!1)},end:function(a){c.getConnection().close(a)},setAvatar:function(a){c.getOnlinePanel().setAvatarSrc(a)},setMessage:function(a){c.getOnlinePanel().setText(a)},setOrientation:function(a){c.getFrameManager().setAlign(a,"bottom"),c.getFrameManager().updateSize()},setAlign:function(a,b,d,e){c.getFrameManager().setAlign(a,b,d,e),c.getFrameManager().updateSize()},setTranslates:function(a,b){c.getTranslator().setTranslates(a,b)},getTranslates:function(a){return c.getTranslator().getTranslates(a)},translate:function(a,b,d){a&&(Type.isObject(a)?c.getTranslator().setTranslates(a,b):c.getTranslator().setTranslate(a,b,d)),
d&&c.getTranslator().getLanguage()!=d||c.getTranslator().translate()}},a.html={apply:function(a){b.htmlApi.apply(a)}},this.aliases.debug="setDebug",this.aliases["account:key"]="account:setKey",this.aliases["account:host"]="account:setHost",this.aliases.lang="visitor:setLanguage",this.aliases.name="visitor:setName",this.aliases.email="visitor:setEmail",this.aliases.status="visitor:setStatus",this.aliases.language="visitor:setLanguage",this.aliases.variables="visitor:setVariables",this.aliases["chat:avatar"]="chat:setAvatar",this.aliases["chat:message"]="chat:setMessage",this.aliases["chat:orientation"]="chat:setOrientation",this.aliases["chat:align"]="chat:setAlign",this.aliases.translate="chat:translate",this.aliases["chat:variables"]="visitor:setVariables",this.aliases["chat:language"]="visitor:setLanguage";for(var d in a.visitor)a.chat[d]=a.visitor[d]},createGroupsApi:function(a){a.groups={set:function(b){a.chat.set("group",b)},get:function(){return a.chat.get("group")}},a.visitor.setGroup=function(b){
a.visitor.set("group",b)},this.aliases.group="visitor:setGroup",a.chat.setGroup=a.visitor.setGroup},createEventsApi:function(a){var b=this.helper;a.events={setCategory:function(a){b.getEventManager().category=a},getCategory:function(){return b.getEventManager().category},setEnabled:function(a){b.getEventManager().enabled=a},isEnabled:function(){return b.getEventManager().enabled}},this.aliases["events:category"]="events:setCategory",this.aliases["events:enabled"]="events:setEnabled"},createThemeApi:function(a){var b=this.helper;a.theme={set:function(a){b.getThemeManager().setTheme(a,!0)},setColor:function(a,c){b.getThemeManager().setColor(a,c)},setColors:function(a){b.getThemeManager().setColors(a)},getColors:function(){return b.getThemeManager().colors},setStyles:function(a,c){if("default"==a||"flat"==a||"none"==a||"autoclose"==a)throw new Error("Styles with name "+a+" is reserved. Please you other name");b.getStyleManager().setStyles(a,c)},setOptions:function(a,c){b.getThemeManager().setOptions(a,c);
},setOption:function(a,c){b.getThemeManager().setOption(a,c)},getOptions:function(){return b.getThemeManager().options}},this.aliases["theme:color"]="theme:setColor",this.aliases["theme:colors"]="theme:setColors",this.aliases["theme:styles"]="theme:setStyles",this.aliases["theme:option"]="theme:setOption",this.aliases["theme:options"]="theme:setOptions"},createBannerApi:function(a){var b=this.helper;a.banner={show:function(){b.getWidget().banner.show()},hide:function(){b.getWidget().banner.hide()},set:function(a,c){b.getWidget().setBanner(a,c)},update:function(a){b.getWidget().updateBanner(a)}},this.aliases.banner="banner:set"},createRecordingApi:function(a){var b=this.helper.context.parameters.smartlook;a.recording=a.visitortrace={disable:function(a){b("disable",void 0===a?!0:a)},tag:function(a,c){b("tag",a,c)},tags:function(a){b("tags",a)},ignore:function(a,c){b("ignore",a,c)},filter:function(a,c){b("filter",a,c)}}}}),miwo.define("Chat.api.HtmlApi",{Extends:Miwo.Object,initialize:function(a){
this.api=a},apply:function(a){if(a&&a.querySelectorAll)for(var b=a.querySelectorAll('[data-api="smartsupp"]'),c=0,d=b.length;d>c;c++)this.processElement(b[c])},processElement:function(a){var b=a.getAttribute("data-operation");b&&this.processOperation(b,a)},processOperation:function(a,b){var c="processOperation"+a.capitalize();this[c]&&this[c](b)},processOperationOpen:function(a){this.addEvent(a,"click",function(){this.api.execute("chat:open");var b=this.getAttribute(a,"data-text");b&&this.api.execute("chat:message",b)}.bind(this))},processOperationSend:function(a){this.addEvent(a,"click",function(){this.api.execute("chat:open");var b=this.getAttribute(a,"data-text");b&&this.api.execute("chat:send",b)}.bind(this))},processOperationInit:function(a){var b=this.getAttribute(a,"data-lang");("cs"==b||"en"==b||"sk"==b||"de"==b)&&this.api.execute("chat:language",b)},processOperationStyles:function(a){var b=this.getAttribute(a,"data-name","api"),c=a.innerHTML;this.api.execute("theme:styles",b,c);
},addEvent:function(a,b,c){return a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},getAttribute:function(a,b,c){return a.hasAttribute(b)?a.getAttribute(b):c}}),miwo.define("Chat.events.EventManager",{Extends:Miwo.Object,Implements:Miwo.Events,category:"SmartSupp",enabled:!1,debugMode:!1,events:{},eventsLang:"en",state:{operatorSendMessage:!1,visitorSendMessage:!1,triggerSendMessage:!1,conversation:!1,firstMessage:!1,visitorReplyTrigger:!1,firstAgentName:void 0,firstVisitorName:void 0,firstTriggerName:void 0},preventEvents:!1,initialize:function(a){this.parent(a);var b=Locale.getCurrent().name;Locale.use(this.eventsLang),this.events={visitorVisit:{action:$tr("events.visitorVisitAction"),label:$tr("events.visitorVisitLabel"),noninteractive:!0},visitorSendMessage:{action:$tr("events.visitorSendMessageAction"),label:$tr("events.visitorSendMessageLabel"),noninteractive:!0},operatorSendMessage:{action:$tr("events.operatorSendMessageAction"),label:$tr("events.operatorSendMessageLabel"),
noninteractive:!0},triggerSendMessage:{action:$tr("events.triggerSendMessageAction"),label:$tr("events.triggerSendMessageLabel"),noninteractive:!0},visitorReplyTrigger:{action:$tr("events.visitorReplyTriggerAction"),label:$tr("events.visitorReplyTriggerLabel"),noninteractive:!0},conversationByOperator:{action:$tr("events.conversationByOperatorAction"),label:$tr("events.conversationByOperatorLabel"),noninteractive:!0},conversationByVisitor:{action:$tr("events.conversationByVisitorAction"),label:$tr("events.conversationByVisitorLabel"),noninteractive:!0},conversationByTrigger:{action:$tr("events.conversationByTriggerAction"),label:$tr("events.conversationByTriggerLabel"),noninteractive:!0},closeChat:{action:$tr("events.closeChatAction"),label:$tr("events.closeChatLabel"),noninteractive:!0}},Locale.use(b),this.defaultState=Object.clone(this.state)},reset:function(){this.state=Object.clone(this.defaultState)},setMessages:function(a){if(this.enabled){this.preventEvents=!0,this.reset();for(var b=0;b<a.length;b++)this.notifyMessage(a[b]);
this.preventEvents=!1}},notifyMessage:function(a){if(this.enabled){var b=a.type,c=a.name,d=a.triggeredBy||null;if("system"!=b){if(d&&(this.state.triggerSendMessage=!0,this.state.visitorReplyTrigger=!1,this.state.firstMessage||(this.state.firstMessage="trigger"),this.state.firstTriggerName||(this.state.firstTriggerName=d),this.notify("triggerSendMessage",{trigger:d})),"agent"!==b||d||(this.state.operatorSendMessage=!0,this.state.firstMessage||(this.state.firstMessage="operator"),this.state.firstAgentName||(this.state.firstAgentName=c),this.notify("operatorSendMessage",{name:c})),"visitor"!==b||d||(this.state.visitorSendMessage=!0,this.state.firstMessage||(this.state.firstMessage="visitor"),this.state.firstVisitorName||(this.state.firstVisitorName=c),this.notify("visitorSendMessage",{name:c})),this.state.operatorSendMessage&&this.state.visitorSendMessage&&!this.state.conversation)switch(this.state.conversation=!0,this.state.firstMessage){case"operator":this.notify("conversationByOperator",{
name:this.state.firstAgentName});break;case"visitor":this.notify("conversationByVisitor",{name:this.state.firstAgentName});break;case"trigger":this.notify("conversationByTrigger",{name:this.state.firstAgentName})}"visitor"===b&&this.state.triggerSendMessage&&!this.state.visitorReplyTrigger&&(this.state.visitorReplyTrigger=!0,this.notify("visitorReplyTrigger",{trigger:this.state.firstTriggerName}))}}},notifyClose:function(a){this.notify("closeChat",{type:a})},notify:function(a,b){if(this.enabled&&!this.preventEvents){var c=this.events[a],d=c.label.substitute(b),e=[this.category,c.action,d,1,c.noninteractive];this.debugMode&&console.log("ChatEvent:",e),this.fire("event",e)}}}),miwo.define("Chat.events.GaAdapter",{Extends:Miwo.Object,type:null,accounts:null,initialize:function(a){this.parent(a);var b=[];if(this.accounts)for(var c=0;c<this.accounts.length;c++)this.accounts[c].key&&b.push(this.accounts[c]);b.length>0?(this.type="internal",b.each(function(a){this.setAccount(a.key,a.options)}.bind(this))):window.parent._gaq&&window.parent._gaq.push?this.type="push":window.parent.ga&&(this.type="universal");
},setAccount:function(a,b){b||(b={}),b.cookieDomain||(b.cookieDomain=window.parent.document.domain),"push"==this.type?window.parent._gaq&&window.parent._gaq.push(["_setAccount",a]):"universal"==this.type?window.parent.ga&&window.parent.ga("create",a,b):"internal"==this.type&&window.ga&&window.ga("create",a,b)},send:function(a,b,c,d,e){try{"push"==this.type?window.parent._gaq&&window.parent._gaq.push(["_trackEvent",a,b,c,d,e]):"universal"==this.type?window.parent.ga&&window.parent.ga("send","event",a,b,c,d,{nonInteraction:e}):"internal"==this.type&&window.ga&&window.ga("send","event",a,b,c,d,{nonInteraction:e})}catch(f){console.log("Smartsupp: GA error:",f.message)}}}),miwo.define("Chat.model.Chat",{Extends:Miwo.Object,Implements:[Miwo.Events],id:null,channelId:null,data:{group:null,lang:"",name:"",email:"",note:"",userAgent:"",pageTitle:"",pageUrl:"",referer:"",platform:"",variables:{},authenticated:!1},messages:[],agents:new Collection,isBanned:!1,status:"",initialize:function(a){this.parent(a),
this.data.lang=Locale.getCurrent().name},setChannelId:function(a){this.channelId=a,this.fire("channelchange")},load:function(a,b){this.setMessages(a),this.setAgents(b),this.fire("refresh",[this])},clean:function(){this.removeMessages(),this.removeAgents(),this.fire("refresh",[this])},set:function(a,b){if(Type.isString(a)){var c={};return c[a]=b,this.set(c)}var d={},e=!1;for(var f in a)"variables"==f?(this.setVariables(a[f]),d.variables=this.data.variables,e=!0):this.data[f]!=a[f]&&(this.data[f]=a[f],d[f]=this.data[f],e=!0);e&&this.fire("update",[this,d])},get:function(a){return a?this.data[a]||null:this.data},setMessages:function(a){this.messages.empty();for(var b=0;b<a.length;b++)this.messages.push(a[b]);this.fire("loadmessages",[this])},addMessage:function(a){this.messages.push(a),this.fire("addmessage",[this,a])},removeMessages:function(){this.messages.empty(),this.fire("clearmessages",[this])},hasMessage:function(){return this.messages.length>0},setAgents:function(a){this.agents.empty();
for(var b=0;b<a.length;b++)this.agents.set(a[b].id,a[b]),this.fire("agent.join",[this,a[b]]);this.fire("agent.change",[this]),this.fire("agents.load",[this])},addAgent:function(a){this.agents.set(a.id,a),this.fire("agent.join",[this,a]),this.fire("agent.change",[this])},getAgent:function(a){return this.agents.get(a)},removeAgent:function(a){if(this.agents.has(a)){var b=this.agents.get(a);this.agents.remove(a),this.fire("agent.leave",[this,b]),this.fire("agent.change",[this])}},removeAgents:function(){this.agents.empty(),this.fire("agent.change",[this]),this.fire("agents.clear",[this])},hasAgent:function(){return this.agents.length>0},setStatus:function(a){this.status!=a&&(this.status=a,this.fire("status",this.getStatus()))},getStatus:function(){return this.hasAgent()?"online":this.status},isOnline:function(){return"offline"!=this.getStatus()},setVariables:function(a,b){(b||a.erase)&&(this.data.variables={},delete a.erase);for(var c in a){var d=a[c];Type.isObject(d)?this.setVariable(c,d.value,d.label):this.setVariable(c,d,c);
}},setVariable:function(a,b,c){this.data.variables[a]={label:c||a,value:b||""}},getVariables:function(){return this.data.variables},getVariable:function(a){return this.data.variables[a]||null}}),miwo.define("Chat.plugins.AutoClosePlugin",{Extends:Miwo.Object,timeout:300,delay:10,description:void 0,emptyText:void 0,closedIdleText:void 0,styles:void 0,startup:function(a){var b=this,c=a.model,d=a.pluginManager.helper;d.getStyleManager().setStyles("autoclose",{".autoclose-timer":{position:"absolute",bottom:"-1px",right:"10px",padding:"2px 10px","border-radius":"4px 4px 0 0",border:"1px solid #bbb","border-bottom":"none","font-weight":"bold",color:"red",background:"#f9f9f9"},".theme-flat .autoclose-timer":{background:"#fff","border-color":"#e0e0e0"}}),void 0===this.description&&(this.description=$tr("plugins.autoclose.description")),void 0===this.emptyText&&(this.description=$tr("plugins.autoclose.emptyText")),void 0===this.closedIdleText&&(this.closedIdleText=$tr("plugins.autoclose.closedIdleText")),
b.enabled=!0,b.autoClosed="false"!==miwo.cookie.read("ssupp.autoclosed","false"),a.control("#onlinePanel",{typing:function(a,d){b.enabled&&c.hasAgent()&&(d?b.stopClock():b.startClock(),b.resetAutoClosed())}}),c.on({removeagent:function(a,c){a.hasAgent()||(b.stopClock(),b.disableClock())},addmessage:function(a,c){"visitor"==c.type?(b.disableClock(),b.stopClock()):"agent"==c.type&&(b.enableClock(),b.resetClock(),b.startClock(null,!0)),b.resetAutoClosed()},refresh:function(a){if(0===a.messages.length)b.enabled=!1,b.setEmptyText();else if(b.enabled=a.messages.length>0&&"agent"==a.messages.getLast().type,b.enabled&&a.hasAgent()){var c=miwo.cookie.read("ssupp.autoclose");b.startClock(c?parseInt(c,10):null,!0)}}}),this.helper.getConnection().on({typing:function(a,c){b.enabled&&(c?b.stopClock():b.startClock())},channelopen:function(){b.stopClock(),b.disableClock()}})},resetAutoClosed:function(){this.autoClosed&&(this.autoClosed=!1,miwo.cookie.dispose("ssupp.autoclosed"),this.setEmptyText())},setEmptyText:function(){
this.autoClosed&&this.closedIdleText?this.helper.getOnlinePanel().setEmptyText(this.closedIdleText):this.emptyText&&this.helper.getOnlinePanel().setEmptyText(this.emptyText)},enableClock:function(){this.enabled=!0},disableClock:function(){this.enabled=!1},startClock:function(a,b){this.intervalId||this.delayId||(this.delayId=function(){delete this.delayId,this.leftSeconds=a||this.timeout,this.renderClock(this.leftSeconds),this.clockEl.show(),this.intervalId=this.tickClock.periodical(1e3,this)}.delay(b?0:1e3*this.delay,this))},tickClock:function(){this.renderClock(this.leftSeconds),this.leftSeconds--,miwo.cookie.write("ssupp.autoclose",this.leftSeconds),this.leftSeconds<0&&(this.stopClock(),this.helper.getConnection().close("visitorIdle"),miwo.cookie.write("ssupp.autoclosed",!0),this.helper.getOnlinePanel().setEmptyText(this.closedIdleText))},stopClock:function(){this.intervalId&&(clearInterval(this.intervalId),delete this.intervalId),this.delayId&&(clearInterval(this.delayId),delete this.delayId),
this.clockEl&&this.clockEl.hide(),delete this.leftSeconds},resetClock:function(){this.leftSeconds=this.seconds},renderClock:function(a){this.clockEl||(this.clockEl=this.createClock(this.helper.getOnlinePanel().contentEl));var b=a%60,c=Math.floor(a/60);this.clockEl.set("html",c+" : "+(10>b?"0":"")+b)},createClock:function(a){return new Element("div",{parent:a,title:this.description,cls:"autoclose-timer",styles:this.styles})}}),miwo.define("Chat.plugins.Helper",{Extends:Miwo.Object,Implements:[Miwo.Events],Services:{viewport:"viewport",context:"!miwo.container",model:"!chat.model",connection:"!chat.connection"},controller:void 0,getCookie:function(){return miwo.cookie},getConnection:function(){return this.connection},getModel:function(){return this.model},getFrameManager:function(){return this.context.get("chat.frameManager")},getEventManager:function(){return this.context.get("chat.eventManager")},getStyleManager:function(){return this.context.get("chat.styleManager")},getThemeManager:function(){
return this.context.get("chat.themeManager")},getSoundPlayer:function(){return this.context.get("chat.soundPlayer")},getTranslator:function(){return this.context.get("chat.translator")},getService:function(a){return this.context.get(a)},getOnlinePanel:function(){return this.getViewport().online},getOfflinePanel:function(){return this.getViewport().offline},getLoginPanel:function(){return this.getViewport().login},getWidget:function(){return this.getViewport().widget},getSmallWidget:function(){return this.getViewport().smallwidget},getStatus:function(){return this.model.getStatus()},setStatus:function(a){this.model.setStatus(a)},createElement:function(a,b){return new Element(a,b)},createInstance:function(a,b){return miwo.create(a,b)},setOpened:function(a){this.controller.setOpened(a)},getComponent:function(a){return miwo.get(a)}}),miwo.define("Chat.plugins.PluginManager",{Extends:Miwo.Object,Services:{helper:"!chat.pluginHelper"},registered:{autoclose:"Chat.plugins.AutoClosePlugin",status:"Chat.plugins.StatusPlugin",
officehours:"Chat.plugins.OfficehoursPlugin"},plugins:void 0,initialize:function(a){this.parent(a);var b=this.plugins;this.plugins={};for(var c in b)this.installPlugin(c,b[c])},setController:function(a){this.helper.controller=a},getPlugin:function(a){return this.plugins[a]||null},installPlugin:function(a,b){if(!this.plugins[a]){var c=this.registered[a]?miwo.create(this.registered[a],b||{}):b;this.registerPlugin(a,c)}},uninstallPlugin:function(a){this.plugins[a]},registerPlugin:function(a,b){this.plugins[a]=b,b.name=a,b.manager=this,b.helper=this.helper,b._notify={}},notify:function(a,b){var c,d,e=this.plugins;for(d in e)c=e[d],c[a]&&!c._notify[a]&&(c._notify[a]=!0,c[a](b))}}),miwo.define("Chat.plugins.StatusPlugin",{Extends:Miwo.Object,Implements:Miwo.Events,startup:function(a){var b=this;a.model.on("status",function(a){b.processStatus(a)})},processStatus:function(a){switch(a){case"online":this.onOnline&&this.onOnline(),this.onActive&&this.onActive();break;case"away":this.onAway&&this.onAway(),
this.onActive&&this.onActive();break;case"offline":this.onOffline&&this.onOffline(),this.onInactive&&this.onInactive()}}}),miwo.define("Chat.server.Connection",{Extends:Miwo.Object,Implements:[Miwo.Events],debugMode:!1,enabled:!0,chatKey:"",channelId:"",visitorId:"",isVisitorConnected:!1,originalGroup:void 0,persistGroups:!1,data:{group:null,name:"",email:"",note:"",lang:"",platform:"",userAgent:"",pageTitle:"",pageUrl:"",domain:"",referer:"",variables:{}},executeVisitorConnectStack:[],initialize:function(a){this.parent(a);var b=this.conn=new Chat.server.SockJsAdapter(a.protocol,a.host);b.on("connect",this.bound("onConnect")),b.on("disconnect",this.bound("onDisconnect")),b.on("disconnected",this.bound("onDisconnected")),b.on("server.error",this.bound("onServerError")),b.on("visitor.connect",this.bound("onVisitorConnect")),b.on("visitor.update",this.bound("onVisitorUpdate")),b.on("visitor.ban",this.bound("onVisitorBan")),b.on("status.change",this.bound("onStatusChange")),b.on("channel.open",this.bound("onChannelOpen")),
b.on("channel.info",this.bound("onChannelInfo")),b.on("channel.message",this.bound("onChannelMessage")),b.on("agent.join",this.bound("onAgentJoin")),b.on("agent.leave",this.bound("onAgentLeave")),b.on("typing",this.bound("onTyping")),b.on("chat.rating",this.bound("onChatRating")),b.on("transfered",this.bound("onTransfered")),b.on("offlinemessage.ack",this.bound("onOfflinemessageAck"))},setHost:function(a){this.conn.host=a},getHost:function(){return this.conn.host},connect:function(){this.isConnectable()&&this.conn.connect()},disconnect:function(){this.conn.disconnect()},reconnect:function(){this.conn.disconnect(),this.conn.reconnect()},isConnected:function(){return this.conn.connected},isConnectable:function(){return this.enabled&&this.host&&this.chatKey},setTyping:function(a){this.isVisitorConnected&&this.emit("typing",{typing:a})},setRating:function(a,b){this.tryEmit("chat.rating",{value:a,text:b||null})},update:function(a){a=a||{},this.data=Object.merge(this.data,a),void 0!==a.group&&(a.groupId=a.group,
delete a.group),this.tryEmit("visitor.update",{data:a})},send:function(a,b,c){a.length>1e3?this.disconnect():this.tryEmit("channel.message",{content:a,name:b,email:c})},close:function(a){this.fire("channelclose",[a]),this.tryEmit("channel.close",{type:a})},notify:function(a,b){this.isVisitorConnected&&this.emit("notify",{name:a,value:b})},updateChannel:function(){this.isVisitorConnected&&this.emit("channel.info",{id:this.visitorId,state:this._state})},sendTranscript:function(a,b){this.isVisitorConnected&&this.emit("chat.transcript",{email:a,lang:b})},loadGeo:function(){try{return JSON.decode(miwo.cookie.read("ssupp.geoloc","{}"))}catch(a){return{}}},onServerError:function(a){this.fire("error",[a.event,a.message])},onConnect:function(){this._state="connect",this.log("ON connect"),this.fire("connect");var a=Object.merge({version:2,id:this.visitorId,accountKey:this.chatKey},this.data,this.loadGeo());a.group=miwo.cookie.read("ssupp.group",this.data.group),a.groupId=a.group,delete a.authenticated,
0===Object.getLength(a.variables)&&delete a.variables,this._state="emit_vc",this.emit("visitor.connect",a)},onDisconnect:function(){this._state="disconnect",this.log("ON disconnect"),this.isVisitorConnected=!1},onDisconnected:function(){this.log("ON disconnected"),this.executeVisitorConnectStack.empty(),this.fire("disconnect")},onVisitorConnect:function(a){if(!this.isVisitorConnected){this.isVisitorConnected=!0,this.data.authenticated=a.authenticated,this.channelId=a.channelId,this._state="on_vc",this.log("ON visitorconnect",a.channelId,a),this.fire("visitorconnect",[a]),this.updateChannel();var b=this.executeVisitorConnectStack;if(b.length>0){for(var c=0;c<b.length;c++)b[c].call(this);b.empty()}if(a.ipAddress){var d=this.loadGeo();d.ipAddress!=a.ipAddress&&(d.ipAddress=a.ipAddress,d.countryCode=a.countryCode,d.country=a.country,d.region=a.region,d.city=a.city,miwo.cookie.write("ssupp.geoloc",JSON.encode(d)))}void 0===this.originalGroup&&(this.originalGroup=this.data.group);var e=miwo.cookie.read("ssupp.chatid",null);
miwo.cookie.write("ssupp.chatid",a.channelId),e&&e===a.channelId||miwo.cookie.read("ssupp.group",null)!==this.originalGroup&&(miwo.cookie.dispose("ssupp.group"),this.update({group:this.originalGroup}))}},onVisitorUpdate:function(a){this.persistGroups&&a.data.hasOwnProperty("group")&&(a.data.group?miwo.cookie.write("ssupp.group",a.data.group):miwo.cookie.dispose("ssupp.group")),a.data.hasOwnProperty("authenticated")&&(this.data.authenticated=a.data.authenticated),this.fire("visitorupdate",[a.data])},onVisitorBan:function(a){this.log("ON visitorban",a.banned),this.fire("visitorban",[a.banned])},onChannelOpen:function(a){this.channelId=a.channelId,miwo.cookie.write("ssupp.chatid",a.channelId),this.log("ON channelopen",a.channelId),this.fire("channelopen",[a.channelId]);var b={};miwo.cookie.read("ssupp.group",null)!==this.originalGroup&&(b.group=this.originalGroup,miwo.cookie.dispose("ssupp.group")),this.data.authenticated&&(b.authenticated=!1),Object.getLength(b)>0&&this.update(b)},onAgentJoin:function(a){
this.log("ON agentjoin",a),this.fire("agentjoin",[a])},onAgentLeave:function(a){this.log("ON agentleave",a),this.fire("agentleave",[a.id])},onStatusChange:function(a){this.log("ON status",a.status),this.fire("status",[a.status])},onTyping:function(a){this.log("ON typing",a.typing,a.name),this.fire("typing",[a.typing,a.name])},onChannelInfo:function(a){for(var b in a.messages)a.messages[b].sentTime&&(a.messages[b].sentAt=new Date(a.messages[b].sentTime));this.log("ON channelinfo",a.messages,a.agents,a.rating),this.fire("channelinfo",[a.messages,a.agents,a.rating])},onChannelMessage:function(a){a.sentTime&&(a.sentAt=new Date(a.sentTime)),this.log("ON channelmessage",a),this.fire("channelmessage",[a])},onOfflinemessageAck:function(a){this.log("ON offlinemessage.ack",a),this.fire("offlinemessage",[a.isSent])},onTransfered:function(a){this.log("ON transfered",a),this.fire("transfered",[a.from,a.to])},onChatRating:function(a){this.log("ON chat.rating",a),this.fire("rating",[a.value,a.text])},
tryEmit:function(a,b){this.isVisitorConnected?this.emit(a,b):this.isConnected()&&this.executeOnVisitorConnect(function(){this.emit(a,b)})},emit:function(a,b){this.conn&&(this.log("EMIT "+a,b),this.conn.emit(a,b))},log:function(a,b,c){this.debugMode&&miwo.log.apply(miwo,Array.slice(arguments))},executeOnVisitorConnect:function(a){this.executeVisitorConnectStack.push(a)}}),miwo.define("Chat.server.ConnectionFactory",{Extends:Miwo.Object,host:"",protocol:"https",create:function(a,b){return new Chat.server.Connection(Object.merge({},b,{protocol:this.protocol,host:this.host,visitorId:a.id,data:a.get()}))}}),miwo.define("Chat.server.SockJsAdapter",{Implements:[Miwo.Events],connected:!1,connecting:!1,reconnecting:!1,reconnectAttempts:0,maxReconnectAttempts:5,reconnectDelay:500,maxReconnectDelay:16e3,disconnectDelay:2e3,initialize:function(a,b){this.protocol=a,this.host=b},connect:function(){var a=this;this.connected||(this.connecting=!0,this.connected=!1,this.socket=new SockJS(this.protocol+"://"+this.host+"/chat"),
this.socket.onopen=function(){a.onConnect()},this.socket.onmessage=function(b){a.updateHeartbeatTimeout(),a.onMessage(b)},this.socket.onclose=function(b){a.onDisconnect(b)},this.socket.onheartbeat=function(b){a.updateHeartbeatTimeout(),a.socket.send("")})},disconnect:function(){this.socket&&this.socket.close(null,"booted")},reconnect:function(a){(function(){this.connect()}).delay(a||0,this)},updateHeartbeatTimeout:function(){this.heartbeatId&&window.clearTimeout(this.heartbeatId),this.heartbeatId=function(){this.socket&&(console&&console.log("RECONNECT: Heartbeat missed"),this.socket.close(null,"reconnect"))}.delay(6e4,this)},onConnect:function(){this.connecting=!1,this.connected=!0,this.reconnectAttempts=0,this.reconnectDelay=500,this.reconnecting=!1,this.wasDisconnected=!1,this.fire("connect")},onDisconnect:function(a){if(this.connecting=!1,this.connected=!1,delete this.socket,this.fire("disconnect"),function(){this.connected||this.wasDisconnected||(this.wasDisconnected=!0,this.fire("disconnected"));
}.delay("booted"==a.reason?0:this.disconnectDelay,this),"booted"!=a.reason&&this.maxReconnectAttempts>this.reconnectAttempts){var b=this.reconnectDelay;this.reconnectAttempts++,this.reconnectDelay=Math.min(this.maxReconnectDelay,2*this.reconnectDelay),this.reconnecting=!0,this.reconnect(b)}},onMessage:function(a){if(a.data)try{var b=JSON.decode(a.data);this.fire(b.name,b.data)}catch(c){console&&console.error(c.message,c.stack)}},emit:function(a,b){this.updateHeartbeatTimeout(),b?this.socket.send(JSON.stringify({name:a,data:b})):this.socket.send(JSON.stringify({name:a}))}}),miwo.define("Chat.sounds.FlashAdapter",{Extends:Chat.sounds.SoundAdapter,src:"",path:"",initialize:function(a){this.parent(a),Browser.Plugins.Flash.version>=10&&(this.object=this.frameManager.createEmbed("soundPlayer",'<object id="smartchatSoundPlayer" name="smartchatSoundPlayer" data="'+this.src+'" type="application/x-shockwave-flash" width="1" height="1"><param name="allowScriptAccess" value="always"><param name="movie" value="'+this.src+'"><param name="flashvars" value="soundPath='+this.path+'"></object>').getElementsByTagName("object")[0]);
},play:function(a,b){this.object&&"undefined"!=typeof this.object.playSound&&this.object.playSound(a,(10*b/100).toInt())},doDestroy:function(){this.object&&$destroy(this.object)}}),miwo.define("Chat.sounds.HtmlAdapter",{Extends:Chat.sounds.SoundAdapter,path:"",elements:{},play:function(a,b){var c=this.getAudioObject(a);c.volume=b/100,c.play()},getAudioObject:function(a){return this.elements[a]||(this.elements[a]=new Element("audio",{parent:miwo.body,styles:{display:"none"}}),this.elements[a].set("src",this.path+"/"+a)),this.elements[a]}}),miwo.define("Chat.sounds.SoundAdapterFactory",{Static:{create:function(a,b){return this.isSupportedMpeg()?a.createInstance("Chat.sounds.HtmlAdapter",b):a.createInstance("Chat.sounds.FlashAdapter",b)},isSupportedMpeg:function(){var a=document.createElement("audio");return"function"==typeof a.canPlayType&&""!==a.canPlayType("audio/mpeg")}}}),miwo.define("Chat.theme.BaseTheme",{refresh:function(a){this.helper=a.getHelper(),this.variables=this.loadVariables(a.colors,a.options),
a.setStyles(this.loadStyles().getStyles())},loadVariables:function(a,b){var c={},d=this.helper;return c.radius=b.radius||0===b.radius?b.radius:4,c.primary=a.primary,c.primaryText=a.primaryText||d.getInverseColor(c.primary,80),c.primaryTextColor=a.primaryTextColor||(d.isLight(c.primary)?d.getColor(c.primary,-50):c.primary),c.widgetWidth=b.widgetWidth||"auto",c.widgetHeight=b.widgetHeight||35,c.widgetBg=b.widgetBg||a.widget||a.primary,c.widgetColor=b.widgetColor||a.widgetText||c.primaryText,c.widgetShadow=b.widgetShadow||d.getInverseColor(c.widgetBg,-30),c.widgetBorderColor=b.widgetBorderColor||d.getColor(c.widgetBg,-20),c.widgetRadius=b.widgetRadius||0===b.widgetRadius?b.widgetRadius:c.radius,c.widgetSize=b.widgetSize||Math.min(Math.round(c.widgetHeight/3),18),c.widgetIconColor=b.widgetIconColor||c.widgetColor,c.buttonHeight=b.buttonHeight||35,c.buttonBg=b.buttonBg||c.widgetBg,c.buttonColor=b.buttonColor||d.getColor(c.buttonBg,d.isLight(c.buttonBg)?-60:80),c.buttonBorderColor=b.buttonBorderColor||d.getColor(c.buttonBg,-20),
c.buttonIconBg=b.buttonIconBg||d.getColor(c.buttonBg,-2),c.buttonIconColor=b.buttonIconColor||c.buttonColor,c.buttonIconBorderColor=b.buttonIconBorderColor||d.getColor(c.buttonBg,-15),c.buttonSize=b.buttonSize||Math.min(Math.round(c.buttonHeight/3),18),c.buttonPadding=Math.round(c.buttonHeight/5),c.buttonRadius=b.buttonRadius||0===b.buttonRadius?b.buttonRadius:c.radius,c.panelWidth=b.panelWidth||260,c.panelHeight=b.panelHeight||400,c.panelBg=b.panelBg||"#ffffff",c.panelColor=b.panelColor||"#666666",c.panelBorderColor=b.panelBorderColor||"#bbbbbb",c.panelBorderLight=b.panelBorderLight||d.getRgbaColor("#000000","0.2"),c.panelBorderLighter=b.panelBorderLighter||d.getRgbaColor("#000000","0.1"),c.panelHeaderBg=b.panelHeaderBg||c.primary,c.panelHeaderColor=b.panelHeaderColor||c.primaryText,c.panelHeaderBorderColor=b.panelHeaderBorderColor||d.getColor(c.panelHeaderBg,-20),c.panelHeaderRadius=b.panelHeaderRadius||0===b.panelHeaderRadius?b.panelHeaderRadius:c.radius,c.panelHeaderHeight=b.panelHeaderHeight||27,
c.panelHeaderSize=b.panelHeaderSize||Math.round(c.panelHeaderHeight/2.3),c.panelHeaderMargin=b.panelHeaderMargin||0,c.panelInfoHeight=b.panelInfoHeight||50,c.panelInfoVisible=void 0!==b.panelInfoVisible?b.panelInfoVisible:!0,c.panelInfoBg=b.panelInfoBg||"transparent",c.panelFooterBg=b.panelFooterBg||"transparent",c.panelFooterPadding=b.panelFooterPadding||5,c.offlineWidth=b.offlineWidth||c.panelWidth,c.offlineHeight=b.offlineHeight||c.panelHeight,c.loginWidth=b.loginWidth||c.panelWidth,c.loginHeight=b.loginHeight||c.panelHeight,c.toolBg=b.toolBg||"transparent",c.toolColor=b.toolColor||("transparent"!==c.toolBg?d.getInverseColor(c.toolBg,80):"inherit"),c.toolRadius=b.toolRadius||0===b.toolRadius?b.toolRadius:c.radius-1,c.toolHeight=b.toolHeight||Math.round(c.panelHeaderHeight/1.6),c.btnPrimaryBg=b.btnPrimaryBg||c.primary,c.btnPrimaryColor=b.btnPrimaryColor||c.primaryText,c.btnPrimaryDark1=d.getColor(c.btnPrimaryBg,-10),c.btnPrimaryDark2=d.getColor(c.btnPrimaryBg,-15),c.btnPrimaryDark3=d.getColor(c.btnPrimaryBg,-20),
c.btnRadius=b.btnRadius||0===b.btnRadius?b.btnRadius:c.radius-1,c.inputRadius=c.radius-1,c.inputBorderColor=c.panelBorderLight,c.inputBorderFocusColor=b.inputBorderFocusColor||d.getRgbaColor(c.primary,"0.4"),c.messageAgentColor=b.messageAgentColor,c.messageAgentBorder=b.messageAgentBorder,c.messageAgentBg=b.messageAgentBg,c.messageVisitorColor=b.messageVisitorColor,c.messageVisitorBorder=b.messageVisitorBorder,c.messageVisitorBg=b.messageVisitorBg,c.ratingSmile1Color=b.ratingSmile1Color||"#d1330e",c.ratingSmile2Color=b.ratingSmile2Color||"#f05823",c.ratingSmile3Color=b.ratingSmile3Color||"#f0aa23",c.ratingSmile4Color=b.ratingSmile4Color||"#b3bc26",c.ratingSmile5Color=b.ratingSmile5Color||"#259702",c.bannerBg=b.bannerBg||a.banner,c.bannerBorder=b.bannerBorder||a.bannerBorder||d.getInverseColor(c.bannerBg,-20),c.bannerTitle=b.bannerTitle||a.bannerTitle||c.bannerBg,c.bannerDesc=b.bannerDesc||a.bannerDesc||d.getInverseColor(c.bannerTitle,20),c.bannerText=b.bannerText||a.bannerText||d.getInverseColor(c.bannerBg,80),
c},loadStyles:function(){var a=this.variables,b=new Chat.theme.Styles;b.set(".panel-header",{height:a.panelHeaderHeight+"px",color:a.panelHeaderColor,"background-color":a.panelHeaderBg,"line-height":a.panelHeaderHeight+"px","border-color":a.panelHeaderBorderColor,"border-top-radius":a.panelHeaderRadius+"px","font-size":a.panelHeaderSize+"px"}),b.set(".panel-header .panel-tools",{"margin-top":"-"+Math.round(a.toolHeight/2)+"px"}),b.set(".panel-body",{top:a.panelHeaderHeight+"px","border-color":a.panelBorderColor}),b.set(".panel-info",{height:a.panelInfoHeight+"px",display:a.panelInfoVisible?"block":"none","background-color":a.panelInfoBg,"border-bottom-color":a.panelBorderLighter}),b.set(".panel-content",{top:a.panelInfoVisible?a.panelInfoHeight+"px":"0px",bottom:90+2.5*a.panelFooterPadding+"px","border-bottom-color":a.panelBorderLighter}),b.set(".panel-footer",{height:90+2.5*a.panelFooterPadding+"px","background-color":a.panelFooterBg,padding:a.panelFooterPadding+"px"}),b.set(".panel-body",{
color:a.panelColor,"background-color":a.panelBg}),a.panelInfoVisible||b.set(".panel-online .panel-title",{"text-align":"left","padding-left":"0px"}),a.panelHeaderMargin&&b.set(".panel-online .panel-title",{"margin-left":a.panelHeaderMargin+"px"}),b.set(".tools .tool",{width:a.toolHeight+"px",color:a.toolColor,"background-color":a.toolBg,"border-radius":a.toolRadius+"px","line-height":a.toolHeight+"px"});var c=Math.round((a.widgetHeight-10)/2)+25;return b.set(".widget",{color:a.widgetColor,"background-color":a.widgetBg,"border-color":a.widgetBorderColor,"text-shadow":"0px 0px 1px "+a.widgetShadow,"border-top-radius":a.widgetRadius+"px","font-size":a.widgetSize+"px","padding-right":Math.round((a.widgetHeight-10)/2)+"px","padding-left":c+"px"}),b.set(".widget-icon",{width:c+"px",color:a.widgetIconColor,"font-size":a.widgetSize+2+"px"}),b.set(".widget-text,.widget-icon",{height:a.widgetHeight+"px","line-height":a.widgetHeight-3+"px"}),b.set(".button",{color:a.buttonColor,"background-color":a.buttonBg,
"border-color":a.buttonBorderColor,"border-radius":a.buttonRadius+"px","line-height":a.buttonHeight+"px","font-size":a.buttonSize+2+"px"}),b.set(".button-icon",{color:a.buttonIconColor,"background-color":a.buttonIconBg,"border-right-color":a.buttonIconBorderColor,"padding-left":a.buttonPadding+"px","padding-right":a.buttonPadding+"px"}),b.set(".button-text",{"padding-left":3*a.buttonPadding+.7*a.buttonHeight+"px","padding-right":2*a.buttonPadding+"px"}),b.set(".btn",{"border-radius":a.btnRadius+"px"}),b.set(".btn-primary",{color:a.btnPrimaryColor,"background-color":a.btnPrimaryBg,"border-color":a.btnPrimaryDark1}),b.set(".btn-primary:hover,.btn-primary:focus,.btn-primary:active",{color:a.btnPrimaryColor,"background-color":a.btnPrimaryDark1,"border-color":a.btnPrimaryDark3}),b.set(".btn-primary:active,.btn-primary.active",{"background-color":a.btnPrimaryDark2+" \\9"}),b.set(".form-control",{"border-color":a.inputBorderColor,"border-radius":a.inputRadius}),b.set(".rating .icon-smile-1",{color:a.ratingSmile1Color
}),b.set(".rating .icon-smile-2",{color:a.ratingSmile2Color}),b.set(".rating .icon-smile-3",{color:a.ratingSmile3Color}),b.set(".rating .icon-smile-4",{color:a.ratingSmile4Color}),b.set(".rating .icon-smile-5",{color:a.ratingSmile5Color}),b},getSize:function(a){var b=this.variables;switch(a){case"widget":return{width:b.widgetWidth,height:b.widgetHeight};case"button":return{width:"auto",height:b.buttonHeight};case"online":return{width:b.panelWidth,height:b.panelHeight};case"offline":return{width:b.offlineWidth,height:b.offlineHeight};case"login":return{width:b.loginWidth,height:b.loginHeight}}}}),miwo.define("Chat.theme.DefaultTheme",{Extends:Chat.theme.BaseTheme,install:function(){miwo.body.addClass("theme-default")},uninstall:function(){miwo.body.removeClass("theme-default")},loadVariables:function(a,b){return this.parent(a,Object.merge({panelHeight:400,panelWidth:260,offlineWidth:300,offlineHeight:400,loginWidth:300,loginHeight:400,widgetHeight:35,panelFooterBg:"#f5f5f5",messageAgentColor:"#02b0e5",
messageVisitorColor:"#77b329"},b))},loadStyles:function(){var a=this.parent(),b=this.variables,c=this.helper;return a.set(".panel-header",{"background-gradient":[b.panelHeaderBg,c.getColor(b.panelHeaderBg,-2)],"text-shadow":"0 0px 1px "+c.getInverseColor(b.panelHeaderColor,80),"border-bottom-color":c.getColor(b.panelHeaderBg,-20)}),a.set(".btn-primary",{"background-gradient":[b.btnPrimaryBg,b.btnPrimaryDark1],"border-color":b.btnPrimaryDark1+" "+b.btnPrimaryDark1+" "+b.btnPrimaryDark3}),a.set(".btn-primary:hover,.btn-primary:focus,.btn-primary:active",{color:b.btnPrimaryColor,"background-gradient":[b.btnPrimaryDark1,b.btnPrimaryDark1]}),a.set(".message-agent .username",{color:b.messageAgentColor}),a.set(".message-visitor .username",{color:b.messageVisitorColor}),a}}),miwo.define("Chat.theme.FlatTheme",{Extends:Chat.theme.BaseTheme,install:function(){miwo.body.addClass("theme-flat")},uninstall:function(){miwo.body.removeClass("theme-flat")},loadVariables:function(a,b){return this.parent(a,Object.merge({
panelHeight:420,panelWidth:300,offlineHeight:420,loginHeight:400,widgetHeight:35},b))},loadStyles:function(){var a=this.parent(),b=this.variables,c=this.helper;return b.messageAgentBg||(b.messageAgentBg=c.getLightColor(b.primary,.1)),b.messageAgentBorder||(b.messageAgentBorder=c.getLightColor(b.primary,.2)),b.messageVisitorBg||(b.messageVisitorBg="#ffffff"),b.messageVisitorBorder||(b.messageVisitorBorder="#ececec"),a.set(".panel-header",{"border-bottom":"none"}),a.set(".panel-info .info-box h4",{color:b.primaryTextColor}),a.set(".theme-flat .message-agent",{color:b.messageAgentColor,background:b.messageAgentBg,"border-color":b.messageAgentBorder}),a.set(".theme-flat .message-agent .time",{color:c.getInverseColor(b.messageAgentBg,20)}),a.set(".theme-flat .message-agent:before",{"border-color":"transparent "+b.messageAgentBorder}),a.set(".theme-flat .message-agent:after",{"border-color":"transparent "+b.messageAgentBg}),a.set(".theme-flat .message-visitor",{background:b.messageVisitorBg,"border-color":b.messageVisitorBorder,
color:b.messageVisitorColor}),a.set(".theme-flat .message-visitor .time",{color:c.getInverseColor(b.messageVisitorBg,20)}),a.set(".theme-flat .message-visitor:before",{"border-color":"transparent "+b.messageVisitorBorder}),a.set(".theme-flat .message-visitor:after",{"border-color":"transparent "+b.messageVisitorBg}),a.set(".btn-primary",{border:"none"}),a.set('textarea:focus, input[type="text"]:focus, input[type="email"]:focus, input[type="tel"]:focus',{"border-color":b.inputBorderFocusColor,"box-shadow":"inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 4px "+b.inputBorderFocusColor}),a}}),miwo.define("Chat.theme.Helper",{Extends:Miwo.Object,getColor:function(a,b){return this.makeColor(this.shade(this.parseColor(a),b/100*255))},getInverseColor:function(a,b){var c=this.parseColor(a),d=b/100*255;return this.makeColor(this.shade(c,this.detectLight(c)?-d:d))},getLightColor:function(a,b){var c=this.parseColor(a),d=1-b,e=[];return e[0]=Math.round(255*(b*(c[0]/255)+d)),e[1]=Math.round(255*(b*(c[1]/255)+d)),
e[2]=Math.round(255*(b*(c[2]/255)+d)),this.makeColor(e)},getRgbaColor:function(a,b){var c=this.parseColor(a);return"rgba("+c[0]+","+c[1]+","+c[2]+","+b+")"},isLight:function(a){return this.detectLight(this.parseColor(a))},makeColor:function(a){var b=1==a[0].toString(16).length?"0"+a[0].toString(16):a[0].toString(16),c=1==a[1].toString(16).length?"0"+a[1].toString(16):a[1].toString(16),d=1==a[2].toString(16).length?"0"+a[2].toString(16):a[2].toString(16);return"#"+b+c+d},parseColor:function(a){var b=parseInt(a.substring(1,3),16),c=parseInt(a.substring(3,5),16),d=parseInt(a.substring(5,7),16);return[b,c,d]},shade:function(a,b){for(var c,d=3;d--;a[d]=0>c?0:c>255?255:0|c)c=a[d]+b;return a},detectLight:function(a){return Math.sqrt(.299*(a[0]*a[0])+.587*(a[1]*a[1])+.114*(a[2]*a[2]))>180}}),miwo.define("Chat.theme.MobileTheme",{Extends:Chat.theme.FlatTheme,install:function(){this.parent(),miwo.body.addClass("theme-mobile")},uninstall:function(){this.parent(),miwo.body.removeClass("theme-mobile");
}}),miwo.define("Chat.theme.StyleManager",{Extends:Miwo.Object,styles:void 0,initialize:function(a){if(this.parent(a),this.styles){for(var b in this.styles)this.setStyles(b,this.styles[b]);delete this.styles}},setStyles:function(a,b){var c="customstyle_"+a,d=$(c);d&&d.destroy(),Type.isString(b)||(b=this.formatStyles(b)),b&&(d=document.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("id",c),document.getElementsByTagName("head")[0].appendChild(d),d.styleSheet?d.styleSheet.cssText=b:d.appendChild(document.createTextNode(b)))},formatStyles:function(a){var b="\n";for(var c in a){b+=c+"{";var d=a[c];for(var e in d){var f=d[e];if("background-gradient"==e){var g=f[0],h=f[1];b+="background-image: -moz-linear-gradient(top, "+g+", "+h+");background-image: -webkit-gradient(linear, 0 0, 0 100%, from("+g+"), to("+h+"));background-image: -webkit-linear-gradient(top, "+g+", "+h+");background-image: -o-linear-gradient(top, "+g+", "+h+");background-image: linear-gradient(to bottom, "+g+", "+h+");filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='"+g.replace("#","#ff")+"', endColorstr='"+h.replace("#","#ff")+'\', GradientType=0)";filter: "progid:DXImageTransform.Microsoft.gradient(enabled = false)";';
}else b+="border-top-radius"==e?"-webkit-border-top-left-radius: "+f+";-webkit-border-top-right-radius: "+f+";-moz-border-radius-topleft: "+f+";-moz-border-radius-topright: "+f+";border-top-left-radius: "+f+";border-top-right-radius: "+f+";":"border-top-left-radius"==e?"-webkit-border-top-left-radius: "+f+";-moz-border-radius-topleft: "+f+";border-top-left-radius: "+f+";":"border-top-right-radius"==e?"-webkit-border-top-right-radius: "+f+";-moz-border-radius-topright: "+f+";border-top-right-radius: "+f+";":"box-shadow"==e?"-webkit-box-shadow: "+f+";-moz-box-shadow: "+f+";box-shadow: "+f+";":e+":"+f+";"}b+="}\n"}return b}}),miwo.define("Chat.theme.Styles",{styles:{},set:function(a,b){this.styles[a]?this.styles[a]=Object.merge(this.styles[a],b):this.styles[a]=b},getStyles:function(){return this.styles}}),miwo.define("Chat.theme.ThemeManager",{Extends:Miwo.Object,Implements:[Miwo.Events],name:"def",colors:{primary:"#f5f5f5",banner:"#484848",widget:""},options:{},banner:null,theme:null,styleManager:null,
initialize:function(a){this.parent(a),this.helper=new Chat.theme.Helper,this.themes={flat:Chat.theme.FlatTheme,mobile:Chat.theme.MobileTheme,"default":Chat.theme.DefaultTheme}},loadTheme:function(){this.theme||this.setTheme(this.name,!0)},setTheme:function(a,b){this.theme&&this.theme.uninstall(),this.theme=new(this.themes[a]?this.themes[a]:this.themes["default"]),this.theme.install(),b&&this.refresh()},setBanner:function(a){this.banner=a,this.banner.refresh(this)},refresh:function(){this.theme&&this.theme.refresh(this),this.banner&&this.banner.refresh(this)},setColors:function(a){for(var b in a)this.updateColor(b,a[b]);this.refresh(),this.fire("colors",[this,a])},setColor:function(a,b){b?this.updateColor(a,b):(b=a,a="primary",this.updateColor("primary",a),this.updateColor("widget",a)),this.refresh();var c={};c[a]=b,this.fire("colors",[this,c])},updateColor:function(a,b){this.colors[a]=this.parseColor(b)},setOptions:function(a,b){this.options=Object.merge(b?{}:this.options,a),this.refresh(),
this.fire("options",[this,a])},setOption:function(a,b){this.options[a]=b,this.refresh();var c={};c[a]=b,this.fire("options",[this,c])},getOptions:function(){return this.options},getOption:function(a){return this.options[a]},getColor:function(a,b){return this.colors[a]?b?this.getHelper().getColor(this.colors[a],b):this.colors[a]:null},getInverseColor:function(a,b){return this.colors[a]?b?this.getHelper().getInverseColor(this.colors[a],b):this.colors[a]:null},parseColor:function(a){if(/^#?[a-f0-9]{6}$/i.test(a))return 6===a.length?"#"+a:a;if(/^#?[a-f0-9]{3}$/i.test(a)){var b=3===a.length?0:1;return"#"+[a.charAt(b+0),a.charAt(b+0),a.charAt(b+1),a.charAt(b+1),a.charAt(b+2),a.charAt(b+2)].join("")}return"#000000"},setStyles:function(a){this.styleManager.setStyles("theme",a)},getHelper:function(){return this.helper}}),miwo.namespace("Chat.utils"),Chat.utils.Element={setCaretPosition:function(a,b){if(a.value=a.value,void 0===b&&(b=a.value.length),a.createTextRange){var c=a.createTextRange();c.move("character",b),
c.select()}else a.selectionStart||0===a.selectionStart?(a.focus(),a.setSelectionRange(b,b)):a.focus()}},miwo.define("Chat.utils.FrameManager",{Extends:Miwo.Object,Implements:[Miwo.Events],el:null,alignX:"right",alignY:"bottom",offsetX:10,offsetY:100,managed:{},visible:!0,active:null,isMoved:!1,expandMode:!1,preventUpdate:!1,initialize:function(a){this.parent(a),this.el&&Type.isFunction(this.el)&&(this.el=this.el()),this.el&&(miwo.componentManager.on({register:function(a){a.frameManage&&this.register(a)}.bind(this)}),Browser.ie&&Browser.version<9&&"side"==this.alignY&&(this.alignY="bottom"),this.setVisible(this.visible))},register:function(a){this.managed[a.name]=a,a.setFrameMgr&&a.setFrameMgr(this),a.on("resize",function(){this.updateSize()}.bind(this)),a.on("show",function(a){this.active=a,this.updateSize()}.bind(this)),a.on("hide",function(){this.updateSize()}.bind(this))},updateSize:function(){this.preventUpdate||this.expandMode||(this.setSize(this.detectSize()),this.syncPosition())},
setExpandMode:function(a,b){this.expandMode=a,a?(this.setPosition(b||{top:0,left:0}),this.setSize({width:"100%",height:"100%"})):(b?this.setPosition(b):this.resetPosition(),this.updateSize())},setSize:function(a){a.hasOwnProperty("width")&&this.setStyle("width","string"==typeof a.width?a.width:a.width+"px"),a.hasOwnProperty("height")&&this.setStyle("height","string"==typeof a.height?a.height:a.height+"px")},getSize:function(){return{width:this.el.style.width,height:this.el.style.height}},getPosition:function(){return{left:this.el.offsetLeft,top:this.el.offsetTop}},setPosition:function(a){this.isMoved=!0,this.position=a,this.syncPosition()},resetPosition:function(){this.isMoved=!1,this.position=null,this.syncPosition()},show:function(){this.visible=!0,this.setStyle("display","block")},hide:function(){this.visible=!1,this.setStyle("display","none")},setVisible:function(a){this[a?"show":"hide"]()},setStyle:function(a,b){this.el.style[a]=b},setAlign:function(a,b,c,d){this.alignX=a||this.alignX||"right",
this.alignY=b||this.alignY||"bottom",this.offsetX=0===c?0:c?c:this.offsetX,this.offsetY=0===d?0:d?d:this.offsetY,Browser.ie&&Browser.version<9&&"side"==this.alignY&&(this.alignY="bottom"),this.fire("alignchange",[this,this.alignX,this.alignY])},syncPosition:function(){var a=this.active,b=this.getSize();if(miwo.body.removeClass("frame-align-bottom").removeClass("frame-align-side"),miwo.body.removeClass("frame-align-left").removeClass("frame-align-right"),!this.isMoved||a&&("widget"==a.name||"button"==a.name)){var c=a&&a.frameAlignX?a.frameAlignX:this.alignX,d=a&&a.frameAlignY?a.frameAlignY:this.alignY,e="100%"===b.width?0:this.offsetX,f="100%"===b.width?0:this.offsetY,g=null,h=null,i=null,j=null;"side"==d?(g=f+"px","left"==c?h="0px":i="0px"):(j="-4px","left"==c?h=e+"px":i=e+"px"),this.setStyle("top",g),this.setStyle("bottom",j),this.setStyle("left",h),this.setStyle("right",i),miwo.body.addClass("frame-align-"+c),miwo.body.addClass("frame-align-"+d),miwo.body.removeClass("frame-dragged")}else this.position&&(this.setStyle("top",this.position.top+"px"),
this.setStyle("left",this.position.left+"px"),this.setStyle("bottom",null),this.setStyle("right",null),miwo.body.addClass("frame-dragged"))},detectSize:function(){var a=0,b=0;for(var c in this.managed){var d=this.managed[c];if(d.isVisible()){var e=d.getSize();("100%"==d.height||"100%"==d.el.getStyle("height"))&&(e.height="100%"),("100%"==d.width||"100%"==d.el.getStyle("width"))&&(e.width="100%"),"100%"!==a&&("100%"===e.height?a=e.height:e.height&&(a=Math.max(a,e.height))),"100%"!==b&&("100%"===e.width?b=e.width:e.width&&(b=Math.max(b,e.width)))}}return{width:"100%"===b?b:b+10,height:"100%"===a?a:a+10}},createEmbed:function(a,b){var c=this.el.ownerDocument,d=c.createElement("div");d.id="smartsupp-"+a,d.style.width="1px",d.style.height="1px",d.style.position="fixed";var e=c.getElementsByTagName("body")[0];return e.insertBefore(d,e.childNodes[0]),d.innerHTML=b,c.getElementById(d.id)}}),miwo.define("Chat.utils.IdGenerator",{Extends:Miwo.Object,length:48,generate:function(){var a=this.formatDate(new Date,"smhDMY"),b=this.randomString(this.length-a.length);
return b+a},randomString:function(a,b){b=b||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var c="",d=0;a>d;d++){var e=Math.floor(Math.random()*b.length);c+=b.substring(e,e+1)}return c},formatDate:function(a,b){return b=b.replace("D",(a.getDate()<10?"0":"")+a.getDate()),b=b.replace("M",(a.getMonth()<9?"0":"")+(a.getMonth()+1)),b=b.replace("Y",a.getFullYear()),b=b.replace("s",(a.getSeconds()<10?"0":"")+a.getSeconds()),b=b.replace("m",(a.getMinutes()<10?"0":"")+a.getMinutes()),b=b.replace("h",(a.getHours()<10?"0":"")+a.getHours())}}),miwo.define("Chat.utils.Translator",{Extends:Miwo.Object,lang:void 0,defaultLang:void 0,browserLang:"en",translates:void 0,initialize:function(a){this.parent(a),this.lang&&(this.lang=this.detectLang(this.lang),Locale.use(this.lang)),this.translates&&(this.setTranslates(this.translates),delete this.translates)},setDefaultLang:function(a){this.defaultLang=a},setLanguage:function(a){a=this.detectLang(a),this.lang!=a&&(Locale.use(a),this.lang=a,
this.translate())},getLanguage:function(){return Locale.getCurrent().name},setTranslates:function(a,b,c){if(Type.isArray(Object))for(var d=0;d<a.length;d++)this.setTranslates(a[d].list,a[d].name,a[d].parent);else b=b||this.lang,this.hasLang(b)?Locale.define(b,"app",a):(Locale.define(b,"app",a),Locale.inherit(b,c||"en"))},setTranslate:function(key,text,lang){var code="config = {"+key.replace(/\./g,":{")+":text"+"}".repeat(key.split(".").length),config;eval(code),Locale.define(lang?this.detectLang(lang):this.lang,"app",config)},getTranslates:function(){return Locale.get("app")},translate:function(){this.viewport&&this.viewport.translate()},detectLang:function(a){return"browser"==a||"auto"==a?this.browserLang:this.hasLang(a)?a:"en"},hasLang:function(a){return Locale.list().indexOf(a)>=0}}),miwo.define("App.view.banner.Banner",{Extends:Miwo.component.Component,name:"banner",animate:!0,animateDelay:1e3,translatable:!1,paintEl:null,beforeInit:function(){this.parent(),this.height=140,this.bottom=35,
this.left=0,this.right=0,this.visible=!1,this.componentCls="banner"},open:function(){this.show(),this.fire("open",this)},close:function(){this.hide(),this.fire("close",this)},update:function(a){this.rendered&&this.updateBanner(this.paintEl,a,this.bound("onBannerRendered"))},render:function(a,b){this.isRenderable()&&this.parent(a,b)},refresh:function(a){this.updateColors(a),this.update()},translate:function(){this.updateTranslates(),this.update()},doShow:function(){this.parent(),this.isAnimated||this.afterAnimate()},beforeRender:function(){this.parent(),this.html='<div class="banner-layout miwo-ct"><div class="banner-paint" miwo-reference="paintEl"></div></div>'},afterRender:function(){this.parent(),this.el.on("click",this.bound("onClick")),this.renderBanner(this.paintEl,this.bound("onBannerRendered"))},setTranslateable:function(a){this.translatable=a},onClick:function(a){a.stop(),this.fire("click",this)},onCloseClick:function(a){a.stop(),this.close()},isRenderable:function(){return!0},updateTranslates:function(){},
updateColors:function(a){},renderBanner:function(a,b){},updateBanner:function(a,b,c){},onBannerRendered:function(a){this.isAnimated||(this.beforeAnimate(),this.fire("bannerready",[this]),this.animate&&!a&&"true"===miwo.cookie.read("ssupp.animbnr","true")?this.animateBanner(this.afterAnimate.bind(this)):this.afterAnimate())},beforeAnimate:function(){this.isAnimated=!0},afterAnimate:function(){this.isAnimated=!1},animateBanner:function(a){var b,c,d=this;this.paintEl.setStyle("bottom",-this.height),b=new Fx.Tween(this.paintEl,{duration:200,transition:"quad:in",link:"cancel",property:"bottom",onComplete:function(){c.start(d.bottom,0)}}),c=new Fx.Tween(this.paintEl,{duration:800,transition:"bounce:out",link:"cancel",property:"bottom",onComplete:function(){a()}}),this.animateDelay?function(){b.start(-d.height,d.bottom)}.delay(this.animateDelay):b.start(-d.height,d.bottom),miwo.cookie.write("ssupp.animbnr","false")}}),miwo.define("App.view.Panel",{Extends:Miwo.component.Container,logoUrl:"",logoSrc:"",
logoSmSrc:"",brandText:"",policyText:"",policyUrl:"",doInit:function(){this.parent(),this.logoSrc=this.policyUrl?this.logoSmSrc:this.logoSrc},doShow:function(){this.parent(),this.footerMaskEl&&(this.footerMaskEl.show(),setTimeout(function(){this.footerMaskEl.hide()}.bind(this),300))},afterRender:function(){if(this.parent(),this.draggable){var a=this,b=!1;a.mgr=miwo.service("chat.frameManager");var c=new Element("div",{cls:"panel-drag-helper"});c.inject(this.headerEl,"top"),c.on("mouseenter",function(){a.startDrag()}),c.on("mouseleave",function(){b||a.cancelDrag()});var d=new Drag(this.el,{snap:0,handle:c,onBeforeStart:function(){a.dragSnaped=!1,b=!0,d.options.limit={x:[5,window.parent.innerWidth-a.width-5],y:[5,window.parent.innerHeight-a.height-5]}},onSnap:function(b){a.dragSnaped=!0,b.addClass("panel-dragging"),c.addClass("dragging")},onComplete:function(a){a.removeClass("panel-dragging"),c.removeClass("dragging"),b=!1},onCancel:function(a){a.removeClass("panel-dragging"),c.removeClass("dragging"),
b=!1}});this.dragHelper=c}},startDrag:function(){if(!this.dragEnabled){this.dragEnabled=!0;var a=this.mgr.getPosition(),b=this.mgr.isMoved;this.mgrPos=this.mgr.position,this.mgr.setExpandMode(!0),this.el.setStyle("top",a.top+5+("bottom"!=this.mgr.alignY||b?0:5)),this.el.setStyle("left",a.left+5+("side"!=this.mgr.alignY||b?0:"right"==this.mgr.alignX?10:-10))}},cancelDrag:function(){if(this.dragEnabled){this.dragEnabled=!1;var a=this.mgr,b=this.el,c=30,d=this.el.offsetTop,e=this.el.offsetLeft,f=window.innerWidth,g=window.innerHeight;this.dragSnaped?(g-c<=d+this.height||c>=e||f-c<=e+this.width?(b.setStyle("top",null),b.setStyle("left",null),g-c<=d+this.height?f/2>e?a.setAlign("left","bottom"):a.setAlign("right","bottom"):c>=e?a.setAlign("left","side"):a.setAlign("right","side"),a.setExpandMode(!1)):(b.setStyle("top",5),b.setStyle("left",5),a.setExpandMode(!1,{top:d-5,left:e-5})),this.fire("move",this)):this.mgrPos?(b.setStyle("top",5),b.setStyle("left",5),a.setExpandMode(!1,{top:d-5,left:e-5
})):(b.setStyle("top",null),b.setStyle("left",null),a.setExpandMode(!1))}},renderBrand:function(){return'<div class="brand">'+this.renderBrandLogo()+(this.policyUrl?'<a rel="nofollow" class="brand-notice" href="'+this.policyUrl+'" target="_blank">'+(this.policyText?this.policyText:$tr("app.common.policyText"))+"</a>":"")+"</div>"},renderBrandLogo:function(){return"white_label"===this.logoSrc?"":this.logoSrc?'<a rel="nofollow" class="brand-logo brand-logo-img" href="'+this.logoUrl+'" target="_blank"><img src="'+this.logoSrc+'"/></a>':this.brandText?'<span class="brand-logo">'+this.brandText+"</span>":void 0}}),miwo.define("App.view.FormPanel",{Extends:App.view.Panel,Implements:[Miwo.utils.Maskable,Miwo.utils.Translatable],title:"",notice:"",hideable:!0,beforeInit:function(){this.parent(),this.frameManage=!0,this.visible=!1,this.width=260,this.height=400,this.componentCls="panel panel-offline"},doInit:function(){this.parent();var a=this.addComponent("scrollpane",new Miwo.panel.Scrollpane);
this.onInitComponents(a)},onInitComponents:function(a){this.notice=a.add("notice",this.createComponentNotice()),this.form=a.add("form",this.createComponentForm())},createComponentNotice:function(){return new App.view.offline.Notice({notice:this.notice})},createComponentForm:function(){var a=new App.ui.Form;return a.on("success",this.bound("onFormSuccess")),a},reconfigure:function(){this.get("scrollpane").remove("form"),this.form=this.get("scrollpane").add("form",this.createComponentForm())},setTitle:function(a){this.title=a,this.rendered&&this.headerEl.getElement(".panel-title span.titleCt").set("html",a)},setNotice:function(a){this.notice.setNotice(a)},hideChat:function(){this.hideable&&(this.hide(),this.fire("hidechat",[this]))},getForm:function(){return this.form},onFormSuccess:function(a){this.fire("success",[this,a])},beforeRender:function(){this.parent(),this.html='<div class="miwo-ct panel-inner"><div class="panel-header"><div class="miwo-ct" miwo-reference="headerEl" miwo-events="click:onHeaderClick"><div class="panel-title" miwo-reference="titleEl"><span class="titleCt">'+this.title+'</span></div><div class="panel-tools tools"><span miwo-events="click:onCloseBtnClick" class="tool closeBtn" title="'+$tr("app.offline.hideTitle")+'"><i class="icon-down-open"></i></span></div></div></div><div class="panel-body"><div class="miwo-ct"><div class="panel-content"><div class="miwo-ct" miwo-reference="contentEl"><div miwo-component="scrollpane"></div></div></div><div class="panel-footer"><div class="miwo-ct" miwo-reference="footerEl">'+this.renderBrand()+'<div miwo-reference="footerMaskEl" class="panel-footer-mask"></div></div></div></div></div></div>';
},afterRender:function(){this.parent(),this.hideable||this.headerEl.getElement(".closeBtn").hide()},translate:function(){this.translateText(".closeBtn","title","app.offline.hideTitle"),this.form.getControls().each(function(a){if(a.translatable!==!1){var b=$tr("app.offline."+a.name);b&&a.setLabel(b)}})},onCloseBtnClick:function(a){a.stop(),this.hideChat()},onHeaderClick:function(){this.dragSnaped||(this.cancelDrag(),this.hideChat())}}),miwo.define("App.ui.Dialog",{Extends:Miwo.component.Component,name:"dialog",title:"",content:"",buttons:[],beforeInit:function(){this.parent(),this.componentCls="dialog",this.visible=!1},doInit:function(){this.parent(),this.renderTo||(this.renderTo=miwo.body)},close:function(){this.hide(),this.destroy()},beforeRender:function(){this.parent();for(var a="",b=0;b<this.buttons.length;b++){var c=this.buttons[b];c.forceNewLine&&(a+="<br/>"),a+='<button miwo-events="click:onButtonClick" class="btn '+(c.cls||"")+'" name="'+b+'">'+c.title+"</button>"}this.html='<div class="miwo-mask"></div><div class="miwo-mask-content"><h3>'+this.title+"</h3>"+this.content+'<div class="buttons">'+a+"</div></div>";
},onButtonClick:function(a){var b=a.target.name;this.buttons[b].handler()}}),miwo.define("App.ui.Form",{Extends:Miwo.component.Container,beforeInit:function(){this.parent(),this.el="form"},setValues:function(a){this.getControls().each(function(b){a&&a.hasOwnProperty(b.name)&&b.setValue(a[b.name])})},getValues:function(){var a={};return this.getControls().each(function(b){a[b.name]=b.getValue()}),a},reset:function(){this.getControls().each(function(a){a.setValue("")})},validate:function(){var a=!0;return this.getControls().each(function(b){b.validate()||(a=!1)}),a},isValid:function(){return this.validate()},getControls:function(){return this.findComponents(!1,{isControl:!0})},addText:function(a,b){return this.addComponent(a,new App.ui.form.TextInput(b))},addTextArea:function(a,b){return this.addComponent(a,new App.ui.form.TextArea(b))},addSelect:function(a,b){return this.addComponent(a,new App.ui.form.Select(b))},addCheckbox:function(a,b){return this.addComponent(a,new App.ui.form.Checkbox(b));
},addSubmit:function(a,b){return this.addComponent(a,new App.ui.form.SubmitButton(b))},afterRender:function(){this.parent(),this.el.addClass("form"),this.el.on("submit",this.bound("onFormSubmit"))},onFormSubmit:function(a){return a.preventDefault(),this.submit(),!1},submit:function(){this.isValid()?this.fire("success",[this]):this.fire("failure",[this])}}),miwo.define("App.ui.form.Control",{Extends:Miwo.component.Component,isControl:!0,required:!1,label:"",value:"",rules:null,doInit:function(){this.parent(),this.rules=new App.ui.form.Rules({rules:this.rules}),this.initRules()},setLabel:function(a){this.label=a,this.labelEl&&this.labelEl.set("html",a)},doRender:function(){this.el.addClass("form-group"),this.renderLabel(this.el),this.renderControl(this.el)},afterRender:function(){this.parent(),this.inputEl.set("id",this.id),this.inputEl.set("name",this.name),this.labelEl&&this.labelEl.set("for",this.id),this.setValue(this.value)},renderLabel:function(a){var b=new Element("div",{cls:"form-label",
parent:a});this.errorEl=new Element("div",{cls:"form-error",parent:b}),this.labelEl=new Element("label",{"for":this.name,html:this.label,parent:b})},renderControl:function(a){var b=new Element("div",{cls:"form-controls",parent:a}),c=this.renderInput(b);if(c.inject(b),this.inputEl||(this.inputEl=c),!this.inputEl)throw new Error("Input not rendered");this.required&&this.inputEl.set("required",!0)},renderInput:function(a){},getValue:function(){return this.inputEl.get("value")},setValue:function(a){this.value=a,this.inputEl&&this.inputEl.set("value",a)},initRules:function(){this.required&&this.rules.setRule("required")},validate:function(){var a=this.rules.validate(this,this.getValue());return this.error=a,this.el.toggleClass("has-error",null!==a),this.errorEl&&this.errorEl.set("html",a).setVisible(null!==a),null===a},validateRequired:function(a){return""!==a.toString().trim()}}),miwo.define("App.ui.form.TextInput",{Extends:App.ui.form.Control,xtype:"textinput",type:"text",placeholder:"",pattern:void 0,
minlength:void 0,title:void 0,initRules:function(){"email"==this.type&&this.rules.setRule("email")},renderInput:function(){return new Element("input",{type:"text"!=this.type&&Browser.ie&&Browser.version<10?"text":this.type,title:this.title,placeholder:this.placeholder,pattern:this.pattern,minlength:this.minlength,cls:"form-control"})},validateEmail:function(a){var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)},validatePhone:function(a){var b=/^[\d()-+]{9,}$/;return b.test(a)}}),miwo.define("App.ui.form.TextArea",{Extends:App.ui.form.Control,xtype:"textarea",placeholder:"",inputHeight:50,renderInput:function(){return new Element("textarea",{placeholder:this.placeholder,cls:"form-control",styles:{height:this.inputHeight}})}}),miwo.define("App.ui.form.Select",{Extends:App.ui.form.Control,xtype:"select",items:null,setItems:function(a){this.items=a,this.inputEl&&this.renderItems(this.inputEl);
},renderInput:function(){var a=new Element("select",{cls:"form-control"});return this.renderItems(a),a},renderItems:function(a){var b,c,d=this.items;if(a.empty(),Type.isObject(d))for(b in d)c=d[b],this.renderItem(a,b,c);else if(Type.isArray(d))for(var e=0;e<d.length;e++)b=d[e],this.renderItem(a,b,b)},renderItem:function(a,b,c){return new Element("option",{parent:a,value:b,html:c})}}),miwo.define("App.ui.form.Checkbox",{Extends:App.ui.form.Control,xtype:"checkbox",getValue:function(){return this.inputEl.get("checked")},renderLabel:function(){},renderInput:function(){var a=new Element("div",{cls:"checkbox"});return this.inputEl=new Element("input",{type:"checkbox",parent:a}),this.labelEl=new Element("label",{html:this.label,parent:a}),a}}),miwo.define("App.ui.form.Button",{Extends:App.ui.form.Control,xtype:"formbtn",isControl:!1,type:"default",setLabel:function(a){this.label=a,this.inputEl&&this.inputEl.set("value",a)},setValue:function(){},renderLabel:function(){},renderInput:function(){
return new Element("input",{type:"submit",value:this.label,cls:"btn btn-block btn-"+this.type})}}),miwo.define("App.ui.form.SubmitButton",{Extends:App.ui.form.Button,xtype:"submitbtn",type:"primary"}),miwo.define("App.ui.form.Rules",{Extends:Miwo.Object,rules:[],initialize:function(a){if(a.rules&&Type.isArray(a.rules)){for(var b=0;b<a.rules.length;b++){var c=a.rules[b];this.addRule(c.operation,c.message)}delete a.rules}this.parent()},getRule:function(a){for(var b=0;b<this.rules.length;b++){var c=this.rules[b];if(c.op===a)return c}return null},addRule:function(a,b){this.rules.push(new App.ui.form.Rule(a,b))},setRule:function(a,b){var c;null===(c=this.getRule(a))?this.addRule(a,b):b&&(c.message=b)},validate:function(a,b){for(var c=0;c<this.rules.length;c++){var d=this.rules[c],e=d.validate(a,b);if(e)return e}return null}}),miwo.define("App.ui.form.Rule",{op:null,message:null,initialize:function(a,b){this.op=a,this.message=b},validate:function(a,b){if(Type.isString(this.op)){var c=a["validate"+this.op.capitalize()];
if(c&&!c(b,a))return this.message}else if(Type.isFunction(this.op)&&!this.op(b,a))return this.message;return null}}),miwo.define("App.controller.Chat",{Extends:Miwo.app.Controller,Services:{model:"!chat.model",connection:"!chat.connection",soundPlayer:"!chat.soundPlayer",frameManager:"!chat.frameManager",eventManager:"chat.eventManager",pluginManager:"!chat.pluginManager",themeManager:"!chat.themeManager",api:"!chat.api"},name:"chat",options:{opened:void 0,openedBanner:void 0,autoHideBanner:void 0,hideOfflineBanner:void 0,hideBanner:void 0,hideWidget:void 0,hideOfflineChat:void 0,autoOpen:void 0,widgetMode:void 0,requireLogin:void 0},offline:null,online:null,widget:null,button:null,login:null,showLogin:!1,resourcesUrl:"",preventUpdate:!1,ignoreThemeSize:!1,smallDeviceMinWidth:641,smartlook:null,setContext:function(a){this.parent(a);var b=a.parameters,c=miwo.cookie,d=this;d.smartlook=b.smartlook,d.smallDeviceMinWidth=b.smallDeviceMinWidth,d.ignoreThemeSize=b.ignoreThemeSize,d.resourcesUrl=b.resourcesUrl,
d.cookieNames=b.cookieNames,d.autoFillName=b.autoFillName;var e=d.cookieNames;this.setOptions({opened:null!==b.opened?b.opened:"true"===c.read(e.opened,c.read("ssupp_opened")),openedBanner:null!==b.openedBanner?b.openedBanner:"false"!==c.read(e.banner,"true"===c.read("ssupp_closeBanner")?"false":"true"),autoHideBanner:b.autoHideBanner,hideOfflineBanner:b.hideOfflineBanner,hideBanner:b.hideBanner,hideWidget:b.hideWidget||b.hideMobileWidget&&b.isMobile,hideOfflineChat:b.hideOfflineChat,autoOpen:"false"!==c.read(e.autoOpen,c.read("ssupp_autoOpen")),widgetMode:b.widget,requireLogin:b.requireLogin}),d.connection.persistGroups=b.requireLogin&&b.requireLoginWithGroup,d.pluginManager.setController(d)},startup:function(){var a=this;a.windowWidth=a.getWindowWidth(),window.parent.onresize=a.onWindowResize.bind(a),a.control(a.connection,{visitorconnect:"onVisitorConnect",visitorupdate:"onVisitorUpdate",visitorban:"onVisitorBan",channelopen:"onChannelOpen",channelinfo:"onChannelInfo",channelmessage:"onChannelMessage",
channelclose:"onChannelClose",agentjoin:"onAgentJoin",agentleave:"onAgentLeave",typing:"onTyping",rating:"onRating",offlinemessage:"onOfflineMessage",disconnect:"onDisconnect",status:"onStatusChanged",transfered:"onTransfered"}),a.control(a.model,{status:"onModelStatus",update:"onModelUpdate"}),a.control("#offlinePanel",{hidechat:"onOfflinePanelHideChat",success:"onOfflinePanelSuccess",move:"onPanelMove"}),a.control("#onlinePanel",{show:"onOnlinePanelShow",hidechat:"onOnlinePanelHideChat",closechat:"onOnlinePanelCloseChat",sendchat:"onOnlinePanelSendChat",typing:"onOnlinePanelTyping",send:"onOnlinePanelSend",rate:"onOnlinePanelRate",mutechange:"onOnlinePanelMuteChange",move:"onPanelMove"}),a.control("#loginPanel",{success:"onLoginFormSuccess",hidechat:"onLoginPanelHideChat",move:"onPanelMove"}),a.control("#widgetPanel",{click:"onWidgetClick",bannercreated:"onBannerCreated"}),a.control("#buttonPanel",{click:"onButtonPanelClick"}),a.control("#banner",{open:"onBannerOpen",close:"onBannerClose",
click:"onBannerClick"}),a.api.startup(a),a.pluginManager.notify("startup",a),a.fire("startup",a),a.connection.isConnectable()?a.connection.connect():a.application.render()},beforeRender:function(){if(this.offline=miwo.get("offlinePanel"),this.online=miwo.get("onlinePanel"),this.button=miwo.get("buttonPanel"),this.login=miwo.get("loginPanel"),this.widget=miwo.get("widgetPanel"),this.themeManager.loadTheme(),this.frameManager.preventUpdate=!0,!this.ignoreThemeSize){var a=this.themeManager.theme;this.online.setSize(a.getSize("online")),this.offline.setSize(a.getSize("offline")),this.login.setSize(a.getSize("login")),this.button.setSize(a.getSize("button")),this.widget.setSize(a.getSize("widget")),this.themeManager.on("options",function(b,c){(c.panelWidth||c.panelHeight)&&this.online.setSize(a.getSize("online")),(c.offlineWidth||c.offlineHeight)&&this.offline.setSize(a.getSize("offline")),(c.loginWidth||c.loginHeight)&&this.login.setSize(a.getSize("login")),c.buttonHeight&&this.button.setSize(a.getSize("button")),
(c.widgetWidth||c.widgetHeight)&&this.widget.setSize(a.getSize("widget"))}.bind(this))}this.api.render(this),this.pluginManager.notify("render",this),this.fire("render",this)},afterRender:function(){this.widget.setStatus(this.model.getStatus()),this.button.setStatus(this.model.getStatus()),this.api.rendered(this),this.pluginManager.notify("rendered",this),this.fire("rendered",this),this.frameManager.syncPosition()},setOpened:function(a){this.setOption("opened",a),miwo.cookie.write(this.cookieNames.opened,a)},setOpenedBanner:function(a){this.setOption("openedBanner",a),miwo.cookie.write(this.cookieNames.banner,a)},setAutoOpen:function(a){this.setOption("autoOpen",a),miwo.cookie.write(this.cookieNames.autoOpen,a)},setOption:function(a,b){this.options[a]=b,this.updateView()},setOptions:function(a){Object.merge(this.options,a),this.updateView()},isSmallDevice:function(){return this.windowWidth<this.smallDeviceMinWidth},isMobilDevice:function(){return Browser.Platform.android||Browser.Platform.ios||Browser.Platform.webos||this.windowWidth<=415;
},onWindowResize:function(){this.windowWidth=this.getWindowWidth(),this.updateView()},onModelStatus:function(a){this.application.rendered&&(this.widget.setStatus(a),this.button.setStatus(a),this.updateView())},onModelUpdate:function(a,b){if(this.connection.update(b),this.smartlook&&(b.name&&this.smartlook("tag","name",b.name),b.email&&this.smartlook("tag","email",b.email),b.variables))for(var c in b.variables)this.smartlook("tag",b.variables[c].label,b.variables[c].value);this.online&&(this.online.visitorEmail=this.model.get("email"))},onDisconnect:function(){this.updateView()},onVisitorConnect:function(a){if(this.application.render(),this.preventUpdate=!0,this.model.data.authenticated=a.authenticated,a.nickname&&(this.model.data.name=a.nickname,this.smartlook&&this.smartlook("tag","name",a.nickname)),a.email&&(this.model.data.email=a.email,this.smartlook&&this.smartlook("tag","email",a.email)),a.variables&&(this.model.data.variables=a.variables,this.smartlook))for(var b in a.variables)this.smartlook("tag",a.variables[b].label,a.variables[b].value);
if(this.model.isBanned=a.banned,this.model.setChannelId(a.channelId),this.model.setStatus(a.accountStatus),this.autoFillName&&this.model.get("name")){var c=this.model.get("name").replace("#","");this.login.form.get("name",!1)&&this.login.form.get("name").setValue(c),this.offline.form.get("name",!1)&&this.offline.form.get("name").setValue(c)}if(this.model.get("email")){var d=this.model.get("email").replace("#","");this.login.form.get("email",!1)&&this.login.form.get("email").setValue(d),this.offline.form.get("email",!1)&&this.offline.form.get("email").setValue(d),this.online.visitorEmail=d}this.preventUpdate=!1,this.updateView()},onVisitorUpdate:function(a){a.hasOwnProperty("authenticated")&&(this.model.data.authenticated=a.authenticated),a.hasOwnProperty("group")&&(this.model.data.group=a.group)},onVisitorBan:function(a){this.model.isBanned=a,this.updateView()},onChannelOpen:function(a){this.online.hasRating=!1,this.getEventManager().reset(),this.model.setChannelId(a),this.model.clean(),
this.updateMessages(),this.updateAgents(),this.updateStatus()},onChannelInfo:function(a,b,c){this.getEventManager().setMessages(a),this.model.load(a,b),this.widget.setStatus(this.model.getStatus()),this.button.setStatus(this.model.getStatus()),this.online.hasRating=null!==c&&void 0!==c,this.updateMessages(),this.updateAgents(),this.updateView()},onChannelMessage:function(a){var b=this.model,c=this.online,d=this.options;return b.isOnline()?(b.addMessage(a),c.addMessage(a),"agent"==a.type&&c.setTyping(!1),d.opened||(!this.isSmallDevice()&&(d.hideWidget||d.autoOpen||a.triggeredBy)?this.setOpened(!0):(this.widget.handleUnreadedMessage(),this.button.handleUnreadedMessage())),this.getEventManager().notifyMessage(a),void this.getSoundPlayer().play(a.type)):(b.addMessage(a),void c.addMessage(a))},onChannelClose:function(a){this.getEventManager().notifyClose(a)},onOfflineMessage:function(a){this.offline.handleSended(a)},onAgentJoin:function(a){this.model.addAgent(a),this.online.addMessage({name:a.nickname,
type:"system",content:"agent.join"}),this.updateAgents(),this.updateStatus()},onAgentLeave:function(a){var b=this.model.getAgent(a);b&&(this.online.addMessage({name:b.nickname,type:"system",content:"agent.leave"}),this.model.removeAgent(a),this.updateAgents()),this.model.hasAgent()||this.online.setTyping(!1),this.updateStatus()},onStatusChanged:function(a){this.model.setStatus(a)},onTyping:function(a,b){this.model.hasAgent()||(a=!1),this.online.setTyping(a,b)},onRating:function(a,b){this.online.hasRating=!0,this.online.addMessage({type:"system",content:"chat.rating",name:JSON.stringify({value:a,text:b})})},onTransfered:function(a,b){this.online.addMessage({name:b.nickname,type:"system",content:"transfer"}),this.model.removeAgent(a.id),this.model.addAgent(b),this.updateAgents()},onOfflinePanelSuccess:function(a,b){var c=b.getValues(),d={};for(var e in c)if("message"!==e){var f=c[e];"name"==e||"email"==e?d[e]=f:(d.variables||(d.variables={}),d.variables[e]={label:b.get(e).label,value:f})}
Object.getLength(d)>0&&this.model.set(d);var g=this;g.connection.send(c.message,c.name,c.email),this.options.requireLogin&&this.model.data.group&&setTimeout(function(){g.offline.hideMask(),g.connection.close("offline-message")},2e3)},onOfflinePanelHideChat:function(){this.setOpened(!1)},onPanelMove:function(){if(this.frameManager.isMoved){var a=this.frameManager.getPosition();miwo.cookie.write("ssupp.position",a.left+","+a.top)}else miwo.cookie.dispose("ssupp.position")},onOnlinePanelShow:function(){this.widget.cleanUnreadedMessage(),this.button.cleanUnreadedMessage()},onOnlinePanelHideChat:function(){this.setOpened(!1),this.setAutoOpen(!1)},onOnlinePanelCloseChat:function(a,b){this.connection.close(b),this.setAutoOpen(!0)},onOnlinePanelSendChat:function(a,b){this.connection.sendTranscript(b,Locale.getCurrent().name)},onOnlinePanelTyping:function(a,b){this.connection.setTyping(b)},onOnlinePanelSend:function(a,b){!this.options.requireLogin||this.model.data.authenticated||this.showLogin?(this.connection.send(b),
miwo.cookie.write("ssupp.message","")):(this.login.setMessage(b),this.showLogin=!0,this.updateView())},onOnlinePanelRate:function(a,b,c){this.connection.setRating(b,c)},onOnlinePanelMuteChange:function(a,b){a.setMuted(b),this.soundPlayer.setMute(b)},onLoginFormSuccess:function(a,b){this.showLogin=!1;var c=b.getValues(),d={authenticated:!0};for(var e in c)if("message"!==e){var f=c[e];"name"===e||"email"===e||"group"===e?d[e]=f:(d.variables||(d.variables={}),d.variables[e]={label:b.get(e).label,value:f})}Object.getLength(d)>0&&this.model.set(d),c.message?setTimeout(function(){"online"===this.model.status?(this.connection.send(c.message),miwo.cookie.write("ssupp.message","")):c.email?(this.connection.send(c.message,c.name||"",c.email),miwo.cookie.write("ssupp.message","")):this.offline.form.setValues(c),this.updateView()}.bind(this),500):this.updateView()},onLoginPanelHideChat:function(){this.setOpened(!1)},onWidgetClick:function(){this.isMobilDevice()?this.openPopUpWidget():(this.preventUpdate=!0,
this.setOpened(!0),this.options.autoHideBanner&&this.setOpenedBanner(!1),this.preventUpdate=!1,this.updateView(),"online"==this.viewName&&this.online.focus(),"true"!==miwo.cookie.read("ssupp.barclicked","false")&&(this.connection.notify("click","widget"),miwo.cookie.write("ssupp.barclicked","true")))},onButtonPanelClick:function(){this.onWidgetClick()},openPopUpWidget:function(){var a=this.connection,b=this.context.parameters.popupWidgetUrl||this.context.parameters.baseUrl+"/widget";b+=b.indexOf("?")>0?"&key="+a.chatKey:"?key="+a.chatKey,b+="&vid="+a.visitorId,b+="&group="+(a.data.group?a.data.group:""),b+="&lang="+a.data.lang,b+="&pageTitle="+encodeURIComponent(a.data.pageTitle),b+="&pageUrl="+encodeURIComponent(a.data.pageUrl),b+="&domain="+encodeURIComponent(a.data.domain),b+="&referer="+encodeURIComponent(a.data.referer),window.open(b,"_blank")},onBannerCreated:function(a,b){this.themeManager.setBanner(b)},onBannerClick:function(){this.onWidgetClick()},onBannerOpen:function(){this.setOpenedBanner(!0);
},onBannerClose:function(){this.setOpenedBanner(!1)},updateStatus:function(){this.widget.status!=this.model.getStatus()&&(this.widget.setStatus(this.model.getStatus()),this.button.setStatus(this.model.getStatus()),this.updateView())},updateAgents:function(){var a=this.online,b=this.model;if(b.hasAgent()){var c=b.agents.getLast();c.nickname&&a.setAgentInfoTitle(c.nickname),c.note&&a.setAgentInfoDesc(c.note),c.avatar&&a.setAgentAvatarSrc(this.resourcesUrl+c.avatar)}else a.setAgentInfoTitle(null),a.setAgentInfoDesc(null),a.setAgentAvatarSrc(null)},updateMessages:function(){this.online.setMessages(this.model.messages,!0)},updateView:function(){var a=this;if(!a.preventUpdate&&a.application.rendered){var b=a.options,c="none",d=a.frameManager,e=a.model,f=a.connection;if(e.isOnline()?b.opened?c=this.showLogin?"login":"online":(!b.hideWidget||b.hideWidget===!0&&(this.model.hasMessage()||this.model.hasAgent()))&&(c="widget"):b.hideOfflineChat||(b.opened?c="offline":b.hideWidget||(c="widget")),"widget"==c&&("button"==b.widgetMode?c="button":"widget"==b.widgetMode?c="widget":a.isSmallDevice()&&(c="button")),
(f.isConnectable()&&!f.isConnected()||e.isBanned)&&(c="none"),d.preventUpdate=!0,a.online.setVisible("online"===c),a.offline.setVisible("offline"===c),a.widget.setVisible("widget"===c),a.button.setVisible("button"===c),a.login.setVisible("login"===c),a.widget.setBannerVisible(b.openedBanner&&"widget"==c&&!b.hideBanner&&(!b.hideOfflineBanner||e.isOnline())),d.preventUpdate=!1,d.updateSize(),this.viewName=c,"online"==c&&(a.online.visitorEmail=a.model.get("email")),"widget"!=c&&"none"!=c){var g=miwo.cookie.read("ssupp.position");g&&(g=g.split(","),this.frameManager.setPosition({top:g[1],left:g[0]}),this[c].el.setStyle("top",5),this[c].el.setStyle("left",5))}}},getWindowWidth:function(){var a=window.parent,b=a.document,c=b.documentElement,d=b.getElementsByTagName("body")[0];return a.innerWidth||c.clientWidth||d.clientWidth}}),"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.roundRect=function(a,b,c,d,e){this.beginPath(),this.moveTo(a+e[0],b),this.lineTo(a+c-e[1],b),
this.quadraticCurveTo(a+c,b,a+c,b+e[1]),this.lineTo(a+c,b+d-e[2]),this.quadraticCurveTo(a+c,b+d,a+c-e[2],b+d),this.lineTo(a+e[3],b+d),this.quadraticCurveTo(a,b+d,a,b+d-e[3]),this.lineTo(a,b+e[0]),this.quadraticCurveTo(a,b,a+e[0],b),this.closePath()},CanvasRenderingContext2D.prototype.clear=CanvasRenderingContext2D.prototype.clear||function(a){a&&(this.save(),this.setTransform(1,0,0,1,0,0)),this.clearRect(0,0,this.canvas.width,this.canvas.height),a&&this.restore()}),App.ChatConfig={getConfig:function(a){if(!a)return{};var b,c=a.getOption("renderTo"),d=a.getOption("autoInlineMode"),e=c&&d,f=a.getOption("width",e?"100%":void 0),g=a.getOption("height",e?"100%":void 0);f&&"string"==typeof f&&(b=f.match(/([0-9]+)px/))&&(f=parseInt(b[1],10)),g&&"string"==typeof g&&(b=g.match(/([0-9]+)px/))&&(g=parseInt(b[1],10));var h=a.getOption("loginControls"),i=!1;if(h)for(var j=0;j<h.length;j++)"group"===h[j].name&&(i=!0);var k={parameters:{smartlook:a.getOption("smartlook"),debugMode:a.getOption("debug",!1),
baseUrl:a.getOption("baseUrl"),staticUrl:a.getOption("staticUrl"),resourcesUrl:a.getOption("resourcesUrl"),opened:c?!0:void 0,widget:a.getOption("widget"),requireLogin:a.getOption("requireLogin"),requireLoginWithGroup:i,ignoreThemeSize:f||g,policyText:a.getOption("policyText"),policyUrl:a.getOption("policyUrl"),smallDeviceMinWidth:a.getOption("smallDeviceMinWidth",641),hideWidget:a.getOption("hideWidget"),hideBanner:a.getOption("hideBanner"),hideMobileWidget:a.getOption("hideMobileWidget"),hideOfflineChat:a.getOption("hideOfflineChat"),autoFillName:a.getOption("autoFillName"),multiAccounts:a.getOption("multiAccounts"),popupWidgetUrl:a.getOption("popupWidgetUrl"),cookieNames:{opened:a.getOption("cookieNameOpened"),vid:a.getOption("cookieNameVid")}},miwo:{cookie:{domain:a.getOption("cookieDomain"),path:a.getOption("cookiePath")}},chat:{translatable:a.getOption("translatable"),position:{offsetX:a.getOption("offsetX",a.getOption("positionOffsetX",a.getOption("indent"))),offsetY:a.getOption("offsetY",a.getOption("positionOffsetY")),
alignX:a.getOption("alignX",a.getOption("positionAlignX")),alignY:a.getOption("alignY",a.getOption("positionAlignY"))},frame:function(){return a.el&&a.el.$family&&delete a.el.$family,a.el},visitor:{id:a.getOption("id")||a.getOption("visitorId"),data:{group:a.getOption("group"),name:a.getOption("visitorName"),email:a.getOption("visitorEmail"),variables:this.formatVariables(a.getOption("variables")),pageTitle:a.getOption("pageTitle"),pageUrl:a.getOption("pageUrl"),domain:a.getOption("domain"),referer:a.getOption("referer")}},connection:{protocol:a.getOption("protocol","https"),host:a.getOption("host"),key:a.getOption("key","")||a.getOption("chatKey","")},events:{category:a.getOption("eventCategory"),accounts:Array.clone(a.getOption("gaAccounts",[{key:a.getOption("gaKey",a.getOption("eventGaKey")),options:a.getOption("gaOptions",a.getOption("eventGaOptions",{cookieDomain:a.getOption("eventGaDomain")}))}]))},sound:{mute:a.getOption("soundMuted")},theme:{options:{offlineHeight:a.getOption("offlineHeight")
}},api:{onReady:function(b){var c=a.getOption("onApiReady");c&&c(b)}}},components:{offline:{draggable:"fixed"==a.getOption("position"),width:f,height:g,hideable:e?!1:void 0,cls:e?"panel-fill":void 0,controls:Array.clone(a.getOption("offlineControls")),nameControl:a.getOption("offlineNameControl"),numberControl:a.getOption("offlineNumberControl")},online:{draggable:"fixed"==a.getOption("position"),width:f,height:g,hideable:e?!1:void 0,closeable:e?!1:void 0,maximizable:e?!1:void 0,cls:e?"panel-fill":void 0,ratingEnabled:a.getOption("ratingEnabled"),ratingType:a.getOption("ratingType"),ratingComment:a.getOption("ratingComment"),sendEmailTanscript:a.getOption("sendEmailTanscript"),writable:a.getOption("writable",!0)},login:{draggable:"fixed"==a.getOption("position"),width:f,height:g,controls:Array.clone(a.getOption("loginControls")),nameControl:a.getOption("loginNameControl"),emailControl:a.getOption("loginEmailControl"),numberControl:a.getOption("loginNumberControl"),hideable:e?!1:void 0,closeable:e?!1:void 0,
maximizable:e?!1:void 0,cls:e?"panel-fill":void 0},widget:{animateBanner:a.getOption("animateBanner")}}};return Object.merge(k,a.getOption("config"))},formatVariables:function(a){var b={};for(var c in a){var d=a[c];Type.isString(d)?b[c]={label:c,value:d}:b[c]={label:d.label?d.label:"",value:d.value?d.value:""}}return b}},App.ClientConfig={getConfig:function(a){if("free"==a.packageName){var b="https://www.smartsupp.com/?utm_source="+window.parent.document.location.host+"&utm_medium=chat-widget-free&utm_campaign=smartsupp-logo";a.brandText='Get Free live chat by <a rel="nofollow" href="'+b+'" target="_blank">Smartsupp</a>'}return{parameters:{lang:a.lang,baseLang:a.baseLang,brandText:a.brandText||void 0,logoUrl:a.logoUrl||void 0,logoSrc:a.logoSrc||void 0,logoSmSrc:a.logoSmSrc||a.logoSrc||void 0,hideBanner:a.hideBanner,hideOfflineBanner:a.hideOfflineBanner,hideWidget:a.hideWidget,hideOfflineChat:a.hideOfflineChat,requireLogin:a.requireLogin,smartlook:a.smartlook||void 0},chat:{"package":a["package"],
styles:a.styles,browserLang:a.browserLang,position:{alignX:a.alignX||a.orientation,alignY:a.alignY||void 0},events:{enabled:a.isEnabledEvents},sound:{mute:a.muteSounds},theme:{name:a.theme&&a.theme.name?a.theme.name:"def",colors:a.colors,options:a.theme&&a.theme.options?a.theme.options:a.theme},api:{install:a.api},connection:{host:a.host}},components:{widget:{banner:a.banner},online:{avatarSrc:a.avatar?"<%=resourcesUrl%>"+a.avatar:void 0,ratingEnabled:a.ratingEnabled||a.enableRating,ratingType:a.ratingType,ratingComment:a.ratingComment},offline:a.offline||{},login:a.login||{}},translates:a.translates}}},App.DefaultConfig={getConfig:function(){var a=navigator,b=window.parent.document,c="https://www.smartsupp.com/?utm_source="+b.location.host+"&utm_medium=chat-widget&utm_campaign=smartsupp-logo";return{parameters:{debugMode:!1,isMobile:this.isMobile(),lang:"en",baseLang:"en",baseUrl:"//www.smartsuppchat.com",staticUrl:"//chat.smartsupp.co",resourcesUrl:"//www.smartsupp.co",logoSrc:null,logoSmSrc:null,
logoUrl:c,brandText:'Powered by <a rel="nofollow" href="'+c+'" target="_blank">Smartsupp</a>',opened:null,openedBanner:null,autoHideBanner:!1,hideOfflineBanner:!1,hideBanner:!1,hideWidget:!1,hideMobileWidget:!1,hideOfflineChat:!1,autoFillName:!1,cookieNames:{opened:"ssupp.opened",banner:"ssupp.banner",autoOpen:"ssupp.autoopen",vid:"ssupp.vid"}},chat:{visitor:{data:{userAgent:a.userAgent,platform:a.platform,pageTitle:b.title,pageUrl:b.location.toString(),domain:b.location.host,referer:b.referrer}}},miwo:{application:{controllers:["chat"]},logger:{title:"Smartsupp Chat",styles:"background: #0f93ca; color: #fff"}},components:{offline:{logoUrl:"<%=logoUrl%>",logoSrc:"<%=logoSrc%>",logoSmSrc:"<%=logoSmSrc%>",brandText:"<%=brandText%>",policyText:"<%=policyText%>",policyUrl:"<%=policyUrl%>"},online:{maximize:"true"===miwo.cookie.read("ssupp.max","false"),avatarSrc:"<%=staticUrl%>/assets/avatar.png",logoUrl:"<%=logoUrl%>",logoSrc:"<%=logoSrc%>",logoSmSrc:"<%=logoSmSrc%>",brandText:"<%=brandText%>",
policyText:"<%=policyText%>",policyUrl:"<%=policyUrl%>"},widget:{logoUrl:"<%=logoUrl%>",logoSrc:"<%=logoSrc%>",logoSmSrc:"<%=logoSmSrc%>",brandText:"<%=brandText%>",policyText:"<%=policyText%>",policyUrl:"<%=policyUrl%>"},login:{logoUrl:"<%=logoUrl%>",logoSrc:"<%=logoSrc%>",logoSmSrc:"<%=logoSmSrc%>",brandText:"<%=brandText%>",policyText:"<%=policyText%>",policyUrl:"<%=policyUrl%>"}},services:{viewport:{type:"App.view.Viewport",args:{online:"<%components.online%>",offline:"<%components.offline%>",widget:"<%components.widget%>",login:"<%components.login%>"}}}}},isMobile:function(){return function(a){var b=/iPhone/i,c=/iPod/i,d=/iPad/i,e=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,g=/BlackBerry/i,h=/Opera Mini/i,i=/IEMobile/i,j=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,k=RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),l=function(a,b){return a.test(b)},m=function(a){var m=a||navigator.userAgent;this.apple={phone:l(b,m),ipod:l(c,m),tablet:l(d,m),device:l(b,m)||l(c,m)||l(d,m)},this.android={
phone:l(e,m),tablet:!l(e,m)&&l(f,m),device:l(e,m)||l(f,m)},this.other={blackberry:l(g,m),opera:l(h,m),windows:l(i,m),firefox:l(j,m),device:l(g,m)||l(h,m)||l(i,m)||l(j,m)},this.seven_inch=l(k,m),this.any=this.apple.device||this.android.device||this.other.device||this.seven_inch},n=a.isMobile=new m;n.Class=m}(window),isMobile.any}},miwo.define("App.view.Viewport",{Extends:Miwo.component.Container,Services:{translator:"!chat.translator"},name:"viewport",beforeInit:function(){this.parent(),this.componentCls="miwo-viewport"},doInit:function(){this.parent(),this.translator.viewport=this,this.online=this.addComponent("online",new App.view.online.Panel(this.online)),this.offline=this.addComponent("offline",new App.view.offline.Panel(this.offline)),this.button=this.addComponent("button",new App.view.widget.Button(this.button)),this.login=this.addComponent("login",new App.view.online.LoginPanel(this.login)),this.widget=this.addComponent("widget",new App.view.widget.Widget(this.widget))},afterRender:function(){
this.parent(),this.translate()},translate:function(){this.rendered&&(this.online.translate(),this.offline.translate(),this.login.translate(),this.widget.translate(),this.button.translate())}}),miwo.define("App.view.banner.Arrow",{Extends:App.view.banner.Banner,type:"arrow",arrow:{fillColor:"#999",strokeColor:null,scale:1.5,rotate:-.06,bounce:!0,bouncePeriod:2e3,bounceDuration:500},title:{rotate:-.05,text:null,color:"#333",translatable:!0},desc:{rotate:-.05,text:null,color:"#999",translatable:!0},setConfig:function(a){a&&(void 0===a.title||Type.isObject(a.title)||(a.title=Object.merge({},this.title,{text:a.title})),void 0===a.desc||Type.isObject(a.desc)||(a.desc=Object.merge({},this.desc,{text:a.desc})),void 0!==a.bounce&&(a.arrow=Object.merge({},this.arrow,{bounce:a.bounce})),a.title&&(a.title.translatable=null===a.title.text,a.title.text=null===a.title.text?$tr("app.banner.arrow.title"):a.title.text),a.desc&&(a.desc.translatable=null===a.desc.text,a.desc.text=null===a.desc.text?$tr("app.banner.arrow.desc"):a.desc.text)),
this.parent(a)},beforeInit:function(){this.parent(),this.width=220,this.height=90,this.animate=!1},afterInit:function(){this.parent(),this.updateTranslates()},isRenderable:function(){return document.createElement("canvas").getContext},renderBanner:function(a,b){var c=this;a.empty(),a.setStyle("left","-12px"),a.setStyle("width","100%"),a.setStyle("height","100%"),c.bounceId&&clearInterval(c.bounceId);var d=c.arrow,e=new Element("div",{parent:a,styles:{position:"absolute",left:0,bottom:0,top:0,width:50}}),f=new Element("canvas",{parent:e,styles:{position:"absolute"},width:50,height:80});c.arrowCanvasEl=f,c.drawArrows(f.getContext("2d"));var g=new Element("div",{parent:a,styles:{position:"absolute",left:46,bottom:0,top:0,right:0}});c.textCanvasEl=new Element("canvas",{parent:g,width:180,height:80}),c.drawTexts(c.textCanvasEl.getContext("2d")),c.arrowInFx=new Fx.Tween(f,{duration:d.bounceDuration,link:"cancel",transition:"cubic:in",property:"top"}),c.arrowOutFx=new Fx.Tween(f,{duration:d.bounceDuration,
link:"cancel",transition:"cubic:out",property:"top"}),d.bounce&&c.startBounce(),this.closeEl=new Element("div",{parent:a,cls:"banner-close",html:'<i class="icon-cancel"></i>'}),this.closeEl.on("click",this.bound("onCloseClick")),b()},startBounce:function(){var a=this;a.bounceId=a.arrowBounce.periodical(a.arrow.bouncePeriod,a),a.arrowBounce()},stopBounce:function(){clearInterval(this.bounceId),this.bounceId=null},updateBouncing:function(){var a=this.arrow;a.bounce&&!this.bounceId?this.startBounce():!a.bounce&&this.bounceId&&this.stopBounce()},updateTranslates:function(){var a=this.title,b=this.desc;a.translatable&&(a.text=$tr("app.banner.arrow.title")),b.translatable&&(b.text=$tr("app.banner.arrow.desc"))},updateColors:function(a){var b=this.arrow,c=this.title,d=this.desc;b.fillColor=a.getColor("banner"),b.strokeColor=a.getColor("bannerBorder"),b.strokeColor||(b.strokeColor=a.getInverseColor("banner",-20)),c.color=a.getColor("bannerTitle"),c.color||(c.color=b.fillColor),d.color=a.getColor("bannerDesc"),
d.color||(d.color=a.getInverseColor("bannerTitle",20)),d.color||(d.color=a.getColor("banner"))},updateBanner:function(a,b,c){var d=this;d.setConfig(b),d.drawTexts(d.textCanvasEl.getContext("2d")),d.drawArrows(d.arrowCanvasEl.getContext("2d")),d.el.getElement(".banner-close i").setStyle("color",d.title.color),d.updateBouncing(),c(!0)},drawArrows:function(a){var b=this.arrow,c="rgba(100,100,100,0.2)";a.clear(!0),this.drawArrow(a,22,51,b.scale,c,c),this.drawArrow(a,20,50,b.scale,b.fillColor,b.strokeColor)},drawTexts:function(a){var b=this.title,c=this.desc;a.clear(!0),this.drawTitle(a,b.text,b.color,b.rotate),this.drawDesc(a,c.text,c.color,c.rotate)},arrowBounce:function(){var a=this;a.arrowInFx.start(0,10).chain(function(){a.arrowOutFx.start(10,0)})},drawArrow:function(a,b,c,d,e,f){b*=d,c*=d,a.beginPath(),a.moveTo(b,c),a.bezierCurveTo(b-4.55755*d,c-3.55332*d,b-6.74091*d,c-7.52977*d,b-=7.73810004*d,c-=11.90476*d),a.bezierCurveTo(b+2.19933004*d,c+2.06705*d,b+3.82851004*d,c+3.76237*d,b+=5.55556004*d,c+=5.35714*d),
a.bezierCurveTo(b+.23932*d,c-11.77249*d,b-2.09141*d,c-23.94179*d,b-=4.7619*d,c-=35.91269*d),a.bezierCurveTo(b+4.7203*d,c+4.84001*d,b+7.13632*d,c+23.20766*d,b+=7.9365*d,c+=35.11904*d),a.bezierCurveTo(b+1.23983*d,c+.29915*d,b+3.2435*d,c-3.98481*d,b+=4.96032*d,c-=6.54762*d),a.bezierCurveTo(b-.40997*d,c+5.01002*d,b-2.66133*d,c+10.89292*d,b-=5.95238*d,c+=13.88889*d),a.closePath(),e&&(a.fillStyle=e,a.fill()),f&&(a.lineWidth=1,a.strokeStyle=f,a.stroke())},drawTitle:function(a,b,c,d){a.save(),a.translate(0,35),d&&a.rotate(d),a.font="normal 18px Comic Sans MS",a.fillStyle=c,a.textBaseline="middle",a.fillText(b,0,0),a.restore()},drawDesc:function(a,b,c,d){a.save(),a.translate(2,60),d&&a.rotate(d),a.font="bold 15px Comic Sans MS",a.fillStyle=c,a.textBaseline="middle",a.fillText(b,0,0),a.restore()},doDestroy:function(){this.bounceId&&clearInterval(this.bounceId),this.parent()}}),miwo.define("App.view.banner.Bubble",{Extends:App.view.banner.Banner,type:"bubble",text:"",textTranslate:!0,textColor:"#ffffff",
fillColor:"#484848",setConfig:function(a){a&&(void 0===a.text&&void 0!==a.title&&(a.text=a.title),void 0!==a.text&&(a.textTranslate=null===a.text,a.text=a.translate?$tr("app.banner.bubble.text"):a.text)),this.parent(a)},afterInit:function(){this.parent(),this.updateTranslates()},beforeRender:function(){this.parent(),this.html='<div class="banner-layout miwo-ct"><div class="banner-paint" miwo-reference="paintEl"></div></div>'},renderBanner:function(a,b){a.empty(),this.textEl=new Element("div",{parent:a,styles:{display:"inline-block",background:this.fillColor,color:this.textColor,font:"normal 14px Trebuchet MS",padding:"11px 14px",position:"relative",marginLeft:"10px",marginBottom:"15px",borderRadius:"2px",zIndex:1e3}}),this.textBoxEl=new Element("span",{parent:this.textEl,html:this.text});var c=new Element("div",{parent:this.textEl,styles:{position:"absolute",bottom:-10,left:10,zIndex:999}});this.arrowEl=new Element("div",{parent:c,styles:{width:0,height:0,borderTop:"10px solid transparent",
borderBottom:"10px solid transparent",borderLeft:"10px solid "+this.fillColor}}),this.closeEl=new Element("div",{parent:a,cls:"banner-close",html:'<i class="icon-cancel"></i>',styles:{top:"0px",right:"3px"}}),this.closeEl.on("click",this.bound("onCloseClick")),b()},updateColors:function(a){this.fillColor=a.getColor("banner"),this.textColor=a.getColor("bannerText")||a.getInverseColor("banner",80)},updateTranslates:function(){this.textTranslate&&(this.text=$tr("app.banner.bubble.text"))},updateBanner:function(a,b,c){this.setConfig(b),this.textEl.setStyle("color",this.textColor),this.textEl.setStyle("background",this.fillColor),this.arrowEl.setStyle("borderLeft","10px solid "+this.fillColor),this.el.getElement(".banner-close i").setStyle("color",this.textColor),this.textBoxEl.set("html",this.text),c(!0)},beforeAnimate:function(){this.parent(),this.setSize(null,300)},afterAnimate:function(){this.parent(),this.setSize(null,this.textEl.getHeight()+20)}}),miwo.define("App.view.banner.Image",{Extends:App.view.banner.Banner,
type:"image",src:"",animate:!1,afterInit:function(){this.parent();var a=this;this.image=new Element("img",{parent:miwo.body,src:this.src||"data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=",styles:{display:this.src?"block":"none",position:"relative",bottom:0,left:0}}),this.image.on("load",function(){a.image.width&&a.image.height&&a.onImageLoaded()})},renderBanner:function(a,b){this.renderImage(a,b)},updateBanner:function(a,b,c){b&&(b.src&&this.setSrc(b.src),this.el.getElement(".banner-close i").setStyle("color","#555"),this.renderImage(a,c,!0))},setSrc:function(a){this.loaded=!1,delete this.onImageLoadCallback,this.image.setStyle("display",a?"inline":"none"),this.image.set("src",a)},renderImage:function(a,b,c){a.empty(),this.image.inject(a),this.closeEl=new Element("div",{parent:a,cls:"banner-close",html:'<i class="icon-cancel"></i>'}),this.closeEl.on("click",this.bound("onCloseClick")),this.el.getElement(".banner-close i").setStyle("color","#555"),this.loaded?b(c):this.onImageLoadCallback=function(){
b(c)}},onImageLoaded:function(){this.loaded=!0,this.onImageLoadCallback&&this.onImageLoadCallback()},beforeAnimate:function(){this.parent(),this.setSize(this.image.width,this.image.height+40)},afterAnimate:function(){this.parent(),this.setSize(this.image.width,this.image.height)},doDestroy:function(){this.image.destroy(),this.parent()}}),miwo.define("App.view.offline.Notice",{Extends:Miwo.Component,notice:"",beforeInit:function(){this.parent(),this.cls="notice"},afterInit:function(){this.parent(),this.html=this.notice},setNotice:function(a){this.rendered&&this.el.set("html",a)}}),miwo.define("App.view.offline.Panel",{Extends:App.view.FormPanel,controls:null,nameControl:!0,numberControl:!1,beforeInit:function(){this.parent(),this.id="offlinePanel",this.width=300,this.height=400},createComponentForm:function(){var a=this.parent();if(this.nameControl&&a.addText("name",{label:$tr("app.offline.name")}),a.addText("email",{type:"email",required:!0,value:"@",label:$tr("app.offline.email"),placeholder:"@",
rules:[{operation:"email",message:$tr("app.offline.emailInvalidAlert")},{operation:"required",message:$tr("app.offline.emailRequiredAlert")}]}),this.numberControl&&a.addText("number",{label:$tr("app.offline.number"),name:"number",required:!0,minlength:9,pattern:"[0-9()-+]{9,}",title:$tr("app.forms.phoneInvalid"),rules:[{operation:"phone",message:$tr("app.forms.phoneInvalid")}]}),this.controls)for(var b=0;b<this.controls.length;b++){var c=this.controls[b];c.hasOwnProperty("required")||(c.required=!0),a.add(miwo.create(c))}return a.addTextArea("message",{required:!0,label:$tr("app.offline.message"),rules:[{operation:"required",message:$tr("app.offline.messageRequiredAlert")}]}),a.addSubmit("submit",{label:$tr("app.offline.submit")}),a},createSpinner:function(){return new Spinner(this.contentEl,{inject:{where:"after",target:this.contentEl},message:$tr("app.offline.sendInfo")})},showSpinner:function(){this.spinner||(this.spinner=this.createSpinner()),this.spinner.show()},hideSpinner:function(){
this.spinner&&this.spinner.hide()},onFormSuccess:function(a){this.parent(a),this.showSpinner()},translate:function(){this.parent(),this.setTitle($tr("app.offline.title")),this.setNotice($tr("app.offline.notice")),this.form.get("submit").setLabel($tr("app.offline.submit"))},handleSended:function(a){this.form.reset(),this.hideSpinner(),a?this.showMask($tr("app.offline.successTitle"),$tr("app.offline.successDesc"),8e3):this.showMask($tr("app.offline.failureTitle"),$tr("app.offline.failureDesc"),8e3)}}),miwo.define("App.view.online.CloseDialog",{Extends:App.ui.Dialog,tanscript:!0,doInit:function(){this.parent();var a=this;this.cls="closeChatDialog",this.title=$tr("app.dialogClose.title"),this.buttons=[{cls:"btn-default",title:$tr("app.dialogClose.yes"),handler:function(){a.close(),a.fire("close",!1)}},{cls:"btn-default",title:$tr("app.dialogClose.no"),handler:function(){a.close()}}],this.tanscript&&this.buttons.push({cls:"btn-default",title:$tr("app.dialogClose.send"),forceNewLine:!0,handler:function(){
a.close(),a.fire("close",!0)}})}}),miwo.define("App.view.online.LoginPanel",{Extends:App.view.FormPanel,controls:null,nameControl:!0,emailControl:!0,numberControl:!1,beforeInit:function(){this.parent(),this.id="loginPanel",this.width=260,this.height=400,this.title=$tr("app.login.title")},createComponentForm:function(){var a=this.parent();if(a.el.setStyle("marginTop",20),this.nameControl&&a.addText("name",{required:!0,label:$tr("app.offline.name")}),this.emailControl&&a.addText("email",{type:"email",required:!0,value:"@",label:$tr("app.offline.email"),placeholder:"@",rules:[{operation:"email",message:$tr("app.offline.emailInvalidAlert")},{operation:"required",message:$tr("app.offline.emailRequiredAlert")}]}),this.numberControl&&a.addText("number",{label:$tr("app.offline.number"),name:"number",required:!0,minlength:9,pattern:"[0-9()-+]{9,}",title:$tr("app.forms.phoneInvalid"),rules:[{operation:"phone",message:$tr("app.forms.phoneInvalid")}]}),this.controls)for(var b=0;b<this.controls.length;b++){
var c=this.controls[b];c.hasOwnProperty("required")||(c.required=!0),c.hasOwnProperty("translatable")||(c.translatable=!1),a.add(miwo.create(c))}return a.addTextArea("message",{label:$tr("app.login.messageLabel"),required:!0}),a.addSubmit("submit",{label:$tr("app.login.submit")}),a},setMessage:function(a){this.form.get("message").setValue(a)},translate:function(){this.parent(),this.setTitle($tr("app.login.title")),this.setNotice($tr("app.login.notice")),this.form.get("submit").setLabel($tr("app.login.submit")),this.form.get("message").setLabel($tr("app.login.messageLabel"))}}),miwo.define("App.view.online.MessagePanel",{Extends:Miwo.component.Component,messages:[],messageEl:void 0,escapeEl:void 0,ratingEnabled:!1,beforeInit:function(){this.parent(),this.cls="messages",this.escapeEl=new Element("div")},setMessages:function(a,b){this.clearMessages(!0),Array.each(a,function(a){this.pushMessage(a)},this),b||this.fire("changed",[this])},addMessage:function(a){a.sentAt||(a.sentAt=new Date),this.pushMessage(a),
this.fire("changed",[this,a])},getMessages:function(){return this.messages},hasMessages:function(){return this.messages.length>0},clearMessages:function(a){this.messages.empty(),this.el.empty(),a||this.fire("changed",[this])},pushMessage:function(a){("system"!=a.type||"system.message.visitor.join"!=a.content)&&("system"==a.type?this.messageEl=this.renderSystemMessage(a):this.messageEl=this.renderChatMessage(a),"system"==a.type&&"agent.leave"==a.content&&this.ratingEnabled&&(this.ratingBtn&&this.ratingBtn.remove(),this.ratingBtn=this.renderRatingButton()),this.messages.push(a))},renderSystemMessage:function(a){var b=this.formatSystemMessage(a);return new Element("div",{parent:this.el,cls:"message message-system",html:'<p class="message-text">'+b+"</p>"})},renderChatMessage:function(a){var b="visitor"==a.type?$tr("app.online.visitor"):a.name?a.name:"",c=this.formatTime(a.sentAt),d=this.formatMessage(a);return new Element("div",{parent:this.el,cls:"message message-"+a.type,html:'<div class="message-info"><span class="username operator">'+b+'</span><span class="time">'+c+'</span></div><p class="message-text">'+d+"</p>"
})},renderRatingButton:function(){var a=new Element("div",{cls:"chat-rating-ct"});a.inject(this.el);var b=new Element("button",{cls:"btn btn-primary chat-rating-btn",text:$tr("app.online.rate")});return b.inject(a),b.on("click",function(a){a.preventDefault(),this.fire("rating",this)}.bind(this)),a},formatTime:function(a){return Type.isDate(a)?a.toTimeString().replace(/.*(\d{2}):(\d{2}):(\d{2}).*/,"$1:$2"):a.replace?a.replace(/(\S+)\s(\d+):(\d+):(\d+)/,"$2:$3"):void 0},formatMessage:function(a){var b=a.content;return this.escapeEl.set("text",b),b=this.escapeEl.get("html"),b=b.replace(/(((http:|https:)?\/\/|www.)\S+)/gi,'<a href="$1" target="_blank" >$1</a>'),b=b.replace('href="www','href="http://www'),b=b.replace(/\n/gi,"<br/>")},formatSystemMessage:function(a){switch(a.content){case"agent.join":return $tr("app.messages.agentjoin").substitute(a);case"agent.leave":return $tr("app.messages.agentleave").substitute(a);case"transfer":return $tr("app.messages.transfer").substitute(a);case"chat.rating":
return $tr("app.messages.rating");default:return a.content}},translate:function(){this.setMessages(Array.clone(this.messages),!0)}}),miwo.define("App.view.online.Panel",{Extends:App.view.Panel,Implements:[Miwo.utils.Maskable,Miwo.utils.Translatable],muted:!1,avatarSrc:"/assets/avatar.png",defaultAvatarSrc:void 0,title:"",infoTitle:"",infoDesc:"",agentTitle:"",emptyText:"",closeable:!0,hideable:!0,showMenu:!0,closeDialog:!0,closeSendChatDialog:!0,ratingEnabled:!1,ratingType:"simple",ratingComment:!1,ratingCommentRequired:!1,sendEmailTanscript:!0,writable:!0,isMaximized:void 0,enabledScrolling:!0,messagesLoaded:!1,isChatActive:!1,visitorEmail:"@",beforeInit:function(){this.parent(),this.id="onlinePanel",this.width=260,this.height=400,this.componentCls="panel panel-online",this.frameManage=!0,this.visible=!1,this.avatarSrc=miwo.staticUrl+this.avatarSrc},doInit:function(){this.parent(),this.logoSrc=this.policyUrl?this.logoSmSrc:this.logoSrc,this.scrollPane=this.addComponent("scrollpane",new Miwo.panel.Scrollpane),
this.messagesPanel=this.scrollPane.addComponent("messages",new App.view.online.MessagePanel({ratingEnabled:this.ratingEnabled})),this.typingControl=this.scrollPane.addComponent("typing",new App.view.online.TypingControl),this.sendForm=this.addComponent("send",new App.view.online.SendForm({visible:this.writable}))},afterInit:function(){this.parent();var a=this;this.messagesPanel.on("changed",function(b,c){a.emptyTextEl.setVisible(!b.hasMessages()),(a.enabledScrolling||c&&"visitor"==c.type)&&a.scrollPane.scrollBottom()}),this.messagesPanel.on("rating",function(){a.showRatingDialog()}),this.typingControl.on("starttyping",function(){a.enabledScrolling&&a.scrollPane.scrollBottom()}),this.sendForm.on("starttyping",function(){a.fire("typing",[a,!0])}),this.sendForm.on("stoptyping",function(){a.fire("typing",[a,!1])}),this.sendForm.on("send",function(b,c){a.fire("send",[a,c])})},setTitle:function(a){this.title=a,this.rendered&&this.headerEl.getElement(".panel-title span.titleCt").set("html",a)},
setEmptyText:function(a){this.emptyText=a,this.rendered&&this.emptyTextEl.set("html",a)},setInfoTitle:function(a){this.infoTitle=a,this.syncAgentValues()},setAgentInfoTitle:function(a){this.agentInfoTitle=a,this.syncAgentValues()},setInfoDesc:function(a){this.infoDesc=a,this.syncAgentValues()},setAgentInfoDesc:function(a){this.agentInfoDesc=a,this.syncAgentValues()},setAvatarSrc:function(a){this.avatarSrc=a,this.syncAgentValues()},setAgentAvatarSrc:function(a){this.agentAvatarSrc=a,this.syncAgentValues()},syncAgentValues:function(){this.rendered&&(this.infoEl.getElement("h4").set("html",this.agentInfoTitle||this.infoTitle),this.infoEl.getElement("p").set("html",this.agentInfoDesc||this.infoDesc),this.avatarEl.set("src",this.agentAvatarSrc||this.avatarSrc))},close:function(){this.isChatActive&&this.closeDialog?this.showCloseDialog():this.hideChat()},doHide:function(){this.parent(),this.isMaximized=void 0},doShow:function(){this.parent()},focus:function(){this.sendForm.focus()},hideChat:function(){
this.hideable&&(this.hide(),this.fire("hidechat",[this]))},closeChat:function(a,b,c){this.fire("closechat",[this,a||"visitorClose",b||null,c||null]),this.hideable&&this.hideChat()},showCloseDialog:function(){var a=this,b=new App.view.online.CloseDialog({tanscript:this.sendEmailTanscript,renderTo:a.findElement(".panel-inner")});b.on("close",function(b){b?a.showSendDialog():a.ratingEnabled&&!a.hasRating?a.showRatingDialog(function(){a.closeChat()}):a.closeChat()}),b.show()},showSendDialog:function(){var a=this,b=new App.view.online.SendDialog({renderTo:this.findElement(".panel-inner")});b.el.getElement("input").set("value",a.visitorEmail),b.on("submit",function(b){a.fire("sendchat",[a,b]),a.showMask($tr("app.online.transcriptSendedTitle"),$tr("app.online.transcriptSendedDesc")),function(){a.hideMask(),a.ratingEnabled&&!a.hasRating?a.showRatingDialog(function(){a.closeChat()}):a.closeChat()}.delay(2e3)}),b.show()},showRatingDialog:function(a){var b=this,c=new App.view.online.RatingDialog({
type:this.ratingType,comment:this.ratingComment,commentRequired:this.ratingCommentRequired,renderTo:this.findElement(".panel-inner")});c.on("rate",function(c,d){b.hasRating=!0,b.fire("rate",[this,c,d]),a&&a(c,d)}),c.show()},setMessages:function(a,b){this.messagesLoaded=!0,this.messagesPanel.setMessages(a),this.checkActivity(),b&&this.get("scrollpane").scrollBottom()},addMessage:function(a){this.messagesPanel.addMessage(a),this.isChatActive||this.checkActivity()},checkActivity:function(){var a=this.isChatActive,b=!1,c=!1;this.messagesPanel.getMessages().each(function(a){b||"visitor"!==a.type||(b=!0),c||"agent"!==a.type||a.triggeredBy||(c=!0)}),this.isChatActive=b&&c,this.isChatActive!==a&&this.onActivityChanged()},setTyping:function(a,b){this.typingControl.setTyping(a,b)},setText:function(a){return this.sendForm.setText(a),this},send:function(){return this.sendForm.send(),this},setMuted:function(a){this.muted=a,this.rendered&&(this.enableSoundsEl.setVisible(a),this.disableSoundsEl.setVisible(!a));
},beforeRender:function(){this.parent(),this.html='<div class="miwo-ct panel-inner"><div class="panel-header"><div miwo-reference="headerEl" miwo-events="click:onHeaderClick" class="miwo-ct"><div class="panel-title" miwo-reference="titleEl"><span class="titleCt">'+this.title+'</span></div><div class="panel-tools tools"><span miwo-events="click:onSettingsBtnClick" miwo-reference="settingsEl" class="tool" name="settings" title="'+$tr("app.online.settingsTitle")+'"><i class="icon-small icon-menu"></i></span><span miwo-events="click:onHideBtnClick" class="tool" name="hide" title="'+$tr("app.online.hideTitle")+'"><i class="icon-small icon-down-open"></i></span><span miwo-events="click:onCloseBtnClick" class="tool" name="close" title="'+$tr("app.online.closeTitle")+'"><i class="icon-small icon-cancel"></i></span></div></div></div><div class="panel-body"><div class="miwo-ct"><div class="panel-info"><div miwo-reference="infoEl" class="miwo-ct"><div class="info-image"><img miwo-reference="avatarEl" src="'+this.avatarSrc+'" width="55" height="55"></div><div class="info-box"><h4>'+this.infoTitle+"</h4><p>"+this.infoDesc+'</p></div></div></div><div class="panel-content"><div miwo-reference="contentEl" miwo-events="mouseenter:onContentMouseenter,mouseleave:onContentMouseleave" class="miwo-ct"><div miwo-reference="emptyTextEl" class="emptytext">'+this.emptyText+'</div><div miwo-component="scrollpane"></div></div></div><div class="panel-footer"><div miwo-reference="footerEl" class="miwo-ct"><div class="buttons"><button style="display: none" miwo-events="click:onCloseBtnClick" class="btn btn-mini btn-default closeBtn">'+$tr("app.online.closeTitle")+'</button><button miwo-events="click:onSendBtnClick" class="btn btn-mini btn-primary sendBtn">'+$tr("app.online.send")+'</button></div><div miwo-component="send"></div>'+this.renderBrand()+'<div miwo-reference="footerMaskEl" class="panel-footer-mask"></div></div></div></div></div><div miwo-reference="menuEl" class="panel-menu"><div class="miwo-ct"><div class="menu"><div class="menu-header"><span>'+$tr("app.settings.title")+'</span> <i class="icon-cancel"></i></div><div class="menu-item" name="endchat" miwo-events="click:onEndChatItemClick">'+$tr("app.online.closeTitle")+'</div><div class="menu-item" name="mute" miwo-reference="disableSoundsEl" miwo-events="click:onDisableSoundsItemClick" style="display:none">'+$tr("app.online.disableSounds")+'</div><div class="menu-item" name="unmute" miwo-reference="enableSoundsEl" miwo-events="click:onEnableSoundsItemClick" style="display:none">'+$tr("app.online.enableSounds")+"</div></div></div></div></div>";
},afterRender:function(){this.parent();var a=this.menuEl;a.getElement(".menu-header").on("click",function(){a.hide()}),this.setMuted(this.muted),this.showMenu||this.headerEl.getElement('[name="settings"]').hide(),this.closeable||this.headerEl.getElement('[name="close"]').hide(),this.hideable||this.headerEl.getElement('[name="hide"]').hide(),this.writable||this.footerEl.getElement(".sendBtn").hide(),this.writable||this.el.addClass("panel-readonly")},translate:function(){this.setTitle($tr("app.online.title")),this.setInfoTitle($tr("app.online.infoTitle")),this.setInfoDesc($tr("app.online.infoDesc")),this.translateText('[name="settings"]',"title","app.online.settingsTitle"),this.translateText('[name="settings"]',"title","app.online.settingsTitle"),this.translateText('[name="hide"]',"title","app.online.hideTitle"),this.translateText('[name="close"]',"title","app.online.closeTitle"),this.translateText(".sendBtn","html","app.online.send"),this.translateText(this.disableSoundsEl,"html","app.online.disableSounds"),
this.translateText(this.enableSoundsEl,"html","app.online.enableSounds"),this.translateText('.menu [name="endchat"]',"html","app.online.closeTitle"),this.translateText(".menu .menu-header span","html","app.settings.title"),this.messagesPanel.translate(),this.sendForm.translate()},onActivityChanged:function(){this.rendered&&(this.closeable||(this.isChatActive?this.findElement(".buttons .closeBtn").show("inline-block"):this.findElement(".buttons .closeBtn").hide()),this.findElement('.menu [name="endchat"]').setVisible(this.isChatActive))},onContentMouseenter:function(){this.enabledScrolling=!1},onContentMouseleave:function(){this.enabledScrolling=!0},onSettingsBtnClick:function(a){a.stop(),this.menuEl.toggle()},onHideBtnClick:function(a){a.stop(),this.hideChat()},onCloseBtnClick:function(a){a.stop(),this.isChatActive?this.showCloseDialog():this.hideChat()},onEndChatItemClick:function(){this.showCloseDialog(),this.menuEl.hide()},onEnableSoundsItemClick:function(){this.fire("mutechange",[this,!1]),
this.menuEl.hide()},onDisableSoundsItemClick:function(){this.fire("mutechange",[this,!0]),this.menuEl.hide()},onSendBtnClick:function(){this.send()},onHeaderClick:function(){this.dragSnaped||(this.cancelDrag(),this.hideChat())}}),miwo.define("App.view.online.RatingDialog",{Extends:App.ui.Dialog,value:0,type:"simple",comment:!1,commentRequired:!1,beforeInit:function(){this.parent(),this.cls="ratingDialog",this.title=$tr("app.dialogRating.title"),this.content='<div class="rating"><div class="rating-votes"><a href="#" miwo-events="click:onRatingClick" data-value="5" class="icon-smile-5"></a><a href="#" miwo-events="click:onRatingClick" data-value="4" class="icon-smile-4"></a><a href="#" miwo-events="click:onRatingClick" data-value="3" class="icon-smile-3"></a><a href="#" miwo-events="click:onRatingClick" data-value="2" class="icon-smile-2"></a><a href="#" miwo-events="click:onRatingClick" data-value="1" class="icon-smile-1"></a></div><div class="rating-form" style="display: none"><div class="form-group group-comment" style="display: none"><textarea class="form-control" placeholder="'+$tr("app.dialogRating.commentTitle")+'"></textarea></div><div class="form-group group-submit"><button miwo-events="click:onSubmitClick" class="btn btn-default">'+$tr("app.dialogRating.submit")+"</button></div></div></div>";
},beforeRender:function(){this.parent(),this.html+='<span miwo-events="click:onSubmitClick" class="tool closeBtn" name="close"><i class="icon-small icon-cancel"></i></span>'},afterRender:function(){this.parent(),this.comment&&this.findElement(".group-comment").show(),"simple"==this.type&&(this.findElement(".rating-votes").addClass("rating-simple"),this.findElement(".rating-votes [data-value=2]").hide(),this.findElement(".rating-votes [data-value=4]").hide())},onRatingClick:function(a){a.preventDefault(),this.value=parseInt(a.target.get("data-value"),10),this.findElements(".rating-votes").addClass("voted"),this.findElements(".rating-votes a").removeClass("active"),a.target.addClass("active"),this.comment?(this.findElement(".rating-form").show(),this.findElement("textarea").focus()):this.onRatingDone()},onSubmitClick:function(a){a.preventDefault(),this.onRatingDone()},onRatingDone:function(){this.fire("rate",[this.value,this.findElement("textarea").get("value")]),this.close()}}),miwo.define("App.view.online.SendDialog",{
Extends:App.ui.Dialog,beforeInit:function(){this.parent();var a=this;this.cls="sendDialog",this.title=$tr("app.dialogSend.title"),this.content='<form><input type="email" name="email" class="form-control" value="@" placeholder="'+$tr("app.dialogSend.email")+'" required="required" /><input class="submit" type="submit" value="send" style="display: none" /></form>',this.buttons=[{cls:"btn-default",title:$tr("app.dialogSend.yes"),handler:function(){a.findElement(".submit").click()}},{cls:"btn-default",title:$tr("app.dialogSend.no"),handler:function(){a.close()}}]},afterRender:function(){this.parent();var a=this;this.findElement("form").on("submit",function(b){b.stop();var c=a.findElement('[name="email"]').get("value");c&&(a.close(),a.fire("submit",c))})}}),miwo.define("App.view.online.SendForm",{Extends:Miwo.component.Component,Implements:Miwo.utils.Translatable,interval:3e3,maxLength:1e3,typing:!1,writable:!0,beforeInit:function(){this.parent(),this.id="sendForm",this.cls="sendForm",this.el="form";
},doInit:function(){this.parent(),this.textarea=new Element("textarea",{id:"sendFormTextarea",parent:this.el,maxlength:this.maxLength,cls:"form-control"}),this.textarea.on("keypress",this.bound("onKeypress")),this.textarea.on("keyup",this.bound("onKeyup")),this.textarea.set("value",miwo.cookie.read("ssupp.message")||""),this.textarea.set("disabled",!this.writable)},getMessage:function(){var a=String.trim(this.textarea.value.toString());return a.length>this.maxLength?!1:a},send:function(){var a=this.getMessage();a&&(this.clearTyping(),this.fire("send",[this,a]),this.textarea.value="")},focus:function(){this.textarea.focus(),Chat.utils.Element.setCaretPosition(this.textarea)},refreshTyping:function(){this.typing||(this.typing=!0,this.fire("starttyping",this)),this.intervalId&&clearTimeout(this.intervalId),this.intervalId=this.stopTyping.delay(this.interval,this)},stopTyping:function(){this.clearTyping(),this.fire("stoptyping",this)},clearTyping:function(){this.intervalId&&clearTimeout(this.intervalId),
this.typing=!1},setText:function(a){this.textarea.value=a},afterRender:function(){this.parent(),this.textarea.set("placeholder",$tr("app.online.textareaPlaceholder"))},translate:function(){this.translateText(this.textarea,"placeholder","app.online.textareaPlaceholder")},onKeypress:function(a){13!=a.code||a.shift?this.refreshTyping():(a.preventDefault(),this.send())},onKeyup:function(a){13!=a.code||a.shift?miwo.cookie.write("ssupp.message",this.getMessage(),{duration:1}):miwo.cookie.write("ssupp.message","")}}),miwo.define("App.view.online.TypingControl",{Extends:Miwo.component.Component,beforeInit:function(){this.parent(),this.componentCls="typing",this.html="<p></p>"},setTyping:function(a,b){a?this.startTyping(b):this.stopTyping()},startTyping:function(a){this.el.set("html","<p>"+$tr("app.online.typingMsg").substitute({name:a})+"</p>")},stopTyping:function(){this.el.set("html","<p></p>")}}),miwo.define("App.view.widget.Button",{Extends:Miwo.component.Container,status:"unknown",beforeInit:function(){
this.parent(),this.id="buttonPanel",this.componentCls="button",this.height=35,this.visible=!1,this.frameManage=!0,this.frameOffsetX=5,this.frameOffsetY=5,this.frameAlignY="bottom"},setFrameMgr:function(a){this.frameMgr=a},afterInit:function(){this.parent(),this.counter=this.addComponent("counter",new App.view.widget.Counter)},getSize:function(){var a=this.parent();return this.counter.count>0&&(a.height=Math.max(a.height,75)),a},beforeRender:function(){this.parent(),this.html='<div class="miwo-ct"><div class="button-icon"><div class="icon icon-comment"></div></div><div class="button-text">'+$tr("app.button.title")+"</div></div>"},afterRender:function(){this.parent(),this.el.on("click",this.bound("onClick")),this.updateUnreadedMessages()},renderContainer:function(){this.get("counter").setParentEl(this.el)},translate:function(){this.findElement(".button-text").set("html",$tr("app.button.title")),this.fire("resize",this)},onClick:function(a){a.stop(),this.fire("click",this)},setStatus:function(a){
this.status=a,this.rendered&&this.updateUnreadedMessages()},updateUnreadedMessages:function(){if("unknown"!==this.status)if("offline"===this.status||"invisible"===this.status)this.counter.reset();else{var a=miwo.cookie.read("ssupp.unreaded");a&&this.counter.setCount(parseInt(a,10))}},handleUnreadedMessage:function(){this.counter.increment(),miwo.cookie.write("ssupp.unreaded",this.counter.count),this.fire("resize",this)},cleanUnreadedMessage:function(){this.counter.reset(),miwo.cookie.dispose("ssupp.unreaded"),this.fire("resize",this)}}),miwo.define("App.view.widget.Counter",{Extends:Miwo.component.Component,name:"counter",bounceInterval:5e3,fillColor:"#f00",count:0,textEl:void 0,beforeInit:function(){this.parent(),this.cls="counter",this.height=70,this.visible=!1,this.frameManage=!0,this.left=10,this.bottom=0,this.html='<div class="counter-bouncingbox"><div class="counter-bounce"><div class="counter-content miwo-ct"><canvas width="16" height="28"></canvas><p miwo-reference="textEl"></p></div></div></div>';
},increment:function(){this.setCount(this.count+1)},reset:function(){this.count>0&&this.setCount(0)},setCount:function(a){this.count=a,0===a?(this.hide(),this.stopBouncing()):(this.show(),this.setText(a),this.stopBouncing(),this.startBouncing())},setText:function(a){this.textEl.set("html",a)},doRender:function(){this.parent();var a=this.el.getElement(".counter-bounce"),b=this.el.getElement(".counter-content"),c=b.getElement("canvas");c.getContext&&c.getContext("2d")?this.drawArrow(c.getContext("2d"),16,20,this.fillColor):(c.setStyle("display","none"),b.setStyle("background",this.fillColor)),this.linearFx=new Fx.Tween(a,{duration:100,link:"cancel",transition:"linear",property:"bottom"}),this.bounceFx=new Fx.Tween(a,{duration:"long",transition:"bounce:out",link:"cancel",property:"bottom"})},drawArrow:function(a,b,c,d){a.fillStyle=d,a.lineWidth=1,a.roundRect(0,0,b,c,[4,4,0,0]),a.fill(),a.beginPath(),a.moveTo(0,c),a.lineTo(b/2,c+b/2),a.lineTo(b,c),a.closePath(),a.fill()},bounce:function(){var a=this;
a.linearFx.start(0,20).chain(function(){a.bounceFx.start(20,0)})},startBouncing:function(){this.bounce(),this.bounceInterval&&(this.intervalId=this.bounce.periodical(this.bounceInterval,this))},stopBouncing:function(){this.bounceInterval&&clearInterval(this.intervalId)},doDestroy:function(){this.stopBouncing(),this.parent()}}),miwo.define("App.view.widget.Widget",{Extends:Miwo.component.Container,Implements:Miwo.utils.Translatable,name:"widget",text:{offline:"offline",online:"online",away:"away"},banner:{type:"bubble",options:void 0},status:"unknown",animateBanner:void 0,frameMgr:null,beforeInit:function(){this.parent(),this.id="widgetPanel",this.componentCls="widget",this.visible=!1,this.frameManage=!0},afterInit:function(){this.parent(),this.setBanner(this.banner.type,this.banner.options),this.counter=this.addComponent("counter",new App.view.widget.Counter)},setFrameMgr:function(a){this.frameMgr=a,this.frameMgr.on("alignchange",this.bound("onFrameMgrAlignChange"))},onFrameMgrAlignChange:function(){
var a=this.frameMgr;this._size&&("bottom"==a.alignY?(this.width=this._size.width,this.height=this._size.height,this.el.setStyle("width",this.width),this.el.setStyle("height",this.height),this.textEl.setStyle("maxWidth",null)):(this.width=35,this.height=250,this.el.setStyle("width",this.height),this.el.setStyle("height",this.width),this.textEl.setStyle("maxWidth",this.height)),this.fire("resize",this),this.updateBannerVisibility())},setStatus:function(a){this.status=a,this.rendered&&("online"==a||"away"==a?(this.el.addClass("widget-online"),this.el.removeClass("widget-offline"),this.el.getElement(".widget-icon i").addClass("icon-chat").removeClass("icon-mail-alt")):(this.el.addClass("widget-offline"),this.el.removeClass("widget-online"),this.el.getElement(".widget-icon i").addClass("icon-mail-alt").removeClass("icon-chat")),this.textEl.set("text",$tr("app.widget."+a)),this.fire("resize",this),this.updateUnreadedMessages())},setBanner:function(a,b){if(a){var c,d=this,e=!1;(c=this.getComponent("banner",!1))&&(e=c.isVisible(),
this.removeComponent("banner"),$destroy(this.banner),this.banner=null),a&&(b=b||{},b.id="banner",b.visible=e,b.bottom=this.height,void 0===b.animate&&void 0!==this.animateBanner&&(b.animate=this.animateBanner),c=miwo.create("App.view.banner."+a.capitalize(),b),c.on("bannerready",function(){d.el.setStyle("minWidth",Math.max(c.width||0,170)),d.fire("resize",this)}),this.fire("bannercreated",[this,c]),this.banner=this.addComponent("banner",c),this.updateBannerVisibility())}},setBannerVisible:function(a){this.bannerVisible=a,this.updateBannerVisibility()},setSize:function(a){a&&a.height&&(this.banner.bottom=a.height),this._size=a,this.parent(a)},getSize:function(){var a=this.parent();if("bottom"==this.frameMgr.alignY){var b=this.get("banner");if(b.isVisible()){var c=b.getSize();a.height=a.height+c.height,a.width=Math.max(a.width,c.width)}else a.width=Math.max(a.width,160)}else a={width:a.height,height:a.width};return a},updateBanner:function(a){this.banner&&this.banner.update(a)},updateBannerVisibility:function(){
"bottom"==this.frameMgr.alignY?this.get("banner").setVisible(this.bannerVisible):this.get("banner").setVisible(!1)},updateUnreadedMessages:function(){if("unknown"!=this.status)if("offline"==this.status||"invisible"==this.status)this.counter.reset();else{var a=miwo.cookie.read("ssupp.unreaded");a&&this.counter.setCount(parseInt(a,10))}},handleUnreadedMessage:function(){this.counter.increment(),miwo.cookie.write("ssupp.unreaded",this.counter.count)},cleanUnreadedMessage:function(){this.counter.reset(),miwo.cookie.dispose("ssupp.unreaded")},beforeRender:function(){this.parent(),this.html='<div class="widget-icon"><i class="icon icon-chat"></i></div><div miwo-reference="textEl" class="widget-text"></div>'},renderContainer:function(){this.banner.render(this.el),this.get("counter").setParentEl(this.el)},afterRender:function(){this.parent(),this.el.on("click",this.bound("onClick")),this.setStatus(this.status),this.updateUnreadedMessages(),this.onFrameMgrAlignChange()},translate:function(){this.banner&&this.banner.translate(),
this.translateText(this.textEl,"text","app.widget."+this.status),this.fire("resize",this)},onClick:function(){this.fire("click",this)}}),Locale.define("ar","app",{messages:{agentjoin:"{name} انضم للمحادثه",agentleave:"{name} خرج من المحادثه",transfer:"تم تحويل المحادثه الى {name}",rating:"تم تقييم الدردشة"},dialogClose:{title:"هل ترغب فى انهاء المحادثه ؟",yes:"نعم",no:"لا",send:"نعم و ارسل المحادثه الى البريد الالكترونى"},dialogSend:{title:"ارسل المحادثه الى البريد الالكترونى",email:"البريد الالكترونى",yes:"ارسل",no:"الغاء"},dialogRating:{title:"هل ترغب فى تقييم المحادثه ؟",cancel:"لا ارغب في التقييم",submit:"ارسل",commentTitle:"تعليقك"},online:{title:"الدعم الفنى",infoTitle:"محادثه مباشرة",infoDesc:"أسأل أى شئ",maximize:"تصغير",minimize:"تكبير",hideTitle:"إخفاء المحادثة",closeTitle:"إغلاق المحادثة",settingsTitle:"الاعدادات",disableSounds:"تعطيل الصوت",enableSounds:"تفعيل الصوت",visitor:"أنا",send:"ارسل",textareaPlaceholder:"اكتب هنا و اضغط <enter> للإرسال",typingMsg:"{name} يقوم بالكتابة ...",
transcriptSendingTitle:"ارسل أيميل ...",transcriptSendedTitle:"تم إرسال البريد بنجاح",rate:"وكيل معدل"},login:{title:"تسجيل الدخول",messageLabel:"سؤالك",submit:"ابدأ المحادثة"},offline:{title:"ارسل لنا رساله",notice:"نحن غير متواجدين في الوقت الراهن، ولكن يمكنك ترك لنا رسالة. وسوف نقوم بالرد في أقرب وقت ممكن.",hideTitle:"إخفاء المحادثة",name:"ألاسم",email:"الأيميل",message:"رسالتك",submit:"ارسل رساله",messageRequiredAlert:"لم تقم بكتابه الرساله",emailRequiredAlert:"لم تقم بكتابه البريد",emailInvalidAlert:"بريد خاطئ",sendInfo:"جارى إرسال البريد ...",successTitle:"شكرا لك لرسالتك ",successDesc:"تم ارسال رسالتك بنجاح. سوف نتصل بك قريبا.",failureTitle:"خطأ",failureDesc:"لم يتم إرسال رسالتك",number:"رقم الهاتف"},widget:{online:"متصل",away:"بعيدا",offline:"غير متصل"},banner:{bubble:{text:"نحن جاهزون للرد على أسألتك "},arrow:{title:"أى سؤال ؟",desc:"نحن جاهزون للرد"}},button:{title:"محادثة مباشرة"},settings:{title:"الاعدادات"}}),Locale.inherit("ar","en"),Locale.define("az","app",{messages:{agentjoin:"{name} çata qoşuldu",
agentleave:"{name} çatı tərk etdi",transfer:"Çat {name} -a transfer olunur",rating:"Çat qiymətləndirildi"},dialogClose:{title:"Çatı sonlandırmaq istəyirsiniz?",yes:"Bəli",no:"Xeyr",send:"Bəli, çatın nüsxəsi email-ə göndərilsin"},dialogSend:{title:"Çatın nüsxəsini email-ə göndər",email:"Email",yes:"Söndər",no:"Ləğv et"},dialogRating:{title:"Çatı necə dəyərləndirirsiniz?",cancel:"Dəyərləndirmək istəmirəm",submit:"Göndər",commentTitle:"Sizin şərhiniz"},online:{title:"Dəstək",infoTitle:"Online Chat",infoDesc:"Sualınızı bizə verin",maximize:"Böyütmək",minimize:"Kiçiltmək",hideTitle:"Çatı gizlət",closeTitle:"Çatı bağla",settingsTitle:"Qurğular",disableSounds:"Səsi deaktiv et",enableSounds:"Səsi aktiv et",visitor:"Mən",send:"Göndər",textareaPlaceholder:"Bura yazıb, göndərmək üçün <enter> basın",typingMsg:"{name} yazır...",transcriptSendingTitle:"Email göndərilir",transcriptSendedTitle:"Email göndərildi",rate:"Qiymətləndirmə agenti"},login:{title:"Çat Login",messageLabel:"Sizin sualınız",submit:"Çata başla"
},offline:{title:"Bizə mesaj göndərin",notice:"Biz hal-hazırda oflayn vəziyyətdəyik, lakin Siz bizə mesajınızı göndərə bilərsiniz, ən qısa zamanda cavab veriləcək.",hideTitle:"Çatı gizlət",name:"Ad",email:"Email",message:"Sizin mesajınız",submit:"Mesajı göndər",messageRequiredAlert:"Mesaj daxil edilməyib",emailRequiredAlert:"Email daxil edilməyib",emailInvalidAlert:"Email düzgün deyil",sendInfo:"Email göndərilir",successTitle:"Mesajınız üçün təşəkkürlər",successDesc:"Sizin mesajınız müvəffəqiyyətlə göndərildi. Sizinlə tezliklə əlaqə saxlayacağıq.",failureTitle:"Səhv",failureDesc:"Sizin mesajınız göndərilmədi",number:"Telefon n."},widget:{online:"Onlayn",away:"Məşqul",offline:"Xəttə deyil"},banner:{bubble:{text:"Biz Sizin suallarınızı cavablandırmağa hazırıq"},arrow:{title:"Sualınız var?",desc:"Biz cavab verməyə hazırıq"}},button:{title:"Çat"},settings:{title:"Qurğular"}}),Locale.inherit("az","en"),Locale.define("bg","app",{messages:{agentjoin:"{name} се присъедини към чата",agentleave:"{name} напусна чата",
transfer:"чата е прехвърлен към {name}",rating:"Чата беше оценен"},dialogClose:{title:"Желаете ли да прекратите чата?",yes:"Да",no:"Не",send:"Да, и изпратете чата по e-mail"},dialogSend:{title:"Изпратете чата по e-mail",email:"E-mail",yes:"Изпращане",no:"Отказ"},dialogRating:{title:"Как оценявате чата?",cancel:"Не желая да дам оценка",submit:"Изпрати",commentTitle:"Вашият коментар"},online:{title:"Поддръжка",infoTitle:"Live chat",infoDesc:"Задай ни въпрос",maximize:"Увеличи",minimize:"Намали",hideTitle:"Скрии чата",closeTitle:"Затвори чата",settingsTitle:"Настройки",disableSounds:"Изключване на звука",enableSounds:"Включване на звука",visitor:"Аз",send:"Изпрати",rate:"Оцени сътрудника ни",textareaPlaceholder:"Напишете ни Вашият въпрос тук",typingMsg:"{name} пише...",transcriptSendingTitle:"Изпращане на e-mail",transcriptSendedTitle:"E-mail-a е изпратен"},login:{title:"Вход в чата",notice:"",messageLabel:"Вашият въпрос",submit:"Започнете чат"},offline:{title:"Изпратете ни съобщение",notice:"В момента не сме на линия, но можете да ни оставите съобщение. Ще Ви отговорим при първа възможност.",
hideTitle:"Сркий чата",name:"Име",email:"E-mail",number:"Телефонен номер",message:"Вашето съобщение",submit:"Изпратете съобщение",messageRequiredAlert:"Не сте въвели съобщение",emailRequiredAlert:"Не сте въвели E-mail",emailInvalidAlert:"Невалиден E-mail",sendInfo:"Изпращане на E-mail...",successTitle:"Благодарим Ви за съобщението",successDesc:"Вашето съобщение е изпратено успешно.",failureTitle:"Грешка",failureDesc:"Вашето съобщение не е изпратено"},widget:{online:"Online",away:"Временно извън линия",offline:"Offline"},banner:{bubble:{text:"Задайте ни въпрос"},arrow:{title:"Имате въпроси?",desc:"Готови сме да отговорим"}},button:{title:"Чат"},settings:{title:"Настройки"}}),Locale.inherit("bg","en"),Locale.define("br","app",{messages:{agentjoin:"{name} se juntou ao chat",agentleave:"{name} abandonou o chat",transfer:"O chat foi transferido para {name}",rating:"Chat foi avaliado"},dialogClose:{title:"Deseja terminar o chat?",yes:"Sim",no:"Não",send:"Sim, e enviar o chat para o email"},dialogSend:{
title:"Enviar o chat para o email",email:"Email",yes:"Enviar",no:"Cancelar"},dialogRating:{title:"Como avalia o chat?",cancel:"Não quero avaliar",submit:"Enviar",commentTitle:"Seu comentário"},online:{title:"Suporte",infoTitle:"Chat ao vivo",infoDesc:"Pergunte-nos qualquer coisa",maximize:"Maximizar",minimize:"Minimizar",hideTitle:"Esconder chat",closeTitle:"Fechar chat",settingsTitle:"Configurações",disableSounds:"Desativar sons",enableSounds:"Ativar sons",visitor:"Eu",send:"Enviar",textareaPlaceholder:"Escreva aqui, pressione <enter> para enviar",typingMsg:"{name} está digitando...",transcriptSendingTitle:"Enviando email...",transcriptSendedTitle:"Email enviado",rate:"Avaliar o agente"},login:{title:"Entrar no chat",messageLabel:"A sua pergunta",submit:"Iniciar chat"},offline:{title:"Envie-nos uma mensagem",notice:"No momento não estamos disponíveis, mas pode nos deixar uma mensagem. Responderemos o mais rapidamente possível.",hideTitle:"Esconder chat",name:"Nome",email:"Email",message:"Sua mensagem",
submit:"Enviar mensagem",messageRequiredAlert:"Não inseriu uma mensagem",emailRequiredAlert:"Não inseriu um email",emailInvalidAlert:"Email inválido",sendInfo:"Enviando email...",successTitle:"Obrigado pela sua mensagem",successDesc:"Sua mensagem foi enviada com sucesso. Entraremos em contato em breve.",failureTitle:"Erro",failureDesc:"Sua mensagem não foi enviada",number:"Telefone"},widget:{online:"Online",away:"Ausente",offline:"Offline"},banner:{bubble:{text:"Estamos preparados para suas questões"},arrow:{title:"Alguma questão?",desc:"Estamos aqui para responder"}},button:{title:"Chat"},settings:{title:"Configurações"},forms:{phoneInvalid:"Ente pelo menos 9 dígitos"}}),Locale.inherit("br","en"),Locale.define("cn","app",{messages:{agentjoin:"<strong>{name}</strong> 加入对话.",agentleave:"<strong>{name}</strong> 离开.",transfer:"对话正在被转移至 <b>{name}</b>",rating:"聊天被评为"},dialogClose:{title:"是否结束对话?",yes:"是",no:"否",send:"是，发送对话记录到我邮箱"},dialogSend:{title:"发送对话记录到我邮箱",email:"邮箱地址",yes:"发送",no:"取消"
},dialogRating:{title:"给对话评分",cancel:"Don't rate",submit:"发送",commentTitle:"你的评论"},online:{title:"支持",infoTitle:"Live chat",infoDesc:"需要帮助？",maximize:"最大化",minimize:"最小化",hideTitle:"隐藏对话",closeTitle:"关闭对话",settingsTitle:"设置",disableSounds:"静音",enableSounds:"开启音量",visitor:"我",send:"发送",textareaPlaceholder:"从这里开始输入, 按回车键发送",typingMsg:"<span>{name}</span>正在输入...",transcriptSendingTitle:"邮件已发送...",transcriptSendedTitle:"邮件已成功发送",rate:"速率代理"},login:{title:"Chat login",messageLabel:"Your question",submit:"Start chat"},offline:{title:"给我们发信息",notice:"系统繁忙, 请留下您的信息. 我们会尽快回复.",hideTitle:"隐藏对话",name:"姓名",email:"邮箱",message:"您的信息",submit:"发送信息",messageRequiredAlert:"您没有输入信息.",emailRequiredAlert:"您没有输入邮箱地址.",emailInvalidAlert:"错误的邮箱地址",sendInfo:"邮件正在发送...",successTitle:"感谢您的信息!",successDesc:"您的信息已成功发送. 我们会尽快联系您.",failureTitle:"发送错误.",failureDesc:"对不起，您的信息发送失败.",number:"电话号码"},widget:{online:"请输入任何问题",away:"请输入任何问题",offline:"请留言"},banner:{bubble:{text:"准备好了，请提问吧!"},arrow:{title:"有什么问题吗?",desc:"我们已经准备好回答了."
}},button:{title:"支持"},settings:{title:"设置"}}),Locale.inherit("cn","en"),Locale.define("cs","app",{messages:{agentjoin:"{name} se připojil(a) do chatu",agentleave:"{name} se odpojil(a) z chatu",transfer:"Chat byl přesměrován na {name}",rating:"Chat byl ohodnocen"},dialogClose:{title:"Přejete si ukončit chat?",yes:"Ano",no:"Ne",send:"Ano a chci zaslat chat na e-mail"},dialogSend:{title:"Odeslat chat na e-mail",email:"E-mail",yes:"Odeslat",no:"Zrušit"},dialogRating:{title:"Ohodnoťte práci operátora",cancel:"Nechci hodnotit",submit:"Odeslat",commentTitle:"Váš komentář"},online:{title:"Podpora",infoTitle:"Live chat",infoDesc:"Zeptejte se nás na cokoliv",maximize:"Zvětšit okno",minimize:"Zmenšit okno",hideTitle:"Skrýt chat",closeTitle:"Ukončit chat",settingsTitle:"Nastavení",disableSounds:"Vypnout zvuky",enableSounds:"Zapnout zvuky",visitor:"Já",send:"Odeslat",textareaPlaceholder:"Pište zde, pro odeslání stiskněte <enter>",typingMsg:"<span>{name}</span> píše...",transcriptSendingTitle:"E-mail se odesílá...",
transcriptSendedTitle:"E-mail byl úspěšně odeslán",rate:"Ohodnoťte operátora"},login:{title:"Přihlášení do chatu",messageLabel:"Váš dotaz",submit:"Začít chat"},offline:{title:"Napište nám zprávu",notice:"Nejsme zrovna k dispozici. Zanechte nám zprávu a my se vám ozveme.",hideTitle:"Skrýt chat",name:"Jméno",email:"E-mail",number:"Telefon",message:"Napište nám zprávu",submit:"Odeslat",messageRequiredAlert:"Nezadali jste žádnou zprávu",emailRequiredAlert:"Nezadali jste e-mail",emailInvalidAlert:"Neplatný e-mail",sendInfo:"E-mail se odesílá...",successTitle:"Děkujeme za váš dotaz",successDesc:"Váš dotaz byl úspěšně odeslán. V blízké době vás budeme kontaktovat.",failureTitle:"Chyba při odesílání",failureDesc:"Je nám líto, ale váš dotaz se nepodařilo odeslat."},widget:{online:"Jsme online",away:"Zrovna tu nejsme",offline:"Napište nám zprávu"},banner:{bubble:{text:"Máte dotazy? Rádi vám poradíme."},arrow:{title:"Máte dotazy?",desc:"Rádi vám poradíme"}},button:{title:"Chat"},settings:{title:"Nastavení"
},forms:{phoneInvalid:"Napište alespoň 9 číslic"}}),Locale.inherit("cs","en"),Locale.define("da","app",{messages:{agentjoin:"{name} loggede på",agentleave:"{name} loggede af",transfer:"Samtalen er overført til {name}",rating:"Chat blev bedømt"},dialogClose:{title:"Vil du afslutte chatten?",yes:"Ja",no:"Nej",send:"Ja, og send samtalen til e-mail"},dialogSend:{title:"Send samtalen til e-mail",email:"E-mail",yes:"Send",no:"Annuller"},dialogRating:{title:"Vurdér samtalen med supporteren",cancel:"Undlad at stemme",submit:"Send",commentTitle:"Din kommentar"},online:{title:"Support",infoTitle:"Live chat",infoDesc:"Spørg os",maximize:"Maksimer",minimize:"Minimer",hideTitle:"Skjul chat",closeTitle:"Luk chat",settingsTitle:"Indstillinger",disableSounds:"Slå lyde fra",enableSounds:"Slå lyde til",visitor:"Mig",send:"Send",textareaPlaceholder:"Skriv her, tryk <enter> for at sende",typingMsg:"<span>{name}</span> skriver...",transcriptSendingTitle:"E-mail sendt...",transcriptSendedTitle:"E-mailen blev succesfuldt sendt",
rate:"Rate agent"},login:{title:"Chat login",messageLabel:"Dit spørgsmål",submit:"Start chat"},offline:{title:"Send os en besked",notice:"Vi er desværre ikke online i øjeblikket, men læg en besked til os og vi vender tilbage hurtigst muligt.",hideTitle:"Skjul chat",name:"Navn",email:"E-mail",message:"Din besked",submit:"Send besked",messageRequiredAlert:"Du har ikke skrevet en besked",emailRequiredAlert:"Du har ikke skrevet en e-mail",emailInvalidAlert:"Ugyldig e-mail adresse",sendInfo:"E-mail bliver sendt...",successTitle:"Tak for din besked",successDesc:"Din e-mail blev succesfuldt sendt. Vi kontakter dig hurtigst muligt.",failureTitle:"Fejl under afsendelse.",failureDesc:"Vi beklager! Der skete en fejl under afsendelse af beskeden.",number:"Telefon"},widget:{online:"Online",away:"Away",offline:"Offline"},banner:{bubble:{text:"Vi er klar til at modtage dine spørgsmål!"},arrow:{title:"Nogle spørgsmål?",desc:"Vi er klar til at svare"}},button:{title:"Chat"},settings:{title:"Indstillinger"
}}),Locale.inherit("da","en"),Locale.define("de","app",{messages:{agentjoin:"{name} hat den Chat betreten",agentleave:"{name} hat den Chat verlassen",transfer:"Chat an {name} übertragen",rating:"Chat Bewertung erfolgt"},dialogClose:{title:"Möchten Sie den Chat beenden?",yes:"Ja",no:"Nein",send:"Ja, und den Chatverlauf an folgende E-Mail senden"},dialogSend:{title:"Chat an E-Mail senden",email:"E-Mail",yes:"Senden",no:"Abbrechen"},dialogRating:{title:"Wie würden Sie den Chatverlauf bewerten?",cancel:"Ich möchte keine Bewertung abgeben",submit:"Senden",commentTitle:"Ihr Kommentar"},online:{title:"Support",infoTitle:"Live-Chat",infoDesc:"Senden Sie uns Ihre Frage",maximize:"Maximieren",minimize:"Minimieren",hideTitle:"Chat ausblenden",closeTitle:"Chat schließen",settingsTitle:"Einstellungen",disableSounds:"Töne deaktivieren",enableSounds:"Töne aktivieren",visitor:"Ich",send:"Senden",textareaPlaceholder:"Text hier schreiben und zum Absenden <enter> drücken",typingMsg:"{name} schreibt...",transcriptSendingTitle:"E-mail wird gesendet...",
transcriptSendedTitle:"E-Mail zugesandt",rate:"Bewerten Sie Ihren Agenten"},offline:{title:"Senden Sie uns eine Nachricht",notice:"Wir sind momentan nicht verfügbar. Hinterlassen Sie eine Nachricht, wir melden uns bei Ihnen frühestmöglich.",hideTitle:"Chat ausblenden",name:"Name",email:"E-Mail",message:"Ihre Nachricht",submit:"Nachricht senden",messageRequiredAlert:"Sie haben keine Nachricht eingegeben",emailRequiredAlert:"Sie haben keine E-Mail-Adresse eingegeben",emailInvalidAlert:"Ungültige E-Mail-Adresse",sendInfo:"E-Mail wird versendet",successTitle:"Vielen Dank für Ihre Nachricht",successDesc:"Ihre Nachricht wurde an unser Team gesendet. Wir werden uns schnellstmöglich bei Ihnen melden.",failureTitle:"Fehler",failureDesc:"Die Versendung der Nachricht ist fehlgeschlagen",number:"Telefonnummer"},widget:{online:"Online",away:"Abwesend",offline:"Offline"},banner:{bubble:{text:"Wir stehen für Ihre Fragen zur Verfügung"},arrow:{title:"Haben Sie Fragen?",desc:"Sprechen Sie uns an"}},button:{
title:"Chat"},login:{title:"Chat-Login",messageLabel:"Ihre Frage",submit:"Chat starten"},settings:{title:"Einstellungen"},forms:{phoneInvalid:"Minimum 9 Nummern"}}),Locale.inherit("de","en"),Locale.define("el","app",{messages:{agentjoin:"{name} ξεκίνησε το chat",agentleave:"{name} αποχώρησε από το chat",transfer:"Το chat μεταφέρθηκε στο {name}",rating:"Το chat αξιολογήθηκε"},dialogClose:{title:"Θέλετε να αποχωρήσετε από την συνομιλία;",yes:"Ναι",no:"Όχι",send:"Ναι, και θέλω αποστολή του αντίγραφου της στο email μου"},dialogSend:{title:"Αποστολή της συνομιλίας στο email",email:"E-mail",yes:"Αποστολή",no:"Ακύρωση"},dialogRating:{title:"Θέλετε να αξιολογήσετε τη βοήθεια στο chat;",cancel:"Όχι, δε θέλω",submit:"Αποστολή",commentTitle:"Το σχόλιο σας"},online:{title:"Εξυπηρέτηση πελατών",infoTitle:"Ζωντανό Chat",infoDesc:"Ρωτήστε ό,τι θέλετε",maximize:"Μεγάλωση",minimize:"Σμίκρυνση",hideTitle:"Απόκρυψη του chat",closeTitle:"Κλείσιμο του chat",settingsTitle:"Ρυμίσεις",disableSounds:"Απενεργοποιήση ήχου",
enableSounds:"Ενεργοποιήση ήχου",visitor:"Εγώ",send:"Αποστολή",textareaPlaceholder:"Πληκρολογήστε εδώ, κάντε κλικ <ENTER> για αποστολή",typingMsg:"{name} πληκτρολογεί...",transcriptSendingTitle:"Το email αποστολείται...",transcriptSendedTitle:"Email στάλθηκε επιτυχώς",rate:"Αξιολογήστε τον υπάλληλο"},login:{title:"Εγγραφή στο Chat",messageLabel:"Η ερώτηση σας",submit:"Ενεργοποιήση του chat"},offline:{title:"Στείλτε μας ένα μήνυμα",notice:"Προσορινα δεν είμαστε online, μπορείτε όμως να μας αφήσετε μήνυμα και θα επικοινωνήσουμε μαζί σας",hideTitle:"Απόκρυψη του chat",name:"Όνομα",email:"E-mail",message:"Μύνημα",submit:"Αποστολή μήνυματος",messageRequiredAlert:"Το μήνυμα σας είναι άδειο.",emailRequiredAlert:"Συμειώστε το email σας",emailInvalidAlert:"Το email είναι λάθος",sendInfo:"Απόστολή του email...",successTitle:"Ευχαριστούμε για το μύνημα σας",successDesc:"Το μήνυμα σας στάλθηκε με επιτυχία. Σύντομα θα επικοινωνήσουμε μαζί σας",failureTitle:"Σφάλμα",failureDesc:"Συγώμη, το μήνυμα δεν στάλθηκε",
number:"Τηλέφωνο"},widget:{online:"Μήπως έχετε κάποια ερώητη;",away:"Μήπως έχετε κάποια ερώητη;",offline:"Αφήστε μήνυμα"},banner:{bubble:{text:"Έτοιμοι για τις ερωτήσεις σας!"},arrow:{title:"Μήπως έχετε κάποια ερώητη;",desc:"Θα απαντήσουμε ευχαρίστως"}},button:{title:"Chat ζωντανό"},settings:{title:"Ρυθμίσεις"}}),Locale.inherit("el","en"),Locale.define("en","app",{messages:{agentjoin:"{name} joined chat",agentleave:"{name} left chat",transfer:"Chat transferred to {name}",rating:"Chat was rated"},dialogClose:{title:"Would you like to end chat?",yes:"Yes",no:"No",send:"Yes, and send chat to email"},dialogSend:{title:"Send chat to email",email:"Email",yes:"Send",no:"Cancel"},dialogRating:{title:"How would you rate the chat?",cancel:"I don't want to rate",submit:"Send",commentTitle:"Your comment"},online:{title:"Support",infoTitle:"Live chat",infoDesc:"Ask us anything",maximize:"Maximize",minimize:"Minimize",hideTitle:"Hide chat",closeTitle:"Close chat",settingsTitle:"Settings",disableSounds:"Disable sounds",
enableSounds:"Enable sounds",visitor:"Me",send:"Send",rate:"Rate agent",textareaPlaceholder:"Write here, press <enter> to send",typingMsg:"{name} is typing...",transcriptSendingTitle:"Sending email...",transcriptSendedTitle:"Email sent"},login:{title:"Chat login",notice:"",messageLabel:"Your question",submit:"Start chat"},offline:{title:"Send us a message",notice:"We are not available at the moment, but you can leave us a message. We will respond as soon as possible.",hideTitle:"Hide chat",name:"Name",email:"Email",number:"Phone number",message:"Your message",submit:"Send message",messageRequiredAlert:"You have not entered a message",emailRequiredAlert:"You have not entered an email",emailInvalidAlert:"Invalid email",sendInfo:"Sending email...",successTitle:"Thank you for your message",successDesc:"Your message was sent successfully. We will contact you soon.",failureTitle:"Error while sending",failureDesc:"Your message wasn't sent"},widget:{online:"Online",away:"Away",offline:"Offline"
},forms:{phoneInvalid:"Enter at least 9 numbers"},banner:{bubble:{text:"We are ready for your questions"},arrow:{title:"Any questions?",desc:"We are ready to answer"}},button:{title:"Chat"},settings:{title:"Settings"}}),Locale.define("es","app",{messages:{agentjoin:"{name} se ha unido al chat",agentleave:"{name} ha abandonado el chat",transfer:"Chat ha sido transferido a {name}",rating:"Chat ha sido evaluado"},dialogClose:{title:"¿Desea terminar el chat?",yes:"Sí",no:"No",send:"Sí, y enviar chat al e-mail"},dialogSend:{title:"Enviar chat al e-mail",email:"E-mail",yes:"Enviar",no:"Cancelar"},dialogRating:{title:"¿Cómo evaluarías el chat?",cancel:"No quiero evaluar",submit:"Enviar",commentTitle:"Su comentario"},online:{title:"Soporte",infoTitle:"Chat en vivo",infoDesc:"Pregúntanos cualquier cosa",maximize:"Maximizar",minimize:"Minimizar",hideTitle:"Ocultar chat",closeTitle:"Cerrar chat",settingsTitle:"Configuraciones",disableSounds:"Desactivar sonidos",enableSounds:"Activar sonidos",visitor:"Yo",
send:"Enviar",textareaPlaceholder:"Escriba aquí, presiona <enter> para enviar",typingMsg:"{name} está escribiendo...",transcriptSendingTitle:"E-mail está siendo enviado...",transcriptSendedTitle:"E-mail enviado",rate:"Evaluar agente"},offline:{title:"Envíenos un mensaje",notice:"No estamos disponibles en el momento, pero puede dejarnos un mensaje. Le responderemos tan pronto como sea posible.",hideTitle:"Ocultar chat",required:"",name:"Nombre",email:"E-mail",message:"Su mensaje",submit:"Enviar mensaje",messageRequiredAlert:"No ha introducido ningún mensaje",emailRequiredAlert:"No ha introducido ningún e-mail",emailInvalidAlert:"E-mail inválido",sendInfo:"E-mail está siendo enviado...",successTitle:"Gracias por su mensaje",successDesc:"E-mail ha sido enviado. Le contactaremos lo antes posible.",failureTitle:"Error",failureDesc:"El mensaje no ha sido enviado.",number:"Teléfono"},widget:{online:"En línea",away:"Ausente",offline:"Fuera de línea"},banner:{bubble:{text:"Estamos listos para sus preguntas"
},arrow:{title:"¿Alguna pregunta?",desc:"Listos para responder"}},button:{title:"Chat"},login:{title:"Chat inicio de sesión",messageLabel:"Su pregunta",submit:"Iniciar chat"},settings:{title:"Ajustes"},forms:{phoneInvalid:"Tecla al menos 9 dígitos"}}),Locale.inherit("es","en"),Locale.define("fa","app",{messages:{agentjoin:"{name} به گفتگو پیوست",agentleave:"{name} گفتگو را ترک کرد",transfer:"ادامه گفتگو به {name} سپرده شد",rating:"چت رتبه بندی شد"},dialogClose:{title:"قصد پایان دادن به گفتگو را دارید ؟",yes:"بله",no:"خیر",send:"بله ، به همراه ارسال گفتگو به ایمیل من"},dialogSend:{title:"ارسال گفتگو به ایمیل شما",email:"آدرس ایمیل",yes:"ارسال",no:"لغو"},dialogRating:{title:"به این گفتگو امتیاز می دهید ؟",cancel:"تمایلی به امتیازدهی ندارم !",submit:"ارسال",commentTitle:"نظر شما"},online:{title:"پشتیبانی",infoTitle:"گفتگو آنلاین",infoDesc:"سوال خود را مطرح کنید",maximize:"بزرگ کردن",minimize:"کوچک کردن",hideTitle:"مخفی کردن گفتگو",closeTitle:"مخفی کردن",settingsTitle:"تنظیمات",disableSounds:"غیرفعال کردن صداها",
enableSounds:"فعال کردن صداها",visitor:"من",send:"ارسال",textareaPlaceholder:"متن خود را وارد کنید سپس کلید enter را لمس کنید",typingMsg:"{name} در حال نوشتن است ...",transcriptSendingTitle:"درحال ارسال ایمیل ...",transcriptSendedTitle:"ایمیل با موفقیت ارسال شد",rate:"عامل ارزیابی"},login:{title:"ورود به چت",messageLabel:"سوال شما ؟",submit:"شروع گفتگو"},offline:{title:"ارسال پیام",notice:"متاسفانه کارشناسان ما در دسترس نیستند ! لطفا  پیام خود را ارسال کنید ، کارشناسان به زودی پاسخگو خواهند بود",hideTitle:"مخفی کردن",name:"نام",email:"آدرس ایمیل",message:"پیام شما",submit:"ارسال پیام",messageRequiredAlert:"لطفا پیام خود را وارد کنید !",emailRequiredAlert:"لطفا آدرس ایمیل خود را وارد کنید !",emailInvalidAlert:"آدرس ایمیل معتبر نیست",sendInfo:"در حال ارسال ...",successTitle:"از تماس شما متشکریم",successDesc:"پیام شما ارسال شد ، منتظر پاسخ کارشناسان ما باشید",failureTitle:"خطایی رخ داده !",failureDesc:"پیام شما ارسال نشد",number:"تلفن تماس"},widget:{online:"آنلاین",away:"مشغول",offline:"آفلاین"
},banner:{bubble:{text:"آماده پاسخگویی به شما هستیم"},arrow:{title:"سوالی دارید ؟",desc:"لطفا بپرسید"}},button:{title:"گفتگو آنلاین"},settings:{title:"تنظیمات"}}),Locale.inherit("fa","en"),Locale.define("fi","app",{messages:{agentjoin:"{name} liittyi chattiin",agentleave:"{name} poistui chatistä",transfer:"Chatti siirrettiin {name}",rating:"Chatti arvioitiin"},dialogClose:{title:"Haluatko lopettaa chatin?",yes:"Kyllä",no:"En",send:"Kyllä, lähetä chatti sähköpostiin"},dialogSend:{title:"Lähetä chatti sähköpostiin",email:"Sähköposti",yes:"Lähetä",no:"Peruuta"},dialogRating:{title:"Arviosi chatistä?",cancel:"En halua antaa arviota",submit:"Lähetä",commentTitle:"Kommenttisi"},online:{title:"Tuki",infoTitle:"Live chatti",infoDesc:"Kysy mitä tahansa",maximize:"Suurenna",minimize:"Pienennä",hideTitle:"Piilota chatti",closeTitle:"Sulje chatti",settingsTitle:"Asetukset",disableSounds:"Äänet pois",enableSounds:"Äänet päälle",visitor:"Minä",send:"Lähetä",textareaPlaceholder:"Kirjoita tähän ja paina <enter>",
typingMsg:"{name} kirjoittaa...",transcriptSendingTitle:"Lähetetään sähköpostia",transcriptSendedTitle:"Sähköposti lähetetty",rate:"Arvioi asiakaspalvelija"},login:{title:"Kirjaudu",messageLabel:"Kysymyksesi",submit:"Aloita chatti"},offline:{title:"Lähetä viesti",notice:"Emme ole juuri nyt tavoitettavissa, mutta voit jättää meille viestin. Otamme yhteyttä mahdollisimman pian.",hideTitle:"Piilota chatti.",name:"Nimi",email:"Sähköposti",message:"Viestisi",submit:"Lähetä viesti",messageRequiredAlert:"Et ole kirjoittanut viestiä",emailRequiredAlert:"Et antanut sähköpostiosoitetta",emailInvalidAlert:"Sähköpostiosoite on väärin",sendInfo:"Lähetetään sähköpostia...",successTitle:"Kiitos viestistäsi",successDesc:"Viestisi lähetettiin onnistuneesti. Olemme pian yhteydessä.",failureTitle:"Virhe",failureDesc:"Viestiäsi ei lähetetty",number:"Puhelinnumero"},widget:{online:"Paikalla",away:"Ei paikalla",offline:"Poissa"},banner:{bubble:{text:"Olemme valmiina kysymyksillesi"},arrow:{title:"Kysyttävää?",
desc:"Vastaamme kysymyksiisi"}},button:{title:"Chatti"},settings:{title:"Asetukset"}}),Locale.inherit("fi","en"),Locale.define("fr","app",{messages:{agentjoin:"{name} a rejoint chat",agentleave:"{name} a quitté chat",transfer:"Chat transféré à {name}",rating:"La discussion a été évaluée"},dialogClose:{title:"Voulez-vous terminer le chat?",yes:"Oui",no:"Non",send:"Oui et envoyer le chat par courriel"},dialogSend:{title:"Envoyer chat par email",email:"Email",yes:"Envoyer",no:"Annuler"},dialogRating:{title:"Évaluer chat",cancel:"Ne pas évaluer",submit:"Envoyer",commentTitle:"Votre commentaire"},online:{title:"Aide",infoTitle:"Chat en direct",infoDesc:"Posez nous une question",maximize:"Maximiser",minimize:"Minimiser",hideTitle:"Cacher chat",closeTitle:"Fermer chat",settingsTitle:"Configuration",disableSounds:"Désactiver les sons",enableSounds:"Activer les sons",visitor:"Moi",send:"Envoyer",textareaPlaceholder:"Écrivez ici, appuyez <enter> pour envoyer",typingMsg:"{name} écrit...",transcriptSendingTitle:"Email envoyé...",
transcriptSendedTitle:"Email envoyé avec succès",rate:"Noter l'agent"},offline:{title:"Envoyez nous un message",notice:"Nous sommes actuellement indisponible, mais vous pouvez nous laisser un message. Nous vous répondrons dès que possible.",hideTitle:"Cacher chat",name:"Nom",email:"Email",message:"Votre message",submit:"Envoyer message",messageRequiredAlert:"Vous n'avez pas écrit de message",emailRequiredAlert:"Vous n'avez pas entré votre adresse email",emailInvalidAlert:"Email invalide",sendInfo:"Email en cours d'envoi...",successTitle:"Merci pour votre message",successDesc:"Votre message a été envoyé. Nous vous contacterons bientôt.",failureTitle:"Erreur",failureDesc:"Envoi a échoué",number:"Numéro de téléphone"},widget:{online:"En ligne",away:"Absent",offline:"Hors ligne"},banner:{bubble:{text:"Nous sommes prêts à répondre"},arrow:{title:"Avez-vous",desc:"des questions?"}},button:{title:"Chat"},login:{title:"Chat login",messageLabel:"Votre question",submit:"Démarrer un chat"},settings:{
title:"Paramètres"},forms:{phoneInvalid:"9 chiffres au moins"}}),Locale.inherit("fr","en"),Locale.define("he","app",{messages:{agentjoin:"{name} הצטרף לצ'אט",agentleave:"עזוב את הצ'אט",transfer:"צ'אט הועבר ל",rating:"הערכת הצ'אט"},dialogClose:{title:"ברצונך לסיים את הצ'אט ?",yes:"כן",no:"לא",send:"כן, ושלח את הצ'אט לדוא\"ל"},dialogSend:{title:"שלח את הצ'אט לדוא\"ל",email:'דוא"ל',yes:"שלח",no:"בטל"},dialogRating:{title:"כיצג אתה מעריך את הצ'אט ?",cancel:"אני לא רוצה להעריך",submit:"שלח",commentTitle:"הערותיך"},online:{title:"תמיכה",infoTitle:"צ'אט און ליין",infoDesc:"שאל אותנו",maximize:"הגדל",minimize:"צמצם",hideTitle:"הסתר צ'אט",closeTitle:"סגור צ'אט",settingsTitle:"הגדרות",disableSounds:"הגבל שמע",enableSounds:"הפעל שמע",visitor:"אני",send:"שלח",textareaPlaceholder:"כתוב כאן, הקש <Enter> כדי לשלוח",typingMsg:"מקליד...",transcriptSendingTitle:'שולח דוא"ל ...',transcriptSendedTitle:'הדוא"ל נשלח',rate:"הערכת הסוכן"},login:{title:"התחברות לצ'אט",messageLabel:"שאלתך",submit:"התחל צ'אט"},offline:{
title:"שלח לנו הודעה",notice:"אנו לא זמינים כרגע, יש באפשרותך להשאיר הודעה. נגיב בהקדם האפשרי.",hideTitle:"הסתר צ'אט",name:"שם",email:'דאו"ל',message:"הודעתך",submit:"שלח הודעה",messageRequiredAlert:"לא כתבת הודעה",emailRequiredAlert:'לא כתבת את הדוא"ל שלך',emailInvalidAlert:"אימייל שגוי",sendInfo:'שולח דוא"ל ...',successTitle:"תודה  על פנייתכם",successDesc:"הודעתך נשלחה בהצלחה. אנחנו ניצור איתך קשר בהקדם האפשרי",failureTitle:"שגיאה",failureDesc:"הודעתך לא נשלחה",number:"טלפון"},widget:{online:"און ליין",away:"מנותק",offline:"לא מחוברים"},banner:{bubble:{text:"אנו מוכנים לשאלותיך"},arrow:{title:"שאלות ?",desc:"אנו מוכנים לתת תשובות"}},button:{title:"צ'אט"},settings:{title:"הגדרות"}}),Locale.inherit("he","en"),Locale.define("hi","app",{messages:{agentjoin:"{name} चैट करने के लिए जुडे.",agentleave:"<strong>{name}</strong> कट गया.",transfer:"चैट स्थानांतरित किया गया <b>{name}</b>",rating:"चैट रेटेड किया गया था"},dialogClose:{title:"आप बातचीत समाप्त करना चाहते हैं?",yes:"हाँ",no:"नही",send:"बातचीत ईमेल में भेजे"
},dialogSend:{title:"बातचीत ईमेल में भेजे",email:"ईमेल एड्रेस",yes:"भेजें",no:"रद्द करें"},dialogRating:{title:"एजेंट की बातचीत को मूल्यनकित करें",submit:"भेजें",commentTitle:"अपनी टिप्पणी",cancel:"मैं दर नहीं चाहता"},online:{title:"सहायता",infoTitle:"सिधि बातचीत",infoDesc:"हमसे  प्रश्न करें",maximize:"अधिकतम",minimize:"न्यूनतम",hideTitle:"चैट बंद करें",closeTitle:"बातचीत रद करें",settingsTitle:"सेटिंग",disableSounds:"आवाज़ बंद करें",enableSounds:"आवाज़ चालु करें",visitor:"मैं",send:"भेजें",textareaPlaceholder:"यहाँ लिखें, भेजने के लिए <enter> दबाए",typingMsg:"<span>{name}</span> लिख रहे हे...",transcriptSendingTitle:"ईमेल बैज दिया...",transcriptSendedTitle:"ईमेल बजने में सफल",rate:"दर एजेंट"},login:{title:"चैट लोगिन",messageLabel:"आपका प्रश्न",submit:"बातचीत प्रारंभ करें"},offline:{title:"हमें संदेश भेजें",notice:"हम इस समय उपलब्ध नहीं हैं, लेकिन आप हमें एक संदेश छोड़ सकते हैं। हम जितनी जल्दी हो सके जवाब देंगे",hideTitle:"चैट छुपाएं",name:"नाम",email:"ईमेल",message:"आपका संदेश",submit:"संदेश भेजें",
messageRequiredAlert:"आप ने संदेश दर्ज नहीं किया",emailRequiredAlert:"आप ने ईमेल दर्ज नहीं किया",emailInvalidAlert:"अमान्य ईमेल",sendInfo:"ईमेल भेजा जा रहा है ...",successTitle:"आपके संदेश के लिए शुक्रिया!",successDesc:"आपका संदेश सफलतापूर्वक भेजा गया था। हम शीघ्र ही आपसे संपर्क करेंगे",failureTitle:"भेजने में त्रुटि",failureDesc:"हम क्षमा चाहते हैं, लेकिन आपके संदेश को भेजने में विफल रहे",number:"फ़ोन नंबर"},widget:{online:"हमें कुछ पूछो",away:"हमें कुछ पूछो",offline:"हमें एक संदेश छोड़ दो"},banner:{bubble:{text:"हम आपके प्रश्नों के लिए तैयार कर रहे हैं!"},arrow:{title:"कोई सवाल?",desc:"हम जवाब देने के लिए तैयार हैं"}},button:{title:"समर्थन"},settings:{title:"सेटिंग"}}),Locale.inherit("hi","en"),Locale.define("hr","app",{messages:{agentjoin:"{name} se pridružio razgovoru",agentleave:"{name} je napustio razgovor",transfer:"Razgovor proslijeđen na {name}",rating:"Chat je ocijenjen"},dialogClose:{title:"Želite li završiti razgovor?",yes:"Da",no:"Ne",send:"Da, i pošalji razgovor na email"},
dialogSend:{title:"Pošalji razgovor na email",email:"Email",yes:"Pošalji",no:"Otkaži"},dialogRating:{title:"Kako biste ocjenili razgovor?",cancel:"Ne želim ocjenjivati razgovor",submit:"Pošalji",commentTitle:"Vaš komentar"},online:{title:"Podrška",infoTitle:"Razgovor uživo",infoDesc:"Pitajte nas bilo što",maximize:"Raširi",minimize:"Sažmi",hideTitle:"Sakrij razgovor",closeTitle:"Zatvori razgovor",settingsTitle:"Postavke",disableSounds:"Onemogući zvukove",enableSounds:"Omogući zvukove",visitor:"Ja",send:"Pošalji",textareaPlaceholder:"Pišite ovdje, pritisnite <enter> za slanje",typingMsg:"{name} tipka...",transcriptSendingTitle:"Šaljem email",transcriptSendedTitle:"Email je uspješno poslan",rate:"Stopa agenta"},login:{title:"Prijava za razgovor",messageLabel:"Vaše pitanje",submit:"Započni razgovor"},offline:{title:"Pošaljite nam poruku",notice:"Trenutno nismo dostupni, ali nam možete ostaviti poruku. Javit ćemo vam se u najkraćem mogućem roku.",hideTitle:"Sakrij razgovor",name:"Ime",email:"Email",
message:"Vaša poruka",submit:"Pošalji poruku",messageRequiredAlert:"Niste upisali poruku.",emailRequiredAlert:"Niste unijeli email.",emailInvalidAlert:"Neispravan email",sendInfo:"Šaljem poruku...",successTitle:"Hvala na vašoj poruci",successDesc:"Vaša poruka je poslana. Kontaktirati ćemo vas uskoro.",failureTitle:"Greška",failureDesc:"Vaša poruka nije poslana",number:"Telefon"},widget:{online:"Online",away:"Odsutan",offline:"Offline"},banner:{bubble:{text:"Spremni smo za vaša pitanja"},arrow:{title:"Imate pitanja?",desc:"Spremni smo odgovoriti na pitanja"}},button:{title:"Razgovor"},settings:{title:"Postavke"}}),Locale.inherit("hr","en"),Locale.define("hu","app",{messages:{agentjoin:"{name} csatlakozott a chathez",agentleave:"{name} elhagyta a chatet",transfer:"Chat átküldésre került {name}",rating:"Chat értékelve"},dialogClose:{title:"Szeretnél véget vetni a chat-nek?",yes:"Igen",no:"Nem",send:"Igen, és chat küldése e-mailben"},dialogSend:{title:"Chat küldése e-mailben",email:"E-mail",
yes:"Küldés",no:"Mégse"},dialogRating:{title:"Hogyan értékelnéd a chat-et?",cancel:"Nem akarom értékelni",submit:"Küldés",commentTitle:"A hozzászólásod"},online:{title:"Segítség",infoTitle:"Live chat",infoDesc:"Kérdezzen tőlünk bármit",maximize:"Nagyítás",minimize:"Kicsinyítés",hideTitle:"Chat elrejtése",closeTitle:"Chat bezárása",settingsTitle:"Beállítások",disableSounds:"Hang kikapcsolása",enableSounds:"Hang bekapcsolása",visitor:"Én",send:"Küldés",textareaPlaceholder:"Írja ide üzenetét, majd nyomja meg a küldéshez az <enter> gombot",typingMsg:"{name} éppen gépel...",transcriptSendingTitle:"E-mail elküldve...",transcriptSendedTitle:"E-mail sikeresen elküldve.",rate:"Értékeld a kapcsolattartót"},offline:{title:"Küldjön nekünk üzenetet!",notice:"Most épp nem vagyunk elérhetők, de hagyhat nekünk üzenetet, melyet amint lehet, megválaszolunk.",hideTitle:"Chat elrejtése",name:"Név",email:"E-mail",message:"Az üzenete",submit:"Üzenet elküldése",messageRequiredAlert:"Nem írt be üzenetet",emailRequiredAlert:"Nem adott meg e-mail címet",
emailInvalidAlert:"Érvénytelen e-mail cím",sendInfo:"E-mail küldése folyamatban van...",successTitle:"Köszönjük üzenetét",successDesc:"Az üzenet küldése sikeres volt. Hamarosan felvesszük Önnel a kapcsolatot.",failureTitle:"Hiba",failureDesc:"Az üzenet küldése sajnos sikertelen volt",number:"Telefonszámok"},widget:{online:"Online",away:"Nincs a gépnél",offline:"Offline"},banner:{bubble:{text:"Készen állunk a kérdéseire"},arrow:{title:"Van kérdése?",desc:"Kapj válaszokat most"}},button:{title:"Chat"},login:{title:"Chat login",messageLabel:"A kérdésed",submit:"Chat indítása"},settings:{title:"Beállítások"}}),Locale.inherit("hu","en"),Locale.define("is","app",{messages:{agentjoin:"{name} tengdist spjallinu",agentleave:"{name} aftengdist spjallinu",transfer:"Spjallið var sent áfram á {name}",rating:"Einkunn gefin"},dialogClose:{title:"Villtu loka spjallinu?",yes:"Já",no:"Nei",send:"Já, og senda afrit af spjallinu á netfang"},dialogSend:{title:"Senda spjall á netfang",email:"Netfang",yes:"Senda",
no:"Hætta við"},dialogRating:{title:"Hvernig líkaði þér spjallið?",cancel:"Ég vill ekki gefa einkunn",submit:"Send",commentTitle:"Þín athugasemd"},online:{title:"Hjálp",infoTitle:"Spjallið er opið",infoDesc:"Spurðu okkur að hverju sem er",maximize:"Hámarka",minimize:"Lágmarga",hideTitle:"Fela spjall",closeTitle:"Loka spjalli",settingsTitle:"Stillingar",disableSounds:"Slökkva á hljóði",enableSounds:"Kveikja á hljóði",visitor:"Ég",send:"Senda",rate:"Gefa þjónustufulltrúa einkunn",textareaPlaceholder:"Skrifa hér, ýttu á <enter> til að senda",typingMsg:"{name} er að skrifa...",transcriptSendingTitle:"Sendi tölvupóst...",transcriptSendedTitle:"Tölvupóstur sendur"},login:{title:"Spjall innskráning",notice:"",messageLabel:"Þína spurningu",submit:"Hefja spjall"},offline:{title:"Sendu okkur skilaboð",notice:"Við erum ekki við í augnablikun en þú getur skilið eftir skilaboð sem við svörum við fyrsta tækifæri.",hideTitle:"Fela spjall",required:"",name:"Nafn",email:"Tölvupóstur",number:"Símanúmer",
message:"Þín skilaboð",submit:"Senda skilaboð",messageRequiredAlert:"Þú hefur ekki skrifað skilaboð",emailRequiredAlert:"Þú hefur ekki sett inn netfang",emailInvalidAlert:"Ógilt netfang",sendInfo:"Sendi tölvupóst..",successTitle:"Takk fyrir skilaboðin",successDesc:"Skilaboðin eru móttekin. Við munum hafa samband eins fljótt og við getum.",failureTitle:"Villa",failureDesc:"Skilaboðin þín voru ekki send"},widget:{online:"Opið",away:"Ekki við",offline:"Lokað"},banner:{bubble:{text:"Við viljum endilega fá spurningu frá þér"},arrow:{title:"Einhverjar spurningar?",desc:"Við erum tilbúin að spjalla "}},button:{title:"Spjall"},settings:{title:"Stillingar"}}),Locale.inherit("is","en"),Locale.define("it","app",{messages:{agentjoin:"{name} si è unito alla chat",agentleave:"{name} ha lasciato la chat",transfer:"Chat è stata trasferita a {name}",rating:"La chat è stata valutata"},dialogClose:{title:"Vorresti terminare chat?",yes:"Si",no:"No",send:"Si, e invia chat per email"},dialogSend:{title:"Invia chat per email",
email:"Email",yes:"Invia",no:"Cancella"},dialogRating:{title:"Vota chat con un' agente",cancel:"Non votare",submit:"Invia",commentTitle:"Tuo commento"},online:{title:"Supporto",infoTitle:"Live chat",infoDesc:"Chiedici qualsiasi cosa",maximize:"Massimizza",minimize:"Minimizza",hideTitle:"Nascondi chat",closeTitle:"Chiudi chat",settingsTitle:"Opzioni",disableSounds:"Disabilita i souni",enableSounds:"Abilita i suoni",visitor:"Io",send:"Invia",textareaPlaceholder:"Scrivi qua, premi <invio> per inviare",typingMsg:"{name} sta scrivendo...",transcriptSendingTitle:"Email è stata inviata...",transcriptSendedTitle:"Email è stata inviata correttamente",rate:"Valuta il tuo agente"},login:{title:"Chat login",messageLabel:"Tue domande",submit:"Inizia chat"},offline:{title:"Inviaci un messaggio",notice:"Lasciaci un messaggio. Ti risponderemo al più presto possibile.",hideTitle:"Nascondi chat",name:"Nome",email:"Email",message:"Tuo messaggio",submit:"Invia messaggio",messageRequiredAlert:"Non hai inserito un messaggio",
emailRequiredAlert:"Non hai inseriti un' indirizzo email",emailInvalidAlert:"Indirizzo email non valido",sendInfo:"Email sta partendo...",successTitle:"Grazie per il tuo messaggio",successDesc:"Il tuo messaggio è stato inviato correttamente. Ti risponderemo il prima possibile.",failureTitle:"Errore",failureDesc:"Tuo messaggio non è stato inviato",number:"Numero di telefono"},widget:{online:"Online",away:"Fuori",offline:"Offline"},banner:{bubble:{text:"Siamo pronti per tue domande"},arrow:{title:"Qualche domanda?",desc:"Pronti a rispondere"}},button:{title:"Chat"},settings:{title:"Opzioni"},forms:{phoneInvalid:"Inserisci almeno 9 numeri "}}),Locale.inherit("it","en"),Locale.define("ja","app",{messages:{agentjoin:"{name} チャットに参加しました",agentleave:"チャットを退出しました",transfer:"チャットは{name}に転送されました",rating:"チャットが評価されました"},dialogClose:{title:"チャットを終了しますか？",yes:"はい",no:"いいえ",send:"はい。チャットの内容をメールで送る"},dialogSend:{title:"チャットの内容をメールで送る",email:"メール",yes:"送信",no:"キャンセル"},dialogRating:{title:"このチャットを評価して頂けますか？",
cancel:"評価したくありません",submit:"送信",commentTitle:"コメント"},online:{title:"サポート",infoTitle:"ライブチャット",infoDesc:"何でもご質問下さい",maximize:"最大化",minimize:"最小化",hideTitle:"チャットを隠す",closeTitle:"チャットを閉じる",settingsTitle:"セッティング",disableSounds:"無効な音",enableSounds:"有効な音",visitor:"私",send:"送信",textareaPlaceholder:"ここに文章を書き、<enter>を押してメッセージ送信して下さい",typingMsg:"{name}はタイプ中",transcriptSendingTitle:"メールを送信中",transcriptSendedTitle:"メールが送信されました",rate:"評価の高い担当者"},login:{title:"チャットにログイン",messageLabel:"あなたの質問",submit:"チャットを始める"},offline:{title:"メッセージをお送り下さい",notice:"只今担当が席を外しております。メッセージを残して頂ければ出来る限り早くご返信させて頂きます。",hideTitle:"チャットを隠す",name:"名前",email:"メール",message:"あなたのメッセージ",submit:"メッセージ送信",messageRequiredAlert:"メッセージが入力されていません",emailRequiredAlert:"メールアドレスが入力されていません",emailInvalidAlert:"無効なメールアドレス",sendInfo:"メールを送信中",successTitle:"お問い合わせ誠に有り難うございます",successDesc:"メッセージ送信完了。すぐにご返信させて頂きます。",failureTitle:"エラー",failureDesc:"メッセージは送信されませんでした",number:"電話番号"},widget:{online:"オンライン",away:"席を外しています",offline:"オフライン"},banner:{bubble:{
text:"ご質問をどうぞ"},arrow:{title:"ご質問はございますか？",desc:"回答致します"}},button:{title:"チャット"},settings:{title:"セッティング"}}),Locale.inherit("ja","en"),Locale.define("ka","app",{messages:{agentjoin:"{name} შემოუერთდა ჩეთს",agentleave:"{name} დატოვა ჩეთი",transfer:"ჩეთი გადაირთო ოპერატორთან  {name}",rating:"ჩატი შეაფასა"},dialogClose:{title:"გნებავთ ჩეთის დასრულება?",yes:"დიახ",no:"არა",send:"დიახ, და გამომიგზავნეთ ჩეთი ელ-ფოსტაზე"},dialogSend:{title:"გამომიგზავნეთ ჩეთი ელ-ფოსტაზე",email:"ელ-ფოსტა",yes:"გაგზავნა",no:"გაუქმება"},dialogRating:{title:"როგორ შეაფასებთ საუბარს?",cancel:"არ მსურს შეფასება",submit:"გაგზავნა",commentTitle:"თქვენი კომენტარი"},online:{title:"დახმარება",infoTitle:"ონლაინშია",infoDesc:"გვკითხეთ",maximize:"გადიდება",minimize:"დაპატარავება",hideTitle:"ჩახურვა",closeTitle:"დახურვა",settingsTitle:"პარამეტრები",disableSounds:"ხმის გათიშვა",enableSounds:"ხმის ჩართვა",visitor:"მე",send:"გაგზავნა",textareaPlaceholder:"დაწერეთ აქ, დააჭირეთ <Enter>-ს გასაგზავნად",typingMsg:"{name} წერს",transcriptSendingTitle:"ვაგზავნით ელ-ფოსტაზე",
transcriptSendedTitle:"მესიჯი წარმატებით გაიგზავნა",rate:"შეფასება აგენტი"},login:{title:"ჩეთში შესვლა",messageLabel:"თქვენი შეკითხვა",submit:"ჩეთის დაწყება"},offline:{title:"მოგვწერეთ",notice:"ამ მომენტში ხაზზე არ ვართ, მაგრამ თქვენ შეგიძლიათ დაგვიტოვოთ შეტყობინება და ჩვენ მალე გიპასუხებთ.",hideTitle:"ჩეთის დამალვა",name:"სახელი",email:"ელ-ფოსტა",message:"თქვენი მესიჯი",submit:"მესიჯის გაგზავნა",messageRequiredAlert:"თქვენ არ შეგიყვანიათ მესიჯი",emailRequiredAlert:"თქვენ  არ შეგიყვანიათ ელ-ფოსტა",emailInvalidAlert:"არასწწორი ელ-ფოსტა",sendInfo:"ვაგზავნით მესიჯს",successTitle:"მადლობა თქვენი მესიჯისთვის",successDesc:"თქვენი მესიჯი წარმატებით გაიგზავნა. ჩვენ მალე დაგიკავშირდებით.",failureTitle:"შეცდომა",failureDesc:"თქვენი მეიჯი ვერ გაიგზავნა",number:"ტელეფონის ნომერი"},widget:{online:"ხაზზეა",away:"დაკავებულია",offline:"გასულია"},banner:{bubble:{text:"მზად ვართ თქვენი კითხვის მისაღებად"},arrow:{title:"კითხვა გაქვთ?",desc:"მზად ვართ გიპასუხოთ"}},button:{title:"ონლაინ ჩეთი"},settings:{title:"პარამეტრები"
}}),Locale.inherit("ka","en"),Locale.define("lt","app",{messages:{agentjoin:"{name} prisijungė prie pokalbio",agentleave:"{name} atsijungė nuo pokalbio",transfer:"Pokalbis perduotas {name}",rating:"Pokalbis buvo įvertintas"},dialogClose:{title:"Ar norite baigti pokalbį?",yes:"Taip",no:"Ne",send:"Taip, ir tęskite pokalbį el. paštu"},dialogSend:{title:"Išsiųsti pokalbį į el. paštą",email:"El. paštas",yes:"Siųsti",no:"Baigti"},dialogRating:{title:"Kaip įvertintumėte pokalbį?",cancel:"Nenoriu vertinti",submit:"Siųsti",commentTitle:"Jūsų komentaras"},online:{title:"Pagalba",infoTitle:"Pokalbis internetu",infoDesc:"Klauskite mūsų",maximize:"Išskleisti",minimize:"Suskleisti",hideTitle:"Paslėpti pokalbį",closeTitle:"Baigti pokalbį",settingsTitle:"Nustatymai",disableSounds:"Išjungti garsą",enableSounds:"Įjungti garsą",visitor:"Aš",send:"Siųsti",textareaPlaceholder:"Rašykite čia, spauskite <enter> išsiųsti",typingMsg:"{name} rašo ...",transcriptSendingTitle:"Siunčiamas el. laiškas",transcriptSendedTitle:"E. laiškas išsiųstas",
rate:"Įvertinti agentą"},login:{title:"Prisijungti prie pokalbio",messageLabel:"Klauskite",submit:"Pradėti pokalbį"},offline:{title:"Atsiųskite mums žinutę",notice:"Šiuo metu negalime atsakyti, palikite mums žinutę, atsakysime kaip galima greičiau.",hideTitle:"Paslėpti pokalbį",name:"Vardas",email:"El. paštas",message:"Jūsų žinutė",submit:"Siųsti",messageRequiredAlert:"Neįrašėte žinutės",emailRequiredAlert:"Neįrašėte el. pašto adreso",emailInvalidAlert:"Neteisingas el. pašto adresas",sendInfo:"Siunčiamas el. laiškas",successTitle:"Ačiū už Jūsų žinutę",successDesc:"Jūsų žinutė sėkmingai išsiųsta. Susisieksime su Jumis artimiausiu metu.",failureTitle:"Klaida",failureDesc:"Jūsų žinutė neišsiųsta",number:"Telefono numeris"},widget:{online:"Prisijungęs\n",away:"Atsitraukęs",offline:"Neprisijungęs"},banner:{bubble:{text:"Laukiame Jūsų klausimų"},arrow:{title:"Ar turite klausimų?",desc:"Gal galime padėti"}},button:{title:"Pokalbis"},settings:{title:"Nustatymai"}}),Locale.inherit("lt","en"),Locale.define("lv","app",{
messages:{agentjoin:"{name} pievienojās čatam",agentleave:"{name} pameta čatu",transfer:"Čats pārsūtīts {name}",rating:"Čats tika novērtēts"},dialogClose:{title:"Vai vēlaties beigt čatu?",yes:"Jā",no:"Nē",send:"Jā, nosūtīt kopiju epastā"},dialogSend:{title:"Sūtīt čatu uz epastu",email:"E-pasts",yes:"Sūtīt",no:"Atcelt"},dialogRating:{title:"Kā tu novērtētu čatu?",cancel:"Nevēlos vērtēt",submit:"Sūtīt",commentTitle:"Tavs komentārs"},online:{title:"Atbalsts",infoTitle:"Online čats",infoDesc:"Jautā mums",maximize:"Palielināt",minimize:"Samazināt",hideTitle:"Paslēpt čatu",closeTitle:"Aizvērt čatu",settingsTitle:"Iestatījumi",disableSounds:"Izslēgt skaņu",enableSounds:"Ieslēgt skaņu",visitor:"Es",send:"Sūtīt",textareaPlaceholder:"Raksti šeit, spied <enter> lai nosūtītu",typingMsg:"{name} raksta ...",transcriptSendingTitle:"Sūta e-pastu",transcriptSendedTitle:"E-pasts nosūtīts",rate:"Novērtēt aģentu"},login:{title:"Chat login",messageLabel:"Tavs jautājums",submit:"Sākt čatu"},offline:{title:"Nosūtīt mums ziņu",
notice:"Lūdzu atstājiet ziņu, mēs atbildēsim tiklīdz tas būs iespējams.",hideTitle:"Paslēpt čatu",name:"Vārds",email:"E-pasts",message:"Tava ziņa",submit:"Sūtīt ziņu",messageRequiredAlert:"Ziņojuma teksts nav ievadīts",emailRequiredAlert:"Lūdzu norādiet savu e-pastu",emailInvalidAlert:"Nepareizs e-pasts",sendInfo:"Sūta e-pastu...",successTitle:"Paldies par ziņu",successDesc:"Ziņa nosūtīta veiksmīgi. Sazināsimies tuvākajā laikā.",failureTitle:"Kļūda",failureDesc:"Ziņojums nosūtīts",number:"Tālruņa nummurs"},widget:{online:"Online",away:"Away",offline:"Offline"},banner:{bubble:{text:"Esam gatavi atbildēt"},arrow:{title:"Jautājumi?",desc:"Esam gatavi atbildēt"}},button:{title:"Čats"},settings:{title:"Iestatījumi"}}),Locale.inherit("lv","en"),Locale.define("mk","app",{messages:{agentjoin:"{name} се приклучи на chat-от",agentleave:"{name} го напушти chat- от",transfer:"Chat-от е пренасочен кон {name}",rating:"Chat-от беше оценет"},dialogClose:{title:"Дали сакате да го завршите овој разговор?",
yes:"Да",no:"Не",send:"Да, и испратете ми транскрипт од кумникацијата на е-маил"},dialogSend:{title:"Испрати ја комуникацијата на е-маил",email:"Е-маил",yes:"Испрати",no:"Откажи"},dialogRating:{title:"Како би ја оцениле помошта на chat-от?",cancel:"Не сакам да дадам оценка",submit:"Испрати",commentTitle:"Ваш коментар"},online:{title:"Корисничка поддршка",infoTitle:"Chat во живо",infoDesc:"Прашајте се што сакате",maximize:"Зголеми",minimize:"Намали",hideTitle:"Сокриј го chat-от",closeTitle:"Затвори го chat-от",settingsTitle:"Подесувања",disableSounds:"Исклучи звук",enableSounds:"Вклучи звук",visitor:"Јас",send:"Испрати",textareaPlaceholder:"Напишете овде, кликнете <ENTER> за да испратите",typingMsg:"{name} ти пишува...",transcriptSendingTitle:"Е-маилот се испраќа...",transcriptSendedTitle:"E-маилот е успешно пратен",rate:"Оценете го агентот"},login:{title:"Пријава за Chat",messageLabel:"Вашето прашање",submit:"Започнете разговор"},offline:{title:"Напишете ни порака",notice:"Во моментот не сме online, но можете да ни оставите порака па ќе ви се јавиме",
hideTitle:"Сокриј го chat-oт",name:"Име",email:"Е-маил",message:"Порака",submit:"Испрати порака",messageRequiredAlert:"Немате ништо напишано во пораката",emailRequiredAlert:"Не го напишавте вашиот е-маил",emailInvalidAlert:"Непостоечка е-маил адреса",sendInfo:"Е-маилот се испраќа...",successTitle:"Ви благодариме на пораката",successDesc:"Пораката е успешно испратена. Набрзо ќе ве контактираме.",failureTitle:"Грешка",failureDesc:"Извинете, но пораката не е испратена",number:"Телефон"},widget:{online:"Имате ли некое прашање за нас?",away:"Имате ли некое прашање за нас?",offline:"Оставете ни порака"},banner:{bubble:{text:"Подготвени сме за вашите прашања!"},arrow:{title:"Имате ли некое прашање?",desc:"Со задоволтво ќе ви одговориме"}},button:{title:"Chat во живо"},settings:{title:"Подесувања"}}),Locale.inherit("mk","en"),Locale.define("nl","app",{messages:{agentjoin:"{name} neemt deel aan chat",agentleave:"{name} heeft chat verlaten",transfer:"Chat overgezet naar {name}",rating:"Chat werd beoordeeld"
},dialogClose:{title:"Wilt u het gesprek graag beëindigen?",yes:"Ja",no:"Nee",send:"Ja, stuur de chat naar email"},dialogSend:{title:"Stuur het gesprek naar email",email:"Email",yes:"Stuur",no:"Annuleer"},dialogRating:{title:"Beoordeel deze service",submit:"Verstuur",commentTitle:"Opmerking",cancel:"Ik wil niet beoordelen"},online:{title:"Hulp",infoTitle:"Live chat",infoDesc:"Stel ons uw vragen",maximize:"Maximaliseer",minimize:"Minimaliseer",hideTitle:"Verberg chat",closeTitle:"Sluit chat",settingsTitle:"Instellingen",disableSounds:"Zet geluid uit",enableSounds:"Zet geluid aan",visitor:"Ik",send:"Stuur",textareaPlaceholder:"Typ hier, druk op <enter> om te versturen",typingMsg:"<span>{name}</span> is aan het typen...",transcriptSendingTitle:"Email is verzonden...",transcriptSendedTitle:"Email is succesvol verzonden",rate:"Beoordeel je agent"},login:{title:"Chat login",messageLabel:"Uw vraag",submit:"Begin chat"},offline:{title:"Stuur ons een bericht",notice:"We zijn momenteel niet bereikbaar, maar u kunt een bericht bij ons achterlaten. Wij zullen zo spoedig mogelijk reageren.",
hideTitle:"Verberg chat",name:"Naam",email:"Email",message:"Uw bericht",submit:"Stuur bericht",messageRequiredAlert:"U heeft geen bericht ingevuld",emailRequiredAlert:"U heeft geen email adres ingevuld",emailInvalidAlert:"Onjuist email adres",sendInfo:"Email is aan het versturen...",successTitle:"Bedankt voor uw bericht",successDesc:"Uw bericht is succesvol verstuurd. We nemen contact met u op.",failureTitle:"Fout bij verzenden",failureDesc:"Het versturen van uw bericht is  mislukt",number:"Telefoonnummer"},widget:{online:"Online",away:"Afwezig",offline:"Offline"},banner:{bubble:{text:"We zitten klaar voor uw vragen"},arrow:{title:"Heeft u vragen?",desc:"Wij antwoorden direct"}},button:{title:"Chat"},settings:{title:"Instellingen"},forms:{phoneInvalid:"Voer minimaal 9 nummers in"}}),Locale.inherit("nl","en"),Locale.define("no","app",{messages:{agentjoin:"{name} logget på.",agentleave:"<strong>{name}</strong> logget av.",transfer:"Samtalen er overført til <strong>{name}</strong>",rating:"Chat ble vurdert"
},dialogClose:{title:"Vil du avslutte chatten?",yes:"Ja",no:"Nei",send:"Ja, og send korrespondansen til min e-post"},dialogSend:{title:"Send korrespondansen til min e-post",email:"E-post",yes:"Send",no:"Avbryt"},dialogRating:{title:"Vurdér samtalen ",cancel:"Avbryt",submit:"Sende",commentTitle:"Din kommentar"},online:{title:"Support",infoTitle:"Live chat",infoDesc:"Spør oss om alt",maximize:"Maksimer",minimize:"Minimer",hideTitle:"Skjul chat",closeTitle:"Lukk chat",settingsTitle:"Instillinger",disableSounds:"Slå av lyd",enableSounds:"Slå på lyd ",visitor:"Meg",send:"Send",textareaPlaceholder:"Skriv her, trykk <enter> for å sende",typingMsg:"<span>{name}</span> skriver...",transcriptSendingTitle:"E-post sendt...",transcriptSendedTitle:"E-mailen ble sendt",rate:"Vurder agent"},login:{title:"Chat login",messageLabel:"Ditt spørsmål",submit:"Start chat"},offline:{title:"Send oss en melding",notice:"Vi er desverre ikke online for øyeblikket, men legg igjen en melding til oss og vi kommer tilbake så raskt vi kan.",
hideTitle:"Skjul chat",name:"Navn",email:"E-post",message:"Din melding",submit:"Send melding",messageRequiredAlert:"Du har ikke skrevet en melding.",emailRequiredAlert:"Du har ikke skrevet en e-post.",emailInvalidAlert:"Ugyldig e-post",sendInfo:"E-post blir sendt...",successTitle:"Takk for din melding!",successDesc:"Din e-post ble sendt. Vi kontakter deg så raskt vi kan",failureTitle:"Feil ved sending.",failureDesc:"Vi beklager! Der oppstod en feil ved sending av meldingen.",number:"Telefonnummer"},widget:{online:"Spør oss om alt",away:"Spør oss om alt",offline:"Legg inn en melding",counterMsg:"Du har {count} uleste meldinger"},banner:{bubble:{text:"Vi er klar til å mot dine spørsmål!"},arrow:{title:"Noen spørsmål?",desc:"Vi er klar til å svare."}},button:{title:"Chat"},settings:{title:"Instillinger"}}),Locale.inherit("no","en"),Locale.define("pl","app",{messages:{agentjoin:"{name} dołączył do chatu",agentleave:"{name} opuścił chat",transfer:"Chat przekazany na {name}",rating:"Rozmowa została oceniona"
},dialogClose:{title:"Czy chciałbyś zakończyć chat?",yes:"Tak",no:"Nie",send:"Tak, wyślij chat na e-mail"},dialogSend:{title:"Wyślij chat na e-mail",email:"E-mail",yes:"Wyślij",no:"Anuluj"},dialogRating:{title:"Oceń chat",cancel:"Nie chcę ocenić",submit:"Wyślij",commentTitle:"Twój komentarz"},online:{title:"Wsparcie",infoTitle:"Live chat",infoDesc:"Zapytaj o cokolwiek",maximize:"Powiększ",minimize:"Zmniejsz",hideTitle:"Ukryj chat",closeTitle:"Zakończyć chat",settingsTitle:"Ustawienia",disableSounds:"Wyłącz dźwięk",enableSounds:"Włącz dźwięk",visitor:"Ja",send:"Wyślij",textareaPlaceholder:"Napisz tutaj, naciśnij klawisz <enter>, aby wysłać",typingMsg:"{name} pisze...",transcriptSendingTitle:"Wysyłanie E-maila...",transcriptSendedTitle:"E-mail został wysłany",rate:"Oceń swojego konsultanta"},offline:{title:"Wyślij nam wiadomość",notice:"W tym momencie nie jesteśmy dostępni, ale możesz zostawić wiadomość. Postaramy się odpowiedzieć tak szybko jak to możliwe.",hideTitle:"Ukryj chat",name:"Imię",
email:"E-mail",message:"Twoja wiadomość",submit:"Wyślij wiadomość",messageRequiredAlert:"Brak wiadomości",emailRequiredAlert:"Brak adresu e-mail",emailInvalidAlert:"Nieprawidłowy adres E-mail",sendInfo:"Wysyłanie E-maila...",successTitle:"Dziękuję za wiadomość",successDesc:"Twoja wiadomość została wysłana z powodzeniem. Skontaktujemy się.",failureTitle:"Błąd podczas wysłania",failureDesc:"Twoja wiadomość nie została wysłana",number:"Numer telefonu"},widget:{online:"Online",away:"Zaraz wracam",offline:"Offline"},banner:{bubble:{text:"Jesteśmy gotowi na pytania"},arrow:{title:"Masz jakieś pytania?",desc:"Gotowi do odpowiedzi"}},button:{title:"Chat"},login:{title:"Logowanie do chatu",messageLabel:"Twoje pytanie",submit:"Rozpocznij chat"},settings:{title:"Ustawienia"},forms:{phoneInvalid:"Wpisz co najmniej 9 cyfr"}}),Locale.inherit("pl","en"),Locale.define("pt","app",{messages:{agentjoin:"{name} juntou-se ao chat",agentleave:"{name} abandonou o chat",transfer:"O chat foi transferido para {name}",
rating:"Chat foi avaliado"},dialogClose:{title:"Deseja terminar o chat?",yes:"Sim",no:"Não",send:"Sim, e enviar o chat para o email"},dialogSend:{title:"Enviar o chat para o email",email:"Email",yes:"Enviar",no:"Cancelar"},online:{title:"Suporte",infoTitle:"Chat ao vivo",infoDesc:"Pergunte-nos qualquer coisa",maximize:"Maximizar",minimize:"Minimizar",hideTitle:"Esconder chat",closeTitle:"Fechar chat",settingsTitle:"Configurações",disableSounds:"Desativar sons",enableSounds:"Ativar sons",visitor:"Eu",send:"Enviar",textareaPlaceholder:"Escreva aqui, pressione <enter> para enviar",typingMsg:"{name} está a digitar...",transcriptSendingTitle:"A enviar email...",transcriptSendedTitle:"Email enviado",rate:"Avaliar o agente"},offline:{title:"Envie-nos uma mensagem",notice:"Neste momento não estamos disponíveis, mas pode deixar-nos uma mensagem. Responderemos o mais rapidamente possível.",hideTitle:"Esconder chat",name:"Nome",email:"Email",message:"A sua mensagem",submit:"Enviar mensagem",messageRequiredAlert:"Não inseriu uma mensagem",
emailRequiredAlert:"Não inseriu um email",emailInvalidAlert:"Email inválido",sendInfo:"A enviar email...",successTitle:"Obrigado pela sua mensagem",successDesc:"A sua mensagem foi enviada com sucesso. Entraremos em contato em breve.",failureTitle:"Erro",failureDesc:"A sua mensagem não foi enviada",number:"Telefone"},widget:{online:"Online",away:"Ausente",offline:"Offline"},banner:{bubble:{text:"Estamos prontos para responder às suas questões"},arrow:{title:"Questões?",desc:"Estamos aqui para responder"}},button:{title:"Chat"},dialogRating:{title:"Como avalia o chat?",cancel:"Não quero avaliar",submit:"Enviar",commentTitle:"O seu comentário"},login:{title:"Entrar no chat",messageLabel:"A sua pergunta",submit:"Iniciar chat"},settings:{title:"Configurações"},forms:{phoneInvalid:"Insira pelo menos 9 dígitos"}}),Locale.inherit("pt","en"),Locale.define("ro","app",{messages:{agentjoin:"{name} conectat la chat.",agentleave:"<strong>{name}</strong> deconectat.",transfer:"Chatul a fost transferat la <b>{name}</b>",
rating:"Chatul a fost evaluat"},dialogClose:{title:"Doriți să terminați conversația?",yes:"Da",no:"Nu",send:"Da, trimite conversația prin e-mail"},dialogSend:{title:"Trimite conversația prin e-mail",email:"Adresa de e-mail",yes:"Trimite",no:"Anulare"},dialogRating:{title:"V-a fost de folos conversația?",submit:"Trimite",commentTitle:"Adaugă commentariu",cancel:"Nu vreau să ratăm"},online:{title:"Suport",infoTitle:"Chat live",infoDesc:"Adresați-ne orice întrebări",maximize:"Maximalizați",minimize:"Minimalizați",hideTitle:"Ascunde chatul",closeTitle:"Închide Chatul",settingsTitle:"Setări",disableSounds:"Dezactivare sunete",enableSounds:"Activare sunete",visitor:"Eu",send:"Trimite",textareaPlaceholder:"Scrieți aici și apăsați <enter> pentru a trimite",typingMsg:"<span>{name}</span> tastează..",transcriptSendingTitle:"E-mail trimis...",transcriptSendedTitle:"E-mailul a fost trimis cu succes",rate:"Evaluați agentul"},login:{title:"Autentificare în chat",messageLabel:"Întrebarea dvs.",submit:"Porniți chatul"
},offline:{title:"Trimiteţi-ne un mesaj",notice:"Momentan nu este disponibil nici un operator. Vă rugăm să ne lăsați un mesaj și vom răspunde în cel mai scurt timp posibil.",hideTitle:"Ascunde chatul",name:"Nume",email:"Email",message:"Mesajul tău",submit:"Trimite mesajul",messageRequiredAlert:"Nu ați scris nici un mesaj.",emailRequiredAlert:"Nu ați introdus nici o adresă de e-mail.",emailInvalidAlert:"Adresă de e-mail invalidă",sendInfo:"Se trimite e-mailul...",successTitle:"Mulțumim pentru mesajul tău!",successDesc:"Mesajul tău a fost trimis cu succes. Veți fi contactat în curând.",failureTitle:"Eroare.",failureDesc:"Ne cerem scuze, dar mesajul tău nu a fost trimis.",number:"Numar de telefon"},widget:{away:"Absent",online:"Online",offline:"Offline"},banner:{bubble:{text:"Așteptăm întrebările dvs.!"},arrow:{title:"Aveți întrebări?",desc:"Vă stăm la dispoziție!"}},button:{title:"Chat"},settings:{title:"Setări"}}),Locale.inherit("ro","en"),Locale.define("ru","app",{messages:{agentjoin:"{name} подключился к диалогу.",
agentleave:"<strong>{name}</strong> вышел из диалога.",transfer:"Переключение диалога на консультанта <b>{name}</b>",rating:"Чат был оценен"},dialogClose:{title:"Вы хотите закончить чат?",yes:"Да",no:"Нет",send:"Да, переслать диалог на мой e-mail"},dialogSend:{title:"Переслать диалог на мой e-mail",email:"E-mail",yes:"Отправить",no:"Отменить"},dialogRating:{title:"Пожалуйста, оцените работу консультанта",cancel:"Не хочу ставить оценку",submit:"Отправить",commentTitle:"Ваш комментарий"},online:{title:"Поддержка",infoTitle:"Онлайн консультант",infoDesc:"Задайте любые вопросы",maximize:"Увеличить окно",minimize:"Уменьшить oкнo",hideTitle:"Скрыть чат",closeTitle:"Закрыть чат",settingsTitle:"Настройка",disableSounds:"Отключить звук",enableSounds:"Включить звук",visitor:"Вы",send:"Отправить",textareaPlaceholder:"Введите Ваше сообщение, для отправки нажмите <Enter>",typingMsg:"<span>{name}</span> пишет...",transcriptSendingTitle:"E-mail отправляется...",transcriptSendingDesc:"",transcriptSendedTitle:"E-mail был отправлен",
transcriptSendedDesc:"",rate:"Фактор"},offline:{title:"Напишите нам сообщение",notice:"К сожалению, в данный момент нас нет на месте. Оставьте, пожалуйста, сообщение, и мы с вами обязательно свяжемся.",hideTitle:"Скрыть чат",name:"Имя",email:"Email",message:"Напишите нам сообщение",submit:"Отправить",messageRequiredAlert:"Вы не написали сообщение.",emailRequiredAlert:"Вы не написали e-mail.",emailInvalidAlert:"Недействительный e-mail.",sendInfo:"Email отправляется...",successTitle:"Спасибо за Ваш вопрос!",successDesc:"Ваш вопрос был отправлен. В ближайшее время мы с Вами обязательно свяжемся.",failureTitle:"Ошибка при отправлении",failureDesc:"К сожалению, Ваш вопрос не удалось отправить.",number:"Телефон"},widget:{online:"oнлайн",away:"отсутствует",offline:"oффлайн"},banner:{bubble:{text:"Напишите нам, мы готовы ответить на Ваши вопросы!"},arrow:{title:"У вас есть вопросы?",desc:"Мы готовы ответить"}},button:{title:"чат"},settings:{title:"настройки"},login:{title:"Вход в чат",messageLabel:"Ваш вопрос",
submit:"Начать Чат"}}),Locale.inherit("ru","en"),Locale.define("sk","app",{messages:{agentjoin:"{name} sa pripojil(a) do chatu",agentleave:"{name} sa odpojil(a) z chatu",transfer:"Chat bol presmerovaný na {name}",rating:"Chat bol ohodnotený"},dialogClose:{title:"Prajete si ukončiť chat?",yes:"Áno",no:"Nie",send:"Ano, a chat zaslať na e-mail"},dialogSend:{title:"Odoslať chat na e-mail",email:"E-mail",yes:"Odoslať",no:"Zrušiť"},dialogRating:{title:"Ohodnoťte prácu operátora",cancel:"Nechcem hodnotiť",submit:"Odoslať",commentTitle:"Váš komentár"},online:{title:"Podpora",infoTitle:"Live chat",infoDesc:"Opýtajte sa nás čokoľvek",maximize:"Zväčšiť okno",minimize:"Zmenšiť okno",hideTitle:"Schovať chat",closeTitle:"Ukončiť chat",settingsTitle:"Nastavenia",disableSounds:"Vypnúť zvuky",enableSounds:"Zapnúť zvuky",visitor:"Ja",send:"Odoslať",textareaPlaceholder:"Píšte sem, pre odoslanie stlačte <enter>",typingMsg:"{name} píše...",transcriptSendingTitle:"E-mail sa odosiela...",transcriptSendingDesc:"",
transcriptSendedTitle:"E-mail bol úspešne odoslaný",transcriptSendedDesc:"",rate:"Ohodnoťte operátora"},login:{title:"Zahájenie chatu",messageLabel:"Vaša otázka",submit:"Začať chat"},offline:{title:"Napíšte nám správu",notice:"Momentálne nie sme k dispozícii, ale môžete nám zanechať správu.",hideTitle:"Schovať chat",name:"Meno",email:"E-mail",message:"Napíšte nám správu",submit:"Odoslať správu",messageRequiredAlert:"Nezadali ste žiadnu správu",emailRequiredAlert:"Nezadali ste e-mail",emailInvalidAlert:"Neplatný e-mail",sendInfo:"E-mail sa odosiela...",successTitle:"Ďakujeme za vašu otázku",successDesc:"Vaša správa bola úspešne odoslaná. V blízkej dobe vás budeme kontaktovať.",failureTitle:"Chyba pri odosielaní",failureDesc:"Vašu správu sa nepodarilo odoslať.",number:"Telefón"},widget:{online:"Online",away:"Preč",offline:"Offline"},banner:{bubble:{text:"Máte otázky?"},arrow:{title:"Máte otázky?",desc:"Radi vám poradíme"}},button:{title:"Chat"},settings:{title:"Nastavenie"}}),Locale.inherit("sk","en"),
Locale.define("sl","app",{messages:{agentjoin:"{name} se je pridružil/a pogovoru",agentleave:"{name} je zapustil/a pogovor",transfer:"Pogovor prenesen na {name}",rating:"Pogovor ste ocenili"},dialogClose:{title:"Bi želeli zaključiti pogovor?",yes:"Da",no:"Ne",send:"Da, pošljite mi pogovor na e-pošta"},dialogSend:{title:"Pošljite mi pogovor na e-pošta",email:"E-pošta",yes:"Pošlji",no:"Prekliči"},dialogRating:{title:"Kako bi ocenili pogovor?",cancel:"Ne želim oceniti",submit:"Pošlji",commentTitle:"Vaš komentar"},online:{title:"Podpora",infoTitle:"Live chat",infoDesc:"Vprašajte nas karkoli",maximize:"Povečaj",minimize:"Zmanjšaj",hideTitle:"Skrij pogovor",closeTitle:"Zapri pogovor",settingsTitle:"Nastavitve",disableSounds:"Onemogoči zvok",enableSounds:"Omogoči zvok",visitor:"Jaz",send:"Pošlji",textareaPlaceholder:"Pišite tukaj in pritisnite <enter> za pošiljanje",typingMsg:"{name} tipka...",transcriptSendingTitle:"Pošiljanje emaila...",transcriptSendedTitle:"Pošiljanje e-pošte je uspelo",rate:"Ocenite pogovor"
},login:{title:"Pogovor prijava",messageLabel:"Vaše vprašanje",submit:"Začni pogovor"},offline:{title:"Pošljite nam sporočilo",notice:"Trenutno nismo dosegljivi, vendar nam lahko pustite sporočilo. Kontaktirali vas bomo takoj ko bo mogoče.",hideTitle:"Skrij pogovor",name:"Ime",email:"E-pošta",message:"Vaše sporočilo",submit:"Pošlji sporočilo",messageRequiredAlert:"Niste vnesli sporočila",emailRequiredAlert:"Niste vnesli e-pošta",emailInvalidAlert:"Napačen e-pošta",sendInfo:"Pošiljanje emaila...",successTitle:"Hvala za vaše sporočilo",successDesc:"Vaše sporočilo je bilo uspešno poslano. Kmalu vas bomo kontaktirali.",failureTitle:"Napaka",failureDesc:"Vaše sporočilo ni bilo poslano",number:"Telefon"},widget:{online:"Online",away:"Trenutno nedosegljivi",offline:"Offline"},banner:{bubble:{text:"Pripravljeni smo na vaša vprašanja"},arrow:{title:"Imate vprašanje?",desc:"Na voljo za odgovor"}},button:{title:"Chat"},settings:{title:"Nastavitve"}}),Locale.inherit("sl","en"),Locale.define("sr","app",{
messages:{agentjoin:"{name} priključio/la se u razgovor",agentleave:"{name} napustio/la je razgovor",transfer:"Razgovor je prebačen agentu {name}",rating:"Razgovor je ocenjen"},dialogClose:{title:"Da li želite da prekinite razgovor?",yes:"Da",no:"Ne",send:"Da, i pošaljite mi razgovor na e-mail"},dialogSend:{title:"Pošaljite razgovor na e-mail",email:"E-mail",yes:"Pošaljite",no:"Poništi"},dialogRating:{title:"Kako biste ocenili razgovor?",cancel:"Ne želim da ocenim",submit:"Pošalji",commentTitle:"Vaš komentar"},online:{title:"Podrška",infoTitle:"Uživo podrška",infoDesc:"Slobodno nas pitajte, stojimo vam na raspolaganju",maximize:"Uvećajte",minimize:"Smanjite",hideTitle:"Sakrijte chat",closeTitle:"Zatvorite chat",settingsTitle:"Podešavanja",disableSounds:"Isključi zvuk",enableSounds:"Usključi zvuk",visitor:"Vi",send:"Pošalji",rate:"Ocene agenata",textareaPlaceholder:"Ovde pišite, i pošaljite",typingMsg:"{name} kuca...",transcriptSendingTitle:"Pošaljite e-mail...",transcriptSendingDesc:"",
transcriptSendedTitle:"E-mail je poslat",transcriptSendedDesc:""},login:{title:"Chat logovanje",notice:"",messageLabel:"Vaše pitanje",submit:"Započnite razgovor"},offline:{title:"Pošaljite nam poruku",notice:"Trentutno smo zauzeti, ali vas molimo da nam ostavite poruku. Kontaktiraćemo vas čim budemo u mogućnosti.",hideTitle:"Sakrijte chat",required:"",name:"Ime",email:"E-mail",number:"Broj telefona",message:"Vaša poruka",submit:"Pošaljite poruku",messageRequiredAlert:"Niste uneli poruku",emailRequiredAlert:"Niste uneli e-mail adresu",emailInvalidAlert:"Nepostojeća e-mail adresa",sendInfo:"Šalje e-mail...",successTitle:"Hvala vam",successDesc:"Vaša poruka je uspešno poslata. Kontaktiraćemo vas uskoro",failureTitle:"Greška",failureDesc:"Izvinjavamo se, ali vaša poruka nije poslata."},widget:{online:"Uživo",away:"Odsutan",offline:"Van mreže"},banner:{bubble:{text:"Rado ćemo odgovoriti na sva vaša pitanja"},arrow:{title:"Imate pitanja?",desc:"Rado ćemo odgovoriti na vaša pitanja"}},button:{
title:"Chat"},settings:{title:"Podešavanja"}}),Locale.inherit("sr","en"),Locale.define("sv","app",{messages:{agentjoin:"{name} anslöt sig till chatten",agentleave:"{name} lämnat chatten",transfer:"Chatten var överförd till {name}",rating:"Betyg mottaget"},dialogClose:{title:"Vill du avsluta chatten?",yes:"Ja",no:"Nej",send:"Ja, och skicka chatten till mailen"},dialogSend:{title:"Skicka chatten till mailen",email:"E-post",yes:"Skicka",no:"Ångra"},dialogRating:{title:"Vilket betyg skulle du ge chatten?",cancel:"Jag vill inte betygsätta",submit:"Skicka",commentTitle:"Din kommentar"},online:{title:"Support",infoTitle:"Live chat",infoDesc:"Fråga oss om vad som helst",maximize:"Maximera",minimize:"Minimera",hideTitle:"Göm chat",closeTitle:"Stäng chat",settingsTitle:"Inställningar",disableSounds:"Avaktivera ljud",enableSounds:"Aktivera ljud",visitor:"Jag",send:"Skicka",textareaPlaceholder:"Skriv här, tryck <enter> för att skicka",typingMsg:"{name} skriver...",transcriptSendingTitle:"Skickar mail...",
transcriptSendedTitle:"Mailet skickades korrekt",rate:"Betygsätt supporten"},login:{title:"Chat inloggning",messageLabel:"Din fråga",submit:"Starta chat"},offline:{title:"Skicka oss ett meddelande",notice:"Vi finns inte tillgängliga just nu men du kan lämna ett meddelande till oss. Så kommer vi att kontakta dig så fort vi kan.",hideTitle:"Göm chat",name:"Namn",email:"E-post",message:"Ditt meddelande",submit:"Skicka meddelande",messageRequiredAlert:"Du har inte skrivit något meddelande",emailRequiredAlert:"Du har inte angett någon e-postadress",emailInvalidAlert:"Felaktig e-postadress",sendInfo:"Skickar e-post...",successTitle:"Tack för ditt meddelande",successDesc:"Ditt meddelande skickades korrekt. Vi kommer kontakta dig så fort vi kan.",failureTitle:"Fel",failureDesc:"Ditt meddelande skickades inte",number:"Telefonnummer"},widget:{online:"Inloggad",away:"Borta",offline:"Ej inloggad"},banner:{bubble:{text:"Vi är redo för dina frågor"},arrow:{title:"Några frågor?",desc:"Vi är redo att svara"
}},button:{title:"Chat"},settings:{title:"Inställningar"}}),Locale.inherit("sv","en"),Locale.define("th","app",{messages:{agentjoin:"{name} ได้เข้าร่วมแชทแล้ว",agentleave:"{name} ได้ออกจากแชทแล้ว",transfer:"แชทได้ถูกส่งต่อไปให้คุณ {name}",rating:"แชทได้รับการให้คะแนนแล้ว"},dialogClose:{title:"ท่านต้องการจบการสนทนาหรือไม่",yes:"ใช่",no:"ไม่ใช่",send:"ถูกต้อง, และส่งข้อความในแชทไปที่อีเมล์ด้วย"},dialogSend:{title:"ส่งข้อความในแชทไปที่อีเมล์",email:"อีเมล์",yes:"ส่ง",no:"ยกเลิก"},dialogRating:{title:"ท่านจะให้คะแนะความพึงพอใจสำหรับแชทนี้เท่าไหร่",cancel:"ไม่ต้องการให้คะแนน",submit:"ส่ง",commentTitle:"ความคิดเห็นของท่าน"},online:{title:"ช่วยเหลือ",infoTitle:"Live chat",infoDesc:"สอบถามทีมงาน",maximize:"ขยายหน้าต่าง",minimize:"ย่อหน้าต่าง",hideTitle:"ซ่อนแชท",closeTitle:"ปิดแชท",settingsTitle:"ตั้งค่า",disableSounds:"ปิดเสียง",enableSounds:"เปิดเสียง",visitor:"ฉัน",send:"ส่ง",rate:"ให้คะแนนเจ้าหน้าที่",textareaPlaceholder:"กรุณาเขียนตรงนี้ และกด <enter> เพื่อส่ง",typingMsg:"{ชื่อ} กำลังพิมพ์...",
transcriptSendingTitle:"กำลังส่งอีเมล์",transcriptSendingDesc:"app.online.transcriptSendingDesc",transcriptSendedTitle:"ส่งอีเมล์สำเร็จ",transcriptSendedDesc:"app.online.transcriptSendedDesc"},login:{title:"เข้าสู่ระบบแชท",notice:"",messageLabel:"คำถามของท่าน",submit:"เริ่มแชท"},offline:{title:"ส่งข้อความถึงเรา",notice:"เจ้าหน้าที่ไม่พร้อมให้บริการในตอนนี้ แต่ท่านสามารถฝากข้อความไว้ได้ และเราจะติดต่อกลับหาท่านโดยเร็วที่สุด",hideTitle:"ซ่อนแชท",required:"",name:"ชื่อ",email:"อีเมล์",number:"มือถือ",message:"ข้อความของท่าน",submit:"ส่งข้อความ",messageRequiredAlert:"ท่านยังไม่ได้ใส่ข้อความ",emailRequiredAlert:"ท่านยังไม่ได้ใส่อีเมล์",emailInvalidAlert:"อีเมล์ไม่ถูกต้อง",sendInfo:"กำลังส่งอีเมล์",successTitle:"ขอบคุณที่ส่งข้อความ",successDesc:"ข้อความของท่านได้ส่งสำเร็จแล้ว เราจะติดต่อกลับหาท่านโดยเร็ว",failureTitle:"เกิดข้อผิดพลาด",failureDesc:"ข้อความของท่านยังไม่ได้ถูกส่ง"},widget:{online:"ออนไลน์",away:"ไม่อยู่",offline:"ออฟไลน์"},banner:{bubble:{text:"เราพร้อมแล้ว สำหรับคำถามของท่าน"},
arrow:{title:"ท่านมีคำถามหรือไม่",desc:"เราพร้อมที่จะตอบท่าน"}},button:{title:"Chat"},settings:{title:"ตั้งค่า"}}),Locale.inherit("th","en"),Locale.define("tr","app",{messages:{agentjoin:"{name} katıldı",agentleave:"{name} ayrıldı",transfer:"Diyalog {name} adlı operatöre aktarıldı",rating:"Sohbet Beğenilen"},dialogClose:{title:"Diyaloğu sonlandırmak mı istiyorsunuz?",yes:"Evet",no:"Hayır",send:"Evet ve diyaloğu emailime gönder"},dialogSend:{title:"Diyaloğu emailime gönder",email:"Email",yes:"Gönder",no:"İptal"},dialogRating:{title:"Bu diyalog için kaç verirsiniz?",cancel:"Değerlendirmek istemiyorum",submit:"Gönder",commentTitle:"Yorumunuz"},online:{title:"Destek",infoTitle:"Live chat",infoDesc:"Yardıma ihtiyacınız var mı?",maximize:"Büyüt",minimize:"Küçült",hideTitle:"Diyaloğu gizle",closeTitle:"Diyaloğu kapat",settingsTitle:"Ayarlar",disableSounds:"Sesli bildirimi devre dışı bırak",enableSounds:"Sesli bildirimi etkinleştir",visitor:"Ben",send:"Gönder",textareaPlaceholder:"Mesajınızı yazın ve göndermek için klavyeden <enter> tuşuna basın",
typingMsg:"<span>{name}</span> yazıyor...",transcriptSendingTitle:"Mail gönderiliyor...",transcriptSendedTitle:"Email gönderimi başarılı",rate:"Oran ajanı"},login:{title:"Diyalog girişi",messageLabel:"Sorunuz",submit:"Diyaloğu başlat"},offline:{title:"Mesaj bırakmak ister misiniz?",notice:"Şu anda mesai dışındayız ancak mesajınızı iletebilirsiniz. Mümkün olan en kısa süre içinde yanıtlanacağından emin olunuz.",hideTitle:"Diyaloğu gizle",name:"Adınız",email:"Email adresiniz",message:"Mesajınız",submit:"Gönder",messageRequiredAlert:"Mesajınızı yazmadınız.",emailRequiredAlert:"Email adresinizi girmediniz.",emailInvalidAlert:"Email adresinizde hata var",sendInfo:"Email gönderiliyor...",successTitle:"Mesajınız için teşekkürler",successDesc:"Mesajınız gönderildi. Yakında görüşmek dileğiyle.",failureTitle:"Hata",failureDesc:"Mesajınız gönderilemedi.",number:"İletişim numaranız"},widget:{online:"Çevrimiçi",away:"Moladayız",offline:"Çevrimdışı"},banner:{bubble:{text:"Sorularınızı bekliyoruz"},arrow:{
title:"Nasıl yardımcı olabilir?",desc:"Yanıtlamaya hazırız"}},button:{title:"Chat"},settings:{title:"Ayarlar"}}),Locale.inherit("tr","en"),Locale.define("tw","app",{messages:{agentjoin:"{name} 加入對話",agentleave:"{name} 離開對話",transfer:"對話已移轉至 {name}",rating:"聊天被評為"},dialogClose:{title:"您要結束對話？",yes:"是",no:"否",send:"是，請將對話傳送至Email信箱。"},dialogSend:{title:"對話傳送至Email信箱",email:"Email",yes:"發送",no:"取消"},dialogRating:{title:"本次對話，您給予多少評分？",cancel:"略過評分",submit:"發送",commentTitle:"您的問題"},online:{title:"線上客服",infoTitle:"線上對話",infoDesc:"歡迎提問",maximize:"增加",minimize:"減少",hideTitle:"隱藏對話視窗",closeTitle:"關閉對話視窗",settingsTitle:"設定",disableSounds:"關閉提醒鈴聲",enableSounds:"開啟提醒鈴聲",visitor:"我",send:"發送",textareaPlaceholder:"在此輸入您的訊息，輸入後請按<發送>鍵。",typingMsg:"<span>{name}</span> 正在輸入...",transcriptSendingTitle:"發送Email...",transcriptSendedTitle:"Email已送出",rate:"速率代理"},login:{title:"登入對話",messageLabel:"您的問題",submit:"開始對話"},offline:{title:"請留下您的訊息",notice:"由於客服人員目前不在線上，請留下您的聯絡方式，我們將盡速與您聯繫！",hideTitle:"隱藏對話視窗",name:"姓名",
email:"Email",message:"您的訊息",submit:"發送",messageRequiredAlert:"您尚未輸入任何訊息",emailRequiredAlert:"您尚未輸入您的Email",emailInvalidAlert:"無效的Email信箱",sendInfo:"發送Email...",successTitle:"謝謝您的訊息",successDesc:"您的訊息已送出，我們將盡速與您聯繫！",failureTitle:"錯誤",failureDesc:"抱歉，您的訊息未送出！",number:"電話"},widget:{online:"線上",away:"離開",offline:"離線"},banner:{bubble:{text:"歡迎隨時提問"},arrow:{title:"您有什麼疑問？",desc:"我們隨時為您解答"}},button:{title:"線上對話"},settings:{title:"設定"}}),Locale.inherit("tw","en"),Locale.define("uk","app",{messages:{agentjoin:"{name} приєднався до розмови",agentleave:"{name} залишив чат",transfer:"Чат було передано {name}",rating:"Чат був оцінений"},dialogClose:{title:"Бажаєте закінчити розмову?",yes:"Так",no:"Ні",send:"Так, та надіслати зміст чату на e-mail"},dialogSend:{title:"Надіслати розмову на e-mail",email:"E-mail",yes:"Надіслати",no:"Відмінити"},dialogRating:{title:"Як би Ви оцінили чат?",cancel:"Я не хочу давати оцінку",submit:"Надіслати",commentTitle:"Ваш коментар"},online:{title:"Підтримка",infoTitle:"Живий чат",
infoDesc:"Запитайтесь нас про що завгодно",maximize:"Максимілізувати",minimize:"Мінімілізувати",hideTitle:"Приховати чат",closeTitle:"Закрити чат",settingsTitle:"Налаштування",disableSounds:"Відключити звуки",enableSounds:"Включити звуки",visitor:"Я",send:"Надіслати",textareaPlaceholder:"Напишіть та натисніть <enter> щоб відіслати",typingMsg:"{name} пише...",transcriptSendingTitle:"Надсилання e-mail...",transcriptSendedTitle:"E-mail успішно надіслано",rate:"Оцінити агента"},login:{title:"Увійти в чат",messageLabel:"Ваше запитання",submit:"Почати чат"},offline:{title:"Надішліть нам повідомлення",notice:"Нас нема на місці в даний момент, проте Ви можете залишити нам повідомлення. Ми відповімо, як тільки це буде можливо.",hideTitle:"Приховати чат",name:"Ім'я",email:"E-mail",message:"Ваше повідомлення",submit:"Надіслати повідомлення",messageRequiredAlert:"Ви не ввели повідомлення",emailRequiredAlert:"Ви не ввели e-mail адресу",emailInvalidAlert:"Неправильний e-mail",sendInfo:"Надсилання e-mail...",
successTitle:"Дякуємо за Ваше повідомлення",successDesc:"Ваше повідомлення було успішно надіслано. Незабаром ми з Вами зв'яжемось.",failureTitle:"Помилка",failureDesc:"Ваше повідомлення не було надіслано.",number:"Телефон"},widget:{online:"Онлайн",away:"Нема на місці",offline:"Оффлайн"},banner:{bubble:{text:"Ми готові до Ваших запитань"},arrow:{title:"Маєте запитання?",desc:"Ми готові відповісти"}},button:{title:"чат"},settings:{title:"Налаштування"}}),Locale.inherit("uk","en"),Locale.define("cs","events",{visitorSendMessageAction:"Návštěvník napsal zprávu",visitorSendMessageLabel:"návštěvník napsal zprávu",operatorSendMessageAction:"Operátor napsal zprávu",operatorSendMessageLabel:"{name} napsal(a) zprávu",triggerSendMessageAction:"Trigger napsal zprávu",triggerSendMessageLabel:"trigger {trigger} napsal",visitorReplyTriggerAction:"Návštěvník odpověděl na trigger",visitorReplyTriggerLabel:"návštěvník odpověděl na trigger {trigger}",conversationByOperatorAction:"Konverzace",conversationByOperatorLabel:"{name} zahájil(a) chat",
conversationByVisitorAction:"Konverzace",conversationByVisitorLabel:"návštěvník zahájil chat s {name}",conversationByTriggerAction:"Konverzace",conversationByTriggerLabel:"{name} chatoval(a) pomocí triggeru",closeChatAction:"Ukončení chatu",closeChatLabel:"{type}"}),Locale.inherit("cs","en"),Locale.define("en","events",{visitorSendMessageAction:"Visitor sent a message",visitorSendMessageLabel:"visitor sent a message",operatorSendMessageAction:"Agent sent a message",operatorSendMessageLabel:"{name} sent a message",triggerSendMessageAction:"Trigger sent",triggerSendMessageLabel:"trigger {trigger} wrote",visitorReplyTriggerAction:"Visitor replied to a trigger",visitorReplyTriggerLabel:"visitor replied to a trigger {trigger}",conversationByOperatorAction:"Conversation",conversationByOperatorLabel:"{name} started a chat",conversationByVisitorAction:"Conversation",conversationByVisitorLabel:"visitor started a chat with {name}",conversationByTriggerAction:"Conversation",conversationByTriggerLabel:"{name} was chatting by a trigger",
closeChatAction:"Close chat",closeChatLabel:"{type}"}),Locale.define("cs","plugins",{autoclose:{description:"Pokud nenapíšete žádnou zprávu v průběhu tohoto času, chat bude automaticky ukončen.",emptyText:"Pokud nenapíšete žádnou zprávu v průběhu 5 min, chat bude automaticky ukončen.",closedIdleText:"Poslední komunikace byla ukončena z důvodu neaktivity."}}),Locale.inherit("cs","en");